<?xml version="1.0"?>
<!--Generated by an XSL stylesheet.  Do not edit!-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta http-equiv="Expires" content="Mon, 10 Jan 2000 12:00:00 GMT"/><style type="text/css">
    p.flushtop     { margin-top: 0px; }
    p.flushbottom  { margin-bottom: 0px; }
    p.flush        { margin-top: 0px;
                     margin-bottom: 0px; }
    h1             { margin-top: 0px;
                     font-weight: bold;
                     font-size: large; }
    h2             { margin-top: 0px;
                     font-weight: bold;
                     font-size: medium; }
    body           { color: black;
                     background-color: white; }
    img.noborder   { border-width: 0px; }
    table.title    { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E4E4C2; }
    table.item     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #F4F4E0; }
    table.notes    { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.comment  { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.code     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E0F4E0; }
    table.contents { border-width: 0px; 
                     color: black;
                     background-color: #FFFFFF; }
    span.red       { color: red; }
    span.orange    { color: orange; }
    span.purple    { color: purple; }
    span.blue      { color: blue; }
    span.brown     { color: brown; }
    span.green     { color: lime; }
    span.hilight   { background-color: #E4E4C2; }
  </style><title>SE450: Horstmann Chapter 1</title></head><body><h1><a href="../index.html">SE450</a>: Horstmann Chapter 1</h1><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide000">Contents</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-000.html"> [0/63] </a></span></td></tr></table><p> </p><table width="100%" cellpadding="0" cellspacing="0" class="contents"><tr><td><a href="#slide001">Object-Oriented Design &amp; Patterns</a> [1/63] </td></tr><tr><td><a href="#slide002">Chapter Topics</a> [2/63] </td></tr><tr><td><a href="#slide003">Frameworks</a> [3/63] </td></tr><tr><td><a href="#slide004">Application Frameworks</a> [4/63] </td></tr><tr><td><a href="#slide005">Applets</a> [5/63] </td></tr><tr><td><a href="#slide006">Applets</a> [6/63] </td></tr><tr><td><a href="#slide007">Applets</a> [7/63] </td></tr><tr><td><a href="#slide008">Example Applet</a> [8/63] </td></tr><tr><td><a href="#slide009">Example Applet</a> [9/63] </td></tr><tr><td><a href="#slide010">Applets as a Framework</a> [10/63] </td></tr><tr><td><a href="#slide011">Collections Framework</a> [11/63] </td></tr><tr><td><a href="#slide012">Collections Framework: Interface Types</a> [12/63] </td></tr><tr><td><a href="#slide013">Collections Framework: Classes</a> [13/63] </td></tr><tr><td><a href="#slide014">Collections Framework</a> [14/63] </td></tr><tr><td><a href="#slide015">Collection&lt;E&gt; Interface Type</a> [15/63] </td></tr><tr><td><a href="#slide016">Iterator&lt;E&gt; Interface Type</a> [16/63] </td></tr><tr><td><a href="#slide017">AbstractCollection Class</a> [17/63] </td></tr><tr><td><a href="#slide018">AbstractCollection Class</a> [18/63] </td></tr><tr><td><a href="#slide019">Adding a new Class to the Framework</a> [19/63] </td></tr><tr><td><a href="#slide020">Adding a new Class to the Framework</a> [20/63] </td></tr><tr><td><a href="#slide021">Sets</a> [21/63] </td></tr><tr><td><a href="#slide022">Lists</a> [22/63] </td></tr><tr><td><a href="#slide023">List Iterators</a> [23/63] </td></tr><tr><td><a href="#slide024">List Classes </a> [24/63] </td></tr><tr><td><a href="#slide025">List Classes </a> [25/63] </td></tr><tr><td><a href="#slide026">Optional Operations</a> [26/63] </td></tr><tr><td><a href="#slide027">Views</a> [27/63] </td></tr><tr><td><a href="#slide028">Views</a> [28/63] </td></tr><tr><td><a href="#slide029">Graph Editor Framework</a> [29/63] </td></tr><tr><td><a href="#slide030">Graph Editor Framework</a> [30/63] </td></tr><tr><td><a href="#slide031">User Interface</a> [31/63] </td></tr><tr><td><a href="#slide032">User Interface</a> [32/63] </td></tr><tr><td><a href="#slide033">Mouse Operations</a> [33/63] </td></tr><tr><td><a href="#slide034">Division of Responsibility</a> [34/63] </td></tr><tr><td><a href="#slide035">Adding Nodes and Edges</a> [35/63] </td></tr><tr><td><a href="#slide036">Adding Nodes and Edges</a> [36/63] </td></tr><tr><td><a href="#slide037">PROTOTYPE Pattern</a> [37/63] </td></tr><tr><td><a href="#slide038">PROTOTYPE Pattern</a> [38/63] </td></tr><tr><td><a href="#slide039">PROTOTYPE Pattern</a> [39/63] </td></tr><tr><td><a href="#slide040">Framework Classes</a> [40/63] </td></tr><tr><td><a href="#slide041">Node Connection Points</a> [41/63] </td></tr><tr><td><a href="#slide042">Framework Classes</a> [42/63] </td></tr><tr><td><a href="#slide043">Framework Classes</a> [43/63] </td></tr><tr><td><a href="#slide044">Framework UI Classes</a> [44/63] </td></tr><tr><td><a href="#slide045">A Framework Instance</a> [45/63] </td></tr><tr><td><a href="#slide046">Programmer responsibilities</a> [46/63] </td></tr><tr><td><a href="#slide047">A Framework Instance</a> [47/63] </td></tr><tr><td><a href="#slide048">A Framework Instance</a> [48/63] </td></tr><tr><td><a href="#slide049">Generic Framework Code</a> [49/63] </td></tr><tr><td><a href="#slide050">Add New Node</a> [50/63] </td></tr><tr><td><a href="#slide051">Add New Node</a> [51/63] </td></tr><tr><td><a href="#slide052">Add New Edge</a> [52/63] </td></tr><tr><td><a href="#slide053">Add New Edge</a> [53/63] </td></tr><tr><td><a href="#slide054">Add New Edge</a> [54/63] </td></tr><tr><td><a href="#slide055">Enhancing the Framework</a> [55/63] </td></tr><tr><td><a href="#slide056">Enhancing the Framework</a> [56/63] </td></tr><tr><td><a href="#slide057">Enhancing the Framework</a> [57/63] </td></tr><tr><td><a href="#slide058">Using the Framework Enhancement</a> [58/63] </td></tr><tr><td><a href="#slide059">Another Framework Instance</a> [59/63] </td></tr><tr><td><a href="#slide060">Another Framework Instance</a> [60/63] </td></tr><tr><td><a href="#slide061">Edge Properties</a> [61/63] </td></tr><tr><td><a href="#slide062">Enhancing the Framework II</a> [62/63] </td></tr><tr><td><a href="#slide063">Enhancing the Framework II</a> [63/63] </td></tr></table><br/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide001">Object-Oriented Design &amp; Patterns</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-001.html"> [1/63] </a></span></td></tr></table><p> </p>
        <h4 xmlns="">Cay S. Horstmann</h4>
        <h3 xmlns="">Chapter 8</h3>
        <h3 xmlns="">Frameworks</h3>
        <img alt="horstmann-oodp2" src="../images/horstmann-oodp2.jpg" height="500" width="404"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide002">Chapter Topics</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-002.html"> [2/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Frameworks </li>
          <li>Applets as a simple framework </li>
          <li>The collections framework </li>
          <li>A graph editor framework </li>
          <li>Enhancing the graph editor framework<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide003">Frameworks</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-003.html"> [3/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Set of cooperating classes </li>
          <li>Structures the essential mechanisms of a problem domain </li>
          <li>Example: Swing is a GUI framework </li>
          <li>Framework != design pattern </li>
          <li>Typical framework uses multiple design patterns </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide004">Application Frameworks</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-004.html"> [4/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Implements services common to a type of applications </li>
          <li>Programmer forms subclasses of framework classes </li>
          <li>Result is an application </li>
          <li>Inversion of control: framework controls execution flow </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide005">Applets</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-005.html"> [5/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Applet: Java program that runs in a web browser </li>
          <li>Programmer forms subclass of <tt>Applet</tt> or <tt>JApplet</tt>
          </li>
          <li>Overwrites<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>init/destroy<br xmlns="http://www.w3.org/1999/xhtml"/>
              start/stop<br xmlns="http://www.w3.org/1999/xhtml"/>
              paint</tt> </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide006">Applets</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-006.html"> [6/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_01.jpg" height="661" width="987"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide007">Applets</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-007.html"> [7/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Interacts with ambient browser<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>getParameter<br xmlns="http://www.w3.org/1999/xhtml"/>
              showDocument</tt> </li>
          <li>HTML page contains applet tag and parameters<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">&lt;applet code="BannerApplet.class" width="300" height="100"&gt; <br xmlns="http://www.w3.org/1999/xhtml"/>   &lt;param name="message" value="Hello, World!"/&gt; <br xmlns="http://www.w3.org/1999/xhtml"/>   &lt;param name="fontname" value="Serif"/&gt; <br xmlns="http://www.w3.org/1999/xhtml"/>   &lt;param name="fontsize" value="64"/&gt; <br xmlns="http://www.w3.org/1999/xhtml"/>   &lt;param name="delay" value="10"/&gt; <br xmlns="http://www.w3.org/1999/xhtml"/>&lt;/applet&gt; <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide008">Example Applet</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-008.html"> [8/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Shows scrolling banner </li>
          <li><tt>init</tt> reads parameters </li>
          <li><tt>start/stop</tt> start and stop timer </li>
          <li><tt>paint</tt> paints the applet surface </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_applet/BannerApplet_java.html">file:horstmann/ch08_applet/BannerApplet.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_applet/BannerApplet.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_applet/BannerApplet.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_applet/BannerApplet.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_applet<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>applet<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>font<span style="color: #990000">.*;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00008:</span> 
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">BannerApplet</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Applet
<span style="color: #000000">00010:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">init</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00012:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>       message <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">getParameter</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"message"</span><span style="color: #990000">);</span>
<span style="color: #000000">00014:</span>       <span style="color: #008080">String</span> fontname <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">getParameter</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"fontname"</span><span style="color: #990000">);</span>
<span style="color: #000000">00015:</span>       <span style="color: #009900">int</span> fontsize <span style="color: #990000">=</span> Integer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">parseInt</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">getParameter</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"fontsize"</span><span style="color: #990000">));</span>
<span style="color: #000000">00016:</span>       delay <span style="color: #990000">=</span> Integer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">parseInt</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">getParameter</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"delay"</span><span style="color: #990000">));</span>
<span style="color: #000000">00017:</span>       font <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Font</span></span><span style="color: #990000">(</span>fontname<span style="color: #990000">,</span> Font<span style="color: #990000">.</span>PLAIN<span style="color: #990000">,</span> fontsize<span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>       <span style="color: #008080">Graphics2D</span> g2 <span style="color: #990000">=</span> <span style="color: #990000">(</span>Graphics2D<span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #000000">getGraphics</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00019:</span>       <span style="color: #008080">FontRenderContext</span> context <span style="color: #990000">=</span> g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getFontRenderContext</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00020:</span>       bounds <span style="color: #990000">=</span> font<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getStringBounds</span></span><span style="color: #990000">(</span>message<span style="color: #990000">,</span> context<span style="color: #990000">);</span>
<span style="color: #000000">00021:</span>       
<span style="color: #000000">00022:</span>       timer <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Timer</span></span><span style="color: #990000">(</span>delay<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00023:</span>          <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00024:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00026:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>                start<span style="color: #990000">--;</span>
<span style="color: #000000">00028:</span>                <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>start <span style="color: #990000">+</span> bounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">()</span> <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> 
<span style="color: #000000">00029:</span>                   start <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00030:</span>                <span style="font-weight: bold"><span style="color: #000000">repaint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00031:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00032:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> 
<span style="color: #000000">00035:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">start</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00036:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>       timer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">start</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00038:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span> 
<span style="color: #000000">00040:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">stop</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00041:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00042:</span>       timer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">stop</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00043:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00044:</span> 
<span style="color: #000000">00045:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">paint</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">)</span>
<span style="color: #000000">00046:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00047:</span>       g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setFont</span></span><span style="color: #990000">(</span>font<span style="color: #990000">);</span>
<span style="color: #000000">00048:</span>       g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">drawString</span></span><span style="color: #990000">(</span>message<span style="color: #990000">,</span> start<span style="color: #990000">,</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span> <span style="color: #990000">-</span>bounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00049:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00050:</span> 
<span style="color: #000000">00051:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Timer</span> timer<span style="color: #990000">;</span>
<span style="color: #000000">00052:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> start<span style="color: #990000">;</span>
<span style="color: #000000">00053:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> delay<span style="color: #990000">;</span>
<span style="color: #000000">00054:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">String</span> message<span style="color: #990000">;</span>
<span style="color: #000000">00055:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Font</span> font<span style="color: #990000">;</span>
<span style="color: #000000">00056:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Rectangle2D</span> bounds<span style="color: #990000">;</span>
<span style="color: #000000">00057:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00058:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide009">Example Applet</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-009.html"> [9/63] </a></span></td></tr></table><p> </p>
        <img alt="" src="../images/horstmann-08_02.png" height="279" width="378"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide010">Applets as a Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-010.html"> [10/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Applet programmer uses inheritance </li>
          <li>Applet class deals with generic behavior (browser interaction) </li>
          <li>Inversion of control: applet calls <tt>init</tt>, <tt>start</tt>,<tt>stop</tt>,<tt>destroy</tt>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide011">Collections Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-011.html"> [11/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Java library supplies standard data structures </li>
          <li>Supplies useful services (e.g. <tt>Collections.sort</tt>, <tt>Collections.shuffle</tt>)
          </li>
          <li>Framework: Programmers can supply additional data structures,
            services </li>
          <li>New data structures automatically work with services </li>
          <li>New services automatically work with data structures </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide012">Collections Framework: Interface Types</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-012.html"> [12/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>Collection</tt>: the most general collection interface
            type  <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>Set</tt>: an unordered collection that does not permit
            duplicate elements  <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>SortedSet</tt>: a set whose elements are visited in sorted
            order  <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>List</tt>: an ordered collection </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide013">Collections Framework: Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-013.html"> [13/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>HashSet</tt>: a set implementation that uses hashing to
            locate the set elements  <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>TreeSet</tt>: a sorted set implementation that stores the
            elements in a balanced binary tree  <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>LinkedList</tt> and <tt>ArrayList</tt>: two implementations
            of the List interface type<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide014">Collections Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-014.html"> [14/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_03.jpg" height="431" width="783"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide015">Collection&lt;E&gt; Interface Type</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-015.html"> [15/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Collection holds elements in some way </li>
          <li>Different data structures have different storage strategies </li>
        </ul>
        <pre xmlns="" xml:space="preserve">boolean add(E obj) <br xmlns="http://www.w3.org/1999/xhtml"/>boolean addAll(Collection c) <br xmlns="http://www.w3.org/1999/xhtml"/>void clear() <br xmlns="http://www.w3.org/1999/xhtml"/>boolean contains(E obj) <br xmlns="http://www.w3.org/1999/xhtml"/>boolean containsAll(Collection c) <br xmlns="http://www.w3.org/1999/xhtml"/>boolean equals(E obj) <br xmlns="http://www.w3.org/1999/xhtml"/>int hashCode() <br xmlns="http://www.w3.org/1999/xhtml"/>boolean isEmpty() <br xmlns="http://www.w3.org/1999/xhtml"/>Iterator iterator() <br xmlns="http://www.w3.org/1999/xhtml"/>boolean remove(E obj) <br xmlns="http://www.w3.org/1999/xhtml"/>boolean removeAll(Collection c) <br xmlns="http://www.w3.org/1999/xhtml"/>boolean retainAll(Collection c) <br xmlns="http://www.w3.org/1999/xhtml"/>int size() <br xmlns="http://www.w3.org/1999/xhtml"/>E[] toArray() <br xmlns="http://www.w3.org/1999/xhtml"/>E[] toArray(E[] a) <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide016">Iterator&lt;E&gt; Interface Type</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-016.html"> [16/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Iterator traverses elements of collection </li>
        </ul>
        <tt xmlns="">boolean hasNext()<br xmlns="http://www.w3.org/1999/xhtml"/>
          E next()<br xmlns="http://www.w3.org/1999/xhtml"/>
          void remove()<br xmlns="http://www.w3.org/1999/xhtml"/>
        </tt>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide017">AbstractCollection Class</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-017.html"> [17/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>Collection</tt> is a hefty interface </li>
          <li>Convenient for clients, inconvenientfor implementors<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Many methods can be implemented from others (Template method!) </li>
          <li>Example: <tt>toArray<br xmlns="http://www.w3.org/1999/xhtml"/>
            </tt> </li>
        </ul>
        <tt xmlns="">public E[] toArray()<br xmlns="http://www.w3.org/1999/xhtml"/>
          {<br xmlns="http://www.w3.org/1999/xhtml"/>
             E[] result = new E[size()];<br xmlns="http://www.w3.org/1999/xhtml"/>
             Iterator e = iterator();<br xmlns="http://www.w3.org/1999/xhtml"/>
             for (int i = 0; e.hasNext(); i++)<br xmlns="http://www.w3.org/1999/xhtml"/>
                result[i] = e.next();<br xmlns="http://www.w3.org/1999/xhtml"/>
             return result;<br xmlns="http://www.w3.org/1999/xhtml"/>
          }</tt>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide018">AbstractCollection Class</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-018.html"> [18/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Can't place template methods in interface </li>
          <li>Place them in <tt>AbstractCollection</tt> class<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>AbstractCollection</tt> convenient superclass for
            implementors </li>
          <li>Only two methods undefined: <tt>size</tt>,<tt>iterator</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide019">Adding a new Class to the Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-019.html"> [19/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Use queue from chapter 3 </li>
          <li>Supply an iterator (with do-nothing <tt>remove</tt> method) </li>
          <li><tt>add</tt> method always returns <tt>true</tt> </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_queue/BoundedQueue_java.html">file:horstmann/ch08_queue/BoundedQueue.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_queue/BoundedQueue.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_queue/BoundedQueue.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_queue/BoundedQueue.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_queue<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> 
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">    A first-in, first-out bounded collection of objects.</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">BoundedQueue</span><span style="color: #990000">&lt;</span>E<span style="color: #990000">&gt;</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> AbstractCollection<span style="color: #990000">&lt;</span>E<span style="color: #990000">&gt;</span>
<span style="color: #000000">00008:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">       Constructs an empty queue.</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> capacity the maximum capacity of the queue</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@precondition</span><span style="font-style: italic"><span style="color: #9A1900"> capacity &gt; 0</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00014:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">BoundedQueue</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> capacity<span style="color: #990000">)</span>
<span style="color: #000000">00015:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>       elements <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>E<span style="color: #990000">&gt;(</span>capacity<span style="color: #990000">);</span>
<span style="color: #000000">00017:</span>       count <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>       head <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>       tail <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> 
<span style="color: #000000">00022:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Iterator&lt;E&gt;</span> <span style="font-weight: bold"><span style="color: #000000">iterator</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00023:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00025:</span>          Iterator<span style="color: #990000">&lt;</span>E<span style="color: #990000">&gt;()</span>
<span style="color: #000000">00026:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">hasNext</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00028:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> visited <span style="color: #990000">&lt;</span> count<span style="color: #990000">;</span>
<span style="color: #000000">00030:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span> 
<span style="color: #000000">00032:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">E</span> <span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00033:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00034:</span>                <span style="color: #009900">int</span> index <span style="color: #990000">=</span> <span style="color: #990000">(</span>head <span style="color: #990000">+</span> visited<span style="color: #990000">)</span> <span style="color: #990000">%</span> elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00035:</span>                <span style="color: #008080">E</span> r <span style="color: #990000">=</span> elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>index<span style="color: #990000">);</span>
<span style="color: #000000">00036:</span>                visited<span style="color: #990000">++;</span>
<span style="color: #000000">00037:</span>                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> r<span style="color: #990000">;</span>
<span style="color: #000000">00038:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span> 
<span style="color: #000000">00040:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00041:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00042:</span>                <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">UnsupportedOperationException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00043:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00044:</span> 
<span style="color: #000000">00045:</span>             <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> visited <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00046:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00047:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span> 
<span style="color: #000000">00049:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00050:</span> <span style="font-style: italic"><span style="color: #9A1900">       Remove object at head.</span></span>
<span style="color: #000000">00051:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the object that has been removed from the queue</span></span>
<span style="color: #000000">00052:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@precondition</span><span style="font-style: italic"><span style="color: #9A1900"> size() &gt; 0</span></span>
<span style="color: #000000">00053:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00054:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">E</span> <span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00055:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00056:</span>       <span style="color: #008080">E</span> r <span style="color: #990000">=</span> elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>head<span style="color: #990000">);</span>
<span style="color: #000000">00057:</span>       head <span style="color: #990000">=</span> <span style="color: #990000">(</span>head <span style="color: #990000">+</span> <span style="color: #993399">1</span><span style="color: #990000">)</span> <span style="color: #990000">%</span> elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00058:</span>       count<span style="color: #990000">--;</span>
<span style="color: #000000">00059:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> r<span style="color: #990000">;</span>
<span style="color: #000000">00060:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00061:</span> 
<span style="color: #000000">00062:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00063:</span> <span style="font-style: italic"><span style="color: #9A1900">       Append an object at tail.</span></span>
<span style="color: #000000">00064:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> anObject the object to be appended</span></span>
<span style="color: #000000">00065:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> true since this operation modifies the queue.</span></span>
<span style="color: #000000">00066:</span> <span style="font-style: italic"><span style="color: #9A1900">       (This is a requirement of the collections framework.)</span></span>
<span style="color: #000000">00067:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@precondition</span><span style="font-style: italic"><span style="color: #9A1900"> !isFull()</span></span>
<span style="color: #000000">00068:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00069:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #008080">E</span> anObject<span style="color: #990000">)</span>
<span style="color: #000000">00070:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00071:</span>       elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">set</span></span><span style="color: #990000">(</span>tail<span style="color: #990000">,</span>anObject<span style="color: #990000">);</span>
<span style="color: #000000">00072:</span>       tail <span style="color: #990000">=</span> <span style="color: #990000">(</span>tail <span style="color: #990000">+</span> <span style="color: #993399">1</span><span style="color: #990000">)</span> <span style="color: #990000">%</span> elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00073:</span>       count<span style="color: #990000">++;</span>
<span style="color: #000000">00074:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00075:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00076:</span> 
<span style="color: #000000">00077:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00078:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00079:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> count<span style="color: #990000">;</span>
<span style="color: #000000">00080:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00081:</span> 
<span style="color: #000000">00082:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00083:</span> <span style="font-style: italic"><span style="color: #9A1900">       Checks whether this queue is full.</span></span>
<span style="color: #000000">00084:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> true if the queue is full</span></span>
<span style="color: #000000">00085:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00086:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">isFull</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00087:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00088:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> count <span style="color: #990000">==</span> elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00089:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00090:</span> 
<span style="color: #000000">00091:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00092:</span> <span style="font-style: italic"><span style="color: #9A1900">       Gets object at head.</span></span>
<span style="color: #000000">00093:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the object that is at the head of the queue</span></span>
<span style="color: #000000">00094:</span> <span style="font-style: italic"><span style="color: #9A1900">       </span></span><span style="color: #009900">@precondition</span><span style="font-style: italic"><span style="color: #9A1900"> size() &gt; 0</span></span>
<span style="color: #000000">00095:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00096:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">E</span> <span style="font-weight: bold"><span style="color: #000000">peek</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00097:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00098:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> elements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>head<span style="color: #990000">);</span>
<span style="color: #000000">00099:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00100:</span> 
<span style="color: #000000">00101:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;E&gt;</span> elements<span style="color: #990000">;</span>
<span style="color: #000000">00102:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> head<span style="color: #990000">;</span>
<span style="color: #000000">00103:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> tail<span style="color: #990000">;</span>
<span style="color: #000000">00104:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> count<span style="color: #990000">;</span>
<span style="color: #000000">00105:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00106:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_queue/QueueTester_java.html">file:horstmann/ch08_queue/QueueTester.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_queue/QueueTester.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_queue/QueueTester.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_queue/QueueTester.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_queue<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> 
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">QueueTester</span>
<span style="color: #000000">00005:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span>
<span style="color: #000000">00007:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>       <span style="color: #008080">BoundedQueue&lt;String&gt;</span> q <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> BoundedQueue<span style="color: #990000">&lt;</span>String<span style="color: #990000">&gt;(</span><span style="color: #993399">10</span><span style="color: #990000">);</span>
<span style="color: #000000">00009:</span> 
<span style="color: #000000">00010:</span>       q<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Belgium"</span><span style="color: #990000">);</span>
<span style="color: #000000">00011:</span>       q<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Italy"</span><span style="color: #990000">);</span>
<span style="color: #000000">00012:</span>       q<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"France"</span><span style="color: #990000">);</span>
<span style="color: #000000">00013:</span>       q<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00014:</span>       q<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Thailand"</span><span style="color: #990000">);</span>
<span style="color: #000000">00015:</span> 
<span style="color: #000000">00016:</span>       <span style="color: #008080">ArrayList&lt;String&gt;</span> a <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>String<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00017:</span>       a<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addAll</span></span><span style="color: #990000">(</span>q<span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>       System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Result of bulk add: "</span> <span style="color: #990000">+</span> a<span style="color: #990000">);</span>
<span style="color: #000000">00019:</span>       System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Minimum: "</span> <span style="color: #990000">+</span> Collections<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">min</span></span><span style="color: #990000">(</span>q<span style="color: #990000">));</span>
<span style="color: #000000">00020:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide020">Adding a new Class to the Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-020.html"> [20/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_04.jpg" height="525" width="147"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide021">Sets</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-021.html"> [21/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>Set</tt> interface adds no methods to <tt>Collection</tt>! </li>
          <li>Conceptually, sets are a subtype of collections </li>
          <li>Sets don't store duplicates of the same element </li>
          <li>Sets are <i>unordered</i> </li>
          <li>Separate interface: an algorithm can require a <tt>Set</tt> </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide022">Lists</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-022.html"> [22/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Lists are <i>ordered</i> </li>
          <li>Each list position can be accessed by an integer index </li>
          <li>Subtype methods: </li>
        </ul>
        <tt xmlns="">boolean add(int index, E obj)<br xmlns="http://www.w3.org/1999/xhtml"/>
          boolean addAll(int index, Collection c)<br xmlns="http://www.w3.org/1999/xhtml"/>
          E get(int index)<br xmlns="http://www.w3.org/1999/xhtml"/>
          int indexOf(E obj)<br xmlns="http://www.w3.org/1999/xhtml"/>
          int lastIndexOf(E obj)<br xmlns="http://www.w3.org/1999/xhtml"/>
          ListIterator listIterator()<br xmlns="http://www.w3.org/1999/xhtml"/>
          ListIterator listIterator(int index)<br xmlns="http://www.w3.org/1999/xhtml"/>
          E remove(int index)<br xmlns="http://www.w3.org/1999/xhtml"/>
          E set(int index, int E)<br xmlns="http://www.w3.org/1999/xhtml"/>
          List subList(int fromIndex, int toIndex)<br xmlns="http://www.w3.org/1999/xhtml"/>
        </tt>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide023">List Iterators</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-023.html"> [23/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Indexing </li>
          <li>Bidirectional behavior </li>
          <li>Subtype methods:<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <tt xmlns="">int nextIndex()<br xmlns="http://www.w3.org/1999/xhtml"/>
          int previousIndex()<br xmlns="http://www.w3.org/1999/xhtml"/>
          boolean hasPrevious()<br xmlns="http://www.w3.org/1999/xhtml"/>
          E previous()<br xmlns="http://www.w3.org/1999/xhtml"/>
          void set(E obj)</tt><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide024">List Classes </a></span><span style="font-weight: normal"><a href="notes-horstmann-08-024.html"> [24/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>ArrayList</tt> </li>
          <li><tt>LinkedList</tt> </li>
          <li>Indexed access of linked list elements is possible, but slow </li>
          <li>Weakness in the design </li>
          <li>Partial fix in Java 1.4: <tt>RandomAccess</tt> interface </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide025">List Classes </a></span><span style="font-weight: normal"><a href="notes-horstmann-08-025.html"> [25/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_05.jpg" height="481" width="741"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide026">Optional Operations</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-026.html"> [26/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Many operations tagged as "optional" </li>
          <li>Example: <tt>Collection.add</tt>, <tt>Collection.remove</tt> </li>
          <li>Default implementation throws exception </li>
          <li>Why have optional operations? </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide027">Views</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-027.html"> [27/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>View = collection that shows objects that are stored elsewhere </li>
          <li>Example: <tt>Arrays.asList<br xmlns="http://www.w3.org/1999/xhtml"/>
            </tt> </li>
          <li><tt>String[] strings = { "Kenya", "Thailand", "Portugal" };<br xmlns="http://www.w3.org/1999/xhtml"/>
              List view = Arrays.asList(strings)</tt> </li>
          <li>Does not copy elements! </li>
          <li>Can use view for common services<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>otherList.addAll(view);</tt> </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide028">Views</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-028.html"> [28/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>get/set</tt> are defined to access underlying array </li>
          <li><tt>Arrays.asList</tt> view has no <tt>add/remove</tt>
            operations </li>
          <li>Can't grow/shrink underlying array </li>
          <li>Several kinds of views:<br xmlns="http://www.w3.org/1999/xhtml"/>
            read-only<br xmlns="http://www.w3.org/1999/xhtml"/>
            modifyable<br xmlns="http://www.w3.org/1999/xhtml"/>
            resizable<br xmlns="http://www.w3.org/1999/xhtml"/>
            . . .<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Optional operations avoid inflation of interfaces </li>
          <li>Controversial design decision </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide029">Graph Editor Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-029.html"> [29/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Problem domain: interactive editing of diagrams </li>
          <li>Graph consists of nodes and edges </li>
          <li>Class diagram:<br xmlns="http://www.w3.org/1999/xhtml"/>
            nodes are rectangles<br xmlns="http://www.w3.org/1999/xhtml"/>
            edges are arrows </li>
          <li>Electronic circuit diagram:<br xmlns="http://www.w3.org/1999/xhtml"/>
            nodes are transistors, resistors<br xmlns="http://www.w3.org/1999/xhtml"/>
            edges are wires </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide030">Graph Editor Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-030.html"> [30/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Traditional approach: programmer starts from scratch for every
            editor type </li>
          <li>Framework approach: Programmer extends graph, node, edge classes </li>
          <li>Framework handles UI, load/save, ... </li>
          <li>Our framework is kept simple </li>
          <li>Violet uses extension of this framework </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide031">User Interface</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-031.html"> [31/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Toolbar on top </li>
          <li>Grabber button for selecting nodes/edges </li>
          <li>Buttons for current node/edge type </li>
          <li>Menu </li>
          <li>Drawing area </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide032">User Interface</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-032.html"> [32/63] </a></span></td></tr></table><p> </p>
        <img alt="" src="../images/horstmann-08_06.png" height="402" width="602"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide033">Mouse Operations</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-033.html"> [33/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Click on empty space: current node inserted </li>
          <li>Click on node or edge: select it </li>
          <li>Drag node when current tool an edge: connect nodes </li>
          <li>Drag node when current tool not an edge: move node </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide034">Division of Responsibility</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-034.html"> [34/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Divide code between </li>
          <li>
            <ul>
              <li>framework </li>
            </ul>
            <ul>
              <li>specific application </li>
            </ul>
          </li>
          <li>Rendering is app specific (e.g. transistor) </li>
          <li>Hit testing is app specific (odd node shapes) </li>
          <li>Framework draws toolbar </li>
          <li>Framework does mouse listening </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide035">Adding Nodes and Edges</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-035.html"> [35/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Framework draws toolbar </li>
          <li>How does it know what nodes/edges to draw? </li>
          <li>App gives a list of nodes/edges to framework at startup </li>
          <li>How does app specify nodes/edges? </li>
          <li>
            <ul>
              <li>Class names? (<tt>"Transistor"</tt>) </li>
              <li><tt>Class</tt> objects? (<tt>Transistor.class</tt>) </li>
              <li><tt>Node</tt>, <tt>Edge</tt> objects? (<tt>new Transistor()</tt>)
              </li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide036">Adding Nodes and Edges</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-036.html"> [36/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Objects are more flexible than classes </li>
          <li><tt>new CircleNode(Color.BLACK)<br xmlns="http://www.w3.org/1999/xhtml"/>
              new CircleNode(Color.WHITE)</tt> </li>
          <li>When user inserts new node, the toolbar node is <i>cloned<br xmlns="http://www.w3.org/1999/xhtml"/>
            </i> <tt>Node prototype = <i>node of currently selected toolbar
                button</i>;<br xmlns="http://www.w3.org/1999/xhtml"/>
              Node newNode = (Node) prototype.clone();<br xmlns="http://www.w3.org/1999/xhtml"/>
              Point2D mousePoint = <i>current mouse position</i>;<br xmlns="http://www.w3.org/1999/xhtml"/>
              graph.add(newNode, mousePoint);</tt> </li>
          <li>Example of PROTOTYPE pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide037">PROTOTYPE Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-037.html"> [37/63] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context</h3>
        <ol xmlns="">
          <li>A system instantiates objects of classes that are not known when
            the system is built.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>You do not want to require a separate class for each kind of
            object.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>You want to avoid a separate hierarchy of classes whose
            responsibility it is to create the objects. </li>
        </ol>
        <h3 xmlns="">Solution</h3>
        <ol xmlns="">
          <li>Define a prototype interface type that is common to all created
            objects.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Supply a prototype object for each kind of object that the system
            creates.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Clone the prototype object whenever a new object of the given
            kind is required. <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide038">PROTOTYPE Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-038.html"> [38/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_unf01.jpg" height="342" width="822"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide039">PROTOTYPE Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-039.html"> [39/63] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual name
                (graph editor)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">
                Prototype<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1"> Node<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">
                ConcretePrototype1<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">
                CircleNode<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1"> Creator<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">The <tt>GraphPanel</tt> that
                handles the mouse operation for adding new nodes<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide040">Framework Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-040.html"> [40/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Framework programmer implements <tt>Node</tt>/<tt>Edge</tt>
            interfaces </li>
          <li><tt>draw</tt> draws node/edge </li>
          <li><tt>getBounds</tt> returns enclosing rectangle (to compute total
            graph size for scrolling) </li>
          <li><tt>Edge.getStart</tt>, <tt>getEnd</tt> yield start/end nodes </li>
          <li><tt>Node.getConnectionPoint</tt> computes attachment point on
            shape boundary </li>
          <li><tt>Edge.getConnectionPoints</tt> yields start/end coordinates
            (for grabbers) </li>
          <li><tt>clone</tt> overridden to be public </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide041">Node Connection Points</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-041.html"> [41/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_07.jpg" height="427" width="674"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide042">Framework Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-042.html"> [42/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>AbstractEdge</tt> class for convenience </li>
          <li>Programmer implements <tt>Node</tt>/<tt>Edge</tt> type or
            extends <tt>AbstractEdge</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/Node_java.html">file:horstmann/ch08_graphed/Node.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/Node.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/Node.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/Node.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> 
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">   A node in a graph.</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Node</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Serializable<span style="color: #990000">,</span> Cloneable
<span style="color: #000000">00010:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      Draw the node.</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> g2 the graphics context</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00015:</span>    <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">);</span>
<span style="color: #000000">00016:</span> 
<span style="color: #000000">00017:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00018:</span> <span style="font-style: italic"><span style="color: #9A1900">      Translates the node by a given amount.</span></span>
<span style="color: #000000">00019:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> dx the amount to translate in the x-direction</span></span>
<span style="color: #000000">00020:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> dy the amount to translate in the y-direction</span></span>
<span style="color: #000000">00021:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00022:</span>    <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> dx<span style="color: #990000">,</span> <span style="color: #009900">double</span> dy<span style="color: #990000">);</span>
<span style="color: #000000">00023:</span> 
<span style="color: #000000">00024:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00025:</span> <span style="font-style: italic"><span style="color: #9A1900">      Tests whether the node contains a point.</span></span>
<span style="color: #000000">00026:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> aPoint the point to test</span></span>
<span style="color: #000000">00027:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> true if this node contains aPoint</span></span>
<span style="color: #000000">00028:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00029:</span>    <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> aPoint<span style="color: #990000">);</span>
<span style="color: #000000">00030:</span> 
<span style="color: #000000">00031:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00032:</span> <span style="font-style: italic"><span style="color: #9A1900">      Get the best connection point to connect this node </span></span>
<span style="color: #000000">00033:</span> <span style="font-style: italic"><span style="color: #9A1900">      with another node. This should be a point on the boundary</span></span>
<span style="color: #000000">00034:</span> <span style="font-style: italic"><span style="color: #9A1900">      of the shape of this node.</span></span>
<span style="color: #000000">00035:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> aPoint an exterior point that is to be joined</span></span>
<span style="color: #000000">00036:</span> <span style="font-style: italic"><span style="color: #9A1900">      with this node</span></span>
<span style="color: #000000">00037:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the recommended connection point</span></span>
<span style="color: #000000">00038:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00039:</span>    <span style="color: #008080">Point2D</span> <span style="font-weight: bold"><span style="color: #000000">getConnectionPoint</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> aPoint<span style="color: #990000">);</span>
<span style="color: #000000">00040:</span> 
<span style="color: #000000">00041:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00042:</span> <span style="font-style: italic"><span style="color: #9A1900">      Get the bounding rectangle of the shape of this node</span></span>
<span style="color: #000000">00043:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the bounding rectangle</span></span>
<span style="color: #000000">00044:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00045:</span>    <span style="color: #008080">Rectangle2D</span> <span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00046:</span> 
<span style="color: #000000">00047:</span>    <span style="color: #008080">Object</span> <span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00048:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00049:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/Edge_java.html">file:horstmann/ch08_graphed/Edge.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/Edge.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/Edge.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/Edge.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> 
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">   An edge in a graph.</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Edge</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Serializable<span style="color: #990000">,</span> Cloneable
<span style="color: #000000">00010:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      Draw the edge.</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> g2 the graphics context</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00015:</span>    <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">);</span>
<span style="color: #000000">00016:</span> 
<span style="color: #000000">00017:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00018:</span> <span style="font-style: italic"><span style="color: #9A1900">      Tests whether the edge contains a point.</span></span>
<span style="color: #000000">00019:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> aPoint the point to test</span></span>
<span style="color: #000000">00020:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> true if this edge contains aPoint</span></span>
<span style="color: #000000">00021:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00022:</span>    <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> aPoint<span style="color: #990000">);</span>
<span style="color: #000000">00023:</span> 
<span style="color: #000000">00024:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00025:</span> <span style="font-style: italic"><span style="color: #9A1900">      Connects this edge to two nodes.</span></span>
<span style="color: #000000">00026:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> aStart the starting node</span></span>
<span style="color: #000000">00027:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> anEnd the ending node</span></span>
<span style="color: #000000">00028:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00029:</span>    <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">connect</span></span><span style="color: #990000">(</span><span style="color: #008080">Node</span> aStart<span style="color: #990000">,</span> <span style="color: #008080">Node</span> anEnd<span style="color: #990000">);</span>
<span style="color: #000000">00030:</span> 
<span style="color: #000000">00031:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00032:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the starting node.</span></span>
<span style="color: #000000">00033:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the starting node</span></span>
<span style="color: #000000">00034:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00035:</span>    <span style="color: #008080">Node</span> <span style="font-weight: bold"><span style="color: #000000">getStart</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00036:</span> 
<span style="color: #000000">00037:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00038:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the ending node.</span></span>
<span style="color: #000000">00039:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the ending node</span></span>
<span style="color: #000000">00040:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00041:</span>    <span style="color: #008080">Node</span> <span style="font-weight: bold"><span style="color: #000000">getEnd</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00042:</span> 
<span style="color: #000000">00043:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00044:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the points at which this edge is connected to</span></span>
<span style="color: #000000">00045:</span> <span style="font-style: italic"><span style="color: #9A1900">      its nodes.</span></span>
<span style="color: #000000">00046:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> a line joining the two connection points</span></span>
<span style="color: #000000">00047:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00048:</span>    <span style="color: #008080">Line2D</span> <span style="font-weight: bold"><span style="color: #000000">getConnectionPoints</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00049:</span> 
<span style="color: #000000">00050:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00051:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the smallest rectangle that bounds this edge.</span></span>
<span style="color: #000000">00052:</span> <span style="font-style: italic"><span style="color: #9A1900">      The bounding rectangle contains all labels.</span></span>
<span style="color: #000000">00053:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the bounding rectangle</span></span>
<span style="color: #000000">00054:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00055:</span>    <span style="color: #008080">Rectangle2D</span> <span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">);</span>
<span style="color: #000000">00056:</span> 
<span style="color: #000000">00057:</span>    <span style="color: #008080">Object</span> <span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00058:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00059:</span> 
<span style="color: #000000">00060:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/AbstractEdge_java.html">file:horstmann/ch08_graphed/AbstractEdge.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/AbstractEdge.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/AbstractEdge.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/AbstractEdge.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A class that supplies convenience implementations for </span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">   a number of methods in the Edge interface type.</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">AbstractEdge</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Edge
<span style="color: #000000">00010:</span> <span style="color: #FF0000">{</span>  
<span style="color: #000000">00011:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Object</span> <span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00012:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>       <span style="font-weight: bold"><span style="color: #0000FF">try</span></span>
<span style="color: #000000">00014:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>          <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00016:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span>       <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">CloneNotSupportedException</span> exception<span style="color: #990000">)</span>
<span style="color: #000000">00018:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>          <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> 
<span style="color: #000000">00023:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">connect</span></span><span style="color: #990000">(</span><span style="color: #008080">Node</span> s<span style="color: #990000">,</span> <span style="color: #008080">Node</span> e<span style="color: #990000">)</span>
<span style="color: #000000">00024:</span>    <span style="color: #FF0000">{</span>  
<span style="color: #000000">00025:</span>       start <span style="color: #990000">=</span> s<span style="color: #990000">;</span>
<span style="color: #000000">00026:</span>       end <span style="color: #990000">=</span> e<span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> 
<span style="color: #000000">00029:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Node</span> <span style="font-weight: bold"><span style="color: #000000">getStart</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00030:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00031:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> start<span style="color: #990000">;</span>
<span style="color: #000000">00032:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span> 
<span style="color: #000000">00034:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Node</span> <span style="font-weight: bold"><span style="color: #000000">getEnd</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00035:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> end<span style="color: #990000">;</span>
<span style="color: #000000">00037:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span> 
<span style="color: #000000">00039:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Rectangle2D</span> <span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00040:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>       <span style="color: #008080">Line2D</span> conn <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">getConnectionPoints</span></span><span style="color: #990000">();</span>      
<span style="color: #000000">00042:</span>       <span style="color: #008080">Rectangle2D</span> r <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00043:</span>       r<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setFrameFromDiagonal</span></span><span style="color: #990000">(</span>conn<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX1</span></span><span style="color: #990000">(),</span> conn<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY1</span></span><span style="color: #990000">(),</span>
<span style="color: #000000">00044:</span>             conn<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX2</span></span><span style="color: #990000">(),</span> conn<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY2</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00045:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> r<span style="color: #990000">;</span>
<span style="color: #000000">00046:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span> 
<span style="color: #000000">00048:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Line2D</span> <span style="font-weight: bold"><span style="color: #000000">getConnectionPoints</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00049:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00050:</span>       <span style="color: #008080">Rectangle2D</span> startBounds <span style="color: #990000">=</span> start<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00051:</span>       <span style="color: #008080">Rectangle2D</span> endBounds <span style="color: #990000">=</span> end<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00052:</span>       <span style="color: #008080">Point2D</span> startCenter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00053:</span>             startBounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCenterX</span></span><span style="color: #990000">(),</span> startBounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCenterY</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00054:</span>       <span style="color: #008080">Point2D</span> endCenter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00055:</span>             endBounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCenterX</span></span><span style="color: #990000">(),</span> endBounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCenterY</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00056:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00057:</span>             start<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getConnectionPoint</span></span><span style="color: #990000">(</span>endCenter<span style="color: #990000">),</span>
<span style="color: #000000">00058:</span>             end<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getConnectionPoint</span></span><span style="color: #990000">(</span>startCenter<span style="color: #990000">));</span>
<span style="color: #000000">00059:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00060:</span> 
<span style="color: #000000">00061:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Node</span> start<span style="color: #990000">;</span>
<span style="color: #000000">00062:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Node</span> end<span style="color: #990000">;</span>
<span style="color: #000000">00063:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00064:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide043">Framework Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-043.html"> [43/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>Graph</tt> collects nodes and edges </li>
          <li>Subclasses override methods<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public abstract Node[] getNodePrototypes()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public abstract Edge[] getEdgePrototypes()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/Graph_java.html">file:horstmann/ch08_graphed/Graph.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/Graph.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/Graph.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/Graph.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>io<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span> 
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">   A graph consisting of selectable nodes and edges.</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Graph</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Serializable
<span style="color: #000000">00012:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">long</span> serialVersionUID <span style="color: #990000">=</span> <span style="color: #993399">2008L</span><span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a graph with no nodes or edges.</span></span>
<span style="color: #000000">00016:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00017:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Graph</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00018:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>       nodes <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Node<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00020:</span>       edges <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Edge<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> 
<span style="color: #000000">00023:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00024:</span> <span style="font-style: italic"><span style="color: #9A1900">      Adds an edge to the graph that joins the nodes containing</span></span>
<span style="color: #000000">00025:</span> <span style="font-style: italic"><span style="color: #9A1900">      the given points. If the points aren't both inside nodes,</span></span>
<span style="color: #000000">00026:</span> <span style="font-style: italic"><span style="color: #9A1900">      then no edge is added.</span></span>
<span style="color: #000000">00027:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> e the edge to add</span></span>
<span style="color: #000000">00028:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> p1 a point in the starting node</span></span>
<span style="color: #000000">00029:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> p2 a point in the ending node</span></span>
<span style="color: #000000">00030:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00031:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">connect</span></span><span style="color: #990000">(</span><span style="color: #008080">Edge</span> e<span style="color: #990000">,</span> <span style="color: #008080">Point2D</span> p1<span style="color: #990000">,</span> <span style="color: #008080">Point2D</span> p2<span style="color: #990000">)</span>
<span style="color: #000000">00032:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00033:</span>       <span style="color: #008080">Node</span> n1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">findNode</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">);</span>
<span style="color: #000000">00034:</span>       <span style="color: #008080">Node</span> n2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">findNode</span></span><span style="color: #990000">(</span>p2<span style="color: #990000">);</span>
<span style="color: #000000">00035:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>n1 <span style="color: #990000">!=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">&amp;&amp;</span> n2 <span style="color: #990000">!=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span>
<span style="color: #000000">00036:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>          e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">connect</span></span><span style="color: #990000">(</span>n1<span style="color: #990000">,</span> n2<span style="color: #990000">);</span>
<span style="color: #000000">00038:</span>          edges<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>e<span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>          <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00040:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00042:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00043:</span> 
<span style="color: #000000">00044:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00045:</span> <span style="font-style: italic"><span style="color: #9A1900">      Adds a node to the graph so that the top left corner of</span></span>
<span style="color: #000000">00046:</span> <span style="font-style: italic"><span style="color: #9A1900">      the bounding rectangle is at the given point.</span></span>
<span style="color: #000000">00047:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> n the node to add</span></span>
<span style="color: #000000">00048:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> p the desired location</span></span>
<span style="color: #000000">00049:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00050:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #008080">Node</span> n<span style="color: #990000">,</span> <span style="color: #008080">Point2D</span> p<span style="color: #990000">)</span>
<span style="color: #000000">00051:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00052:</span>       <span style="color: #008080">Rectangle2D</span> bounds <span style="color: #990000">=</span> n<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00053:</span>       n<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span>p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> bounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(),</span>
<span style="color: #000000">00054:</span>          p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> bounds<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00055:</span>       nodes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>n<span style="color: #990000">);</span>
<span style="color: #000000">00056:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00057:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00058:</span> 
<span style="color: #000000">00059:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00060:</span> <span style="font-style: italic"><span style="color: #9A1900">      Finds a node containing the given point.</span></span>
<span style="color: #000000">00061:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> p a point</span></span>
<span style="color: #000000">00062:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> a node containing p or null if no nodes contain p</span></span>
<span style="color: #000000">00063:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00064:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Node</span> <span style="font-weight: bold"><span style="color: #000000">findNode</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> p<span style="color: #990000">)</span>
<span style="color: #000000">00065:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00066:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> nodes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">;</span> i <span style="color: #990000">&gt;=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">--)</span>
<span style="color: #000000">00067:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00068:</span>          <span style="color: #008080">Node</span> n <span style="color: #990000">=</span> nodes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>i<span style="color: #990000">);</span>
<span style="color: #000000">00069:</span>          <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>n<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span>p<span style="color: #990000">))</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> n<span style="color: #990000">;</span>
<span style="color: #000000">00070:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00071:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00072:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00073:</span> 
<span style="color: #000000">00074:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00075:</span> <span style="font-style: italic"><span style="color: #9A1900">      Finds an edge containing the given point.</span></span>
<span style="color: #000000">00076:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> p a point</span></span>
<span style="color: #000000">00077:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> an edge containing p or null if no edges contain p</span></span>
<span style="color: #000000">00078:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00079:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Edge</span> <span style="font-weight: bold"><span style="color: #000000">findEdge</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> p<span style="color: #990000">)</span>
<span style="color: #000000">00080:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00081:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> edges<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">;</span> i <span style="color: #990000">&gt;=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">--)</span>
<span style="color: #000000">00082:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00083:</span>          <span style="color: #008080">Edge</span> e <span style="color: #990000">=</span> edges<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>i<span style="color: #990000">);</span>
<span style="color: #000000">00084:</span>          <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span>p<span style="color: #990000">))</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> e<span style="color: #990000">;</span>
<span style="color: #000000">00085:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00086:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00087:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00088:</span> 
<span style="color: #000000">00089:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00090:</span> <span style="font-style: italic"><span style="color: #9A1900">      Draws the graph</span></span>
<span style="color: #000000">00091:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> g2 the graphics context</span></span>
<span style="color: #000000">00092:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00093:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00094:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00095:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Node</span> n <span style="color: #990000">:</span> nodes<span style="color: #990000">)</span>
<span style="color: #000000">00096:</span>          n<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">);</span>
<span style="color: #000000">00097:</span> 
<span style="color: #000000">00098:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Edge</span> e <span style="color: #990000">:</span> edges<span style="color: #990000">)</span>
<span style="color: #000000">00099:</span>          e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">);</span>
<span style="color: #000000">00100:</span> 
<span style="color: #000000">00101:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00102:</span> 
<span style="color: #000000">00103:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00104:</span> <span style="font-style: italic"><span style="color: #9A1900">      Removes a node and all edges that start or end with that node</span></span>
<span style="color: #000000">00105:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> n the node to remove</span></span>
<span style="color: #000000">00106:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00107:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">removeNode</span></span><span style="color: #990000">(</span><span style="color: #008080">Node</span> n<span style="color: #990000">)</span>
<span style="color: #000000">00108:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00109:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> edges<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">;</span> i <span style="color: #990000">&gt;=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">--)</span>
<span style="color: #000000">00110:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00111:</span>          <span style="color: #008080">Edge</span> e <span style="color: #990000">=</span> edges<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>i<span style="color: #990000">);</span>
<span style="color: #000000">00112:</span>          <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getStart</span></span><span style="color: #990000">()</span> <span style="color: #990000">==</span> n <span style="color: #990000">||</span> e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getEnd</span></span><span style="color: #990000">()</span> <span style="color: #990000">==</span> n<span style="color: #990000">)</span>
<span style="color: #000000">00113:</span>             edges<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span>e<span style="color: #990000">);</span>
<span style="color: #000000">00114:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00115:</span>       nodes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span>n<span style="color: #990000">);</span>
<span style="color: #000000">00116:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00117:</span> 
<span style="color: #000000">00118:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00119:</span> <span style="font-style: italic"><span style="color: #9A1900">      Removes an edge from the graph.</span></span>
<span style="color: #000000">00120:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> e the edge to remove</span></span>
<span style="color: #000000">00121:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00122:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">removeEdge</span></span><span style="color: #990000">(</span><span style="color: #008080">Edge</span> e<span style="color: #990000">)</span>
<span style="color: #000000">00123:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00124:</span>       edges<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span>e<span style="color: #990000">);</span>
<span style="color: #000000">00125:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00126:</span> 
<span style="color: #000000">00127:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00128:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the smallest rectangle enclosing the graph</span></span>
<span style="color: #000000">00129:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> g2 the graphics context</span></span>
<span style="color: #000000">00130:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the bounding rectangle</span></span>
<span style="color: #000000">00131:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00132:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Rectangle2D</span> <span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00133:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00134:</span>       <span style="color: #008080">Rectangle2D</span> r <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00135:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Node</span> n <span style="color: #990000">:</span> nodes<span style="color: #990000">)</span>
<span style="color: #000000">00136:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00137:</span>          <span style="color: #008080">Rectangle2D</span> b <span style="color: #990000">=</span> n<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00138:</span>          <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>r <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> r <span style="color: #990000">=</span> b<span style="color: #990000">;</span>
<span style="color: #000000">00139:</span>          <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> r<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>b<span style="color: #990000">);</span>
<span style="color: #000000">00140:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00141:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Edge</span> e <span style="color: #990000">:</span> edges<span style="color: #990000">)</span>
<span style="color: #000000">00142:</span>          r<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">));</span>
<span style="color: #000000">00143:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> r <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">?</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">()</span> <span style="color: #990000">:</span> r<span style="color: #990000">;</span>
<span style="color: #000000">00144:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00145:</span> 
<span style="color: #000000">00146:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00147:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the node types of a particular graph type.</span></span>
<span style="color: #000000">00148:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> an array of node prototypes</span></span>
<span style="color: #000000">00149:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00150:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> Node<span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">getNodePrototypes</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00151:</span> 
<span style="color: #000000">00152:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00153:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the edge types of a particular graph type.</span></span>
<span style="color: #000000">00154:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> an array of edge prototypes</span></span>
<span style="color: #000000">00155:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00156:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> Edge<span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">getEdgePrototypes</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00157:</span> 
<span style="color: #000000">00158:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00159:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the nodes of this graph.</span></span>
<span style="color: #000000">00160:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> an unmodifiable list of the nodes</span></span>
<span style="color: #000000">00161:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00162:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">List&lt;Node&gt;</span> <span style="font-weight: bold"><span style="color: #000000">getNodes</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00163:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00164:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> Collections<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">unmodifiableList</span></span><span style="color: #990000">(</span>nodes<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00165:</span> 
<span style="color: #000000">00166:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00167:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the edges of this graph.</span></span>
<span style="color: #000000">00168:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> an unmodifiable list of the edges</span></span>
<span style="color: #000000">00169:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00170:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">List&lt;Edge&gt;</span> <span style="font-weight: bold"><span style="color: #000000">getEdges</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00171:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00172:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> Collections<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">unmodifiableList</span></span><span style="color: #990000">(</span>edges<span style="color: #990000">);</span>
<span style="color: #000000">00173:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00174:</span> 
<span style="color: #000000">00175:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;Node&gt;</span> nodes<span style="color: #990000">;</span>
<span style="color: #000000">00176:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;Edge&gt;</span> edges<span style="color: #990000">;</span>
<span style="color: #000000">00177:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00178:</span> 
<span style="color: #000000">00179:</span> 
<span style="color: #000000">00180:</span> 
<span style="color: #000000">00181:</span> 
<span style="color: #000000">00182:</span> 
<span style="color: #000000">00183:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide044">Framework UI Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-044.html"> [44/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>GraphFrame</tt>: a frame that manages the toolbar, the menu
            bar, and the graph panel.  <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>ToolBar</tt>: a panel that holds toggle buttons for the node
            and edge icons.  <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>GraphPanel</tt>: a panel that shows the graph and handles the
            mouse clicks and drags for the editing commands.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Application programmers need not subclass these classes<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide045">A Framework Instance</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-045.html"> [45/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Simple application </li>
          <li>Draw black and white nodes </li>
          <li>Join nodes with straight lines </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide046">Programmer responsibilities</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-046.html"> [46/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>For each node and edge type, define a class that implements the <tt>Node</tt>
            or <tt>Edge</tt> interface type </li>
          <li>Supply all required methods, such as drawing and containment
            testing.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Define a subclass of the <tt>Graph</tt> class and supply <tt>getNodePrototypes,</tt>
            <tt>getEdgePrototypes</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Supply a class with a <tt>main</tt> method </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide047">A Framework Instance</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-047.html"> [47/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_08.jpg" height="586" width="954"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide048">A Framework Instance</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-048.html"> [48/63] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/SimpleGraph_java.html">file:horstmann/ch08_graphed/SimpleGraph.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/SimpleGraph.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/SimpleGraph.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/SimpleGraph.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A simple graph with round nodes and straight edges.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SimpleGraph</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Graph
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> Node<span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">getNodePrototypes</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00011:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>       Node<span style="color: #990000">[]</span> nodeTypes <span style="color: #990000">=</span>
<span style="color: #000000">00013:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>             <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CircleNode</span></span><span style="color: #990000">(</span>Color<span style="color: #990000">.</span>BLACK<span style="color: #990000">),</span>
<span style="color: #000000">00015:</span>             <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CircleNode</span></span><span style="color: #990000">(</span>Color<span style="color: #990000">.</span>WHITE<span style="color: #990000">)</span>
<span style="color: #000000">00016:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00017:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> nodeTypes<span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> Edge<span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">getEdgePrototypes</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>       Edge<span style="color: #990000">[]</span> edgeTypes <span style="color: #990000">=</span> 
<span style="color: #000000">00023:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>             <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">LineEdge</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00025:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00026:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> edgeTypes<span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00029:</span> 
<span style="color: #000000">00030:</span> 
<span style="color: #000000">00031:</span> 
<span style="color: #000000">00032:</span> 
<span style="color: #000000">00033:</span> 
<span style="color: #000000">00034:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/SimpleGraphEditor_java.html">file:horstmann/ch08_graphed/SimpleGraphEditor.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/SimpleGraphEditor.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/SimpleGraphEditor.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/SimpleGraphEditor.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> 
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">   A program for editing UML diagrams.</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SimpleGraphEditor</span>
<span style="color: #000000">00008:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span>
<span style="color: #000000">00010:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>       <span style="color: #008080">JFrame</span> frame <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">GraphFrame</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SimpleGraph</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00012:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setVisible</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span> 
<span style="color: #000000">00016:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/CircleNode_java.html">file:horstmann/ch08_graphed/CircleNode.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/CircleNode.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/CircleNode.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/CircleNode.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A circular node that is filled with a color.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">CircleNode</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Node
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">      Construct a circle node with a given size and color.</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> aColor the fill color</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00014:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">CircleNode</span></span><span style="color: #990000">(</span><span style="color: #008080">Color</span> aColor<span style="color: #990000">)</span>
<span style="color: #000000">00015:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>       size <span style="color: #990000">=</span> DEFAULT_SIZE<span style="color: #990000">;</span>
<span style="color: #000000">00017:</span>       x <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>       y <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>       color <span style="color: #990000">=</span> aColor<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> 
<span style="color: #000000">00022:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Object</span> <span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00023:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>       <span style="font-weight: bold"><span style="color: #0000FF">try</span></span>
<span style="color: #000000">00025:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00026:</span>          <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00027:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span>       <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">CloneNotSupportedException</span> exception<span style="color: #990000">)</span>
<span style="color: #000000">00029:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00030:</span>          <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00031:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00032:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span> 
<span style="color: #000000">00034:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00035:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>       <span style="color: #008080">Ellipse2D</span> circle <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Ellipse2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00037:</span>             x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> size<span style="color: #990000">,</span> size<span style="color: #990000">);</span>
<span style="color: #000000">00038:</span>       <span style="color: #008080">Color</span> oldColor <span style="color: #990000">=</span> g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getColor</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00039:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setColor</span></span><span style="color: #990000">(</span>color<span style="color: #990000">);</span>
<span style="color: #000000">00040:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fill</span></span><span style="color: #990000">(</span>circle<span style="color: #990000">);</span>
<span style="color: #000000">00041:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setColor</span></span><span style="color: #990000">(</span>oldColor<span style="color: #990000">);</span>
<span style="color: #000000">00042:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>circle<span style="color: #990000">);</span>
<span style="color: #000000">00043:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00044:</span> 
<span style="color: #000000">00045:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> dx<span style="color: #990000">,</span> <span style="color: #009900">double</span> dy<span style="color: #990000">)</span>
<span style="color: #000000">00046:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00047:</span>       x <span style="color: #990000">+=</span> dx<span style="color: #990000">;</span>
<span style="color: #000000">00048:</span>       y <span style="color: #990000">+=</span> dy<span style="color: #990000">;</span>
<span style="color: #000000">00049:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00050:</span> 
<span style="color: #000000">00051:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> p<span style="color: #990000">)</span>
<span style="color: #000000">00052:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00053:</span>       <span style="color: #008080">Ellipse2D</span> circle <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Ellipse2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00054:</span>             x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> size<span style="color: #990000">,</span> size<span style="color: #990000">);</span>
<span style="color: #000000">00055:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> circle<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span>p<span style="color: #990000">);</span>
<span style="color: #000000">00056:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00057:</span> 
<span style="color: #000000">00058:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Rectangle2D</span> <span style="font-weight: bold"><span style="color: #000000">getBounds</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00059:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00060:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00061:</span>             x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> size<span style="color: #990000">,</span> size<span style="color: #990000">);</span>
<span style="color: #000000">00062:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00063:</span> 
<span style="color: #000000">00064:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Point2D</span> <span style="font-weight: bold"><span style="color: #000000">getConnectionPoint</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> other<span style="color: #990000">)</span>
<span style="color: #000000">00065:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00066:</span>       <span style="color: #009900">double</span> centerX <span style="color: #990000">=</span> x <span style="color: #990000">+</span> size <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">;</span>
<span style="color: #000000">00067:</span>       <span style="color: #009900">double</span> centerY <span style="color: #990000">=</span> y <span style="color: #990000">+</span> size <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">;</span>
<span style="color: #000000">00068:</span>       <span style="color: #009900">double</span> dx <span style="color: #990000">=</span> other<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> centerX<span style="color: #990000">;</span>
<span style="color: #000000">00069:</span>       <span style="color: #009900">double</span> dy <span style="color: #990000">=</span> other<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> centerY<span style="color: #990000">;</span>
<span style="color: #000000">00070:</span>       <span style="color: #009900">double</span> distance <span style="color: #990000">=</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">sqrt</span></span><span style="color: #990000">(</span>dx <span style="color: #990000">*</span> dx <span style="color: #990000">+</span> dy <span style="color: #990000">*</span> dy<span style="color: #990000">);</span>
<span style="color: #000000">00071:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>distance <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> other<span style="color: #990000">;</span>
<span style="color: #000000">00072:</span>       <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00073:</span>             centerX <span style="color: #990000">+</span> dx <span style="color: #990000">*</span> <span style="color: #990000">(</span>size <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">)</span> <span style="color: #990000">/</span> distance<span style="color: #990000">,</span>
<span style="color: #000000">00074:</span>             centerY <span style="color: #990000">+</span> dy <span style="color: #990000">*</span> <span style="color: #990000">(</span>size <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">)</span> <span style="color: #990000">/</span> distance<span style="color: #990000">);</span>
<span style="color: #000000">00075:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00076:</span> 
<span style="color: #000000">00077:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00078:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00079:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> size<span style="color: #990000">;</span>
<span style="color: #000000">00080:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Color</span> color<span style="color: #990000">;</span>  
<span style="color: #000000">00081:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> DEFAULT_SIZE <span style="color: #990000">=</span> <span style="color: #993399">20</span><span style="color: #990000">;</span>
<span style="color: #000000">00082:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00083:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch08_graphed/LineEdge_java.html">file:horstmann/ch08_graphed/LineEdge.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch08_graphed/LineEdge.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch08_graphed/LineEdge.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch08_graphed/LineEdge.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch08_graphed<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   An edge that is shaped like a straight line.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">LineEdge</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> AbstractEdge
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00011:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">getConnectionPoints</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> 
<span style="color: #000000">00015:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> aPoint<span style="color: #990000">)</span>
<span style="color: #000000">00016:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">double</span> MAX_DIST <span style="color: #990000">=</span> <span style="color: #993399">2</span><span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">getConnectionPoints</span></span><span style="color: #990000">().</span><span style="font-weight: bold"><span style="color: #000000">ptSegDist</span></span><span style="color: #990000">(</span>aPoint<span style="color: #990000">)</span> 
<span style="color: #000000">00019:</span>          <span style="color: #990000">&lt;</span> MAX_DIST<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide049">Generic Framework Code</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-049.html"> [49/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Framework frees application programmer from tedious programming </li>
          <li>Framework can do significant work without knowing node/edge types<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Analyze two scenarios </li>
          <li>
            <ul>
              <li>Add new node </li>
            </ul>
            <ul>
              <li>Add new edge </li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide050">Add New Node</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-050.html"> [50/63] </a></span></td></tr></table><p> </p>
        <pre xmlns="" xml:space="preserve">public void mousePressed(MouseEvent event)<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   Point2D mousePoint = event.getPoint();<br xmlns="http://www.w3.org/1999/xhtml"/>   Object tool = toolBar.getSelectedTool();<br xmlns="http://www.w3.org/1999/xhtml"/>   ...<br xmlns="http://www.w3.org/1999/xhtml"/>   if (tool instanceof Node)<br xmlns="http://www.w3.org/1999/xhtml"/>   {<br xmlns="http://www.w3.org/1999/xhtml"/>      Node prototype = (Node) tool;<br xmlns="http://www.w3.org/1999/xhtml"/>      Node newNode = (Node)prototype.clone();<br xmlns="http://www.w3.org/1999/xhtml"/>      graph.add(newNode, mousePoint);<br xmlns="http://www.w3.org/1999/xhtml"/>   }<br xmlns="http://www.w3.org/1999/xhtml"/>   ...<br xmlns="http://www.w3.org/1999/xhtml"/>   repaint();<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide051">Add New Node</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-051.html"> [51/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_09.jpg" height="521" width="992"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide052">Add New Edge</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-052.html"> [52/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>First check if mouse was pressed inside existing node<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public Node findNode(Point2D p)</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>{</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   for (int i = 0; i &lt; nodes.size(); i++)</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   {</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>     Node n = (Node) nodes.get(i);</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>     if (n.contains(p)) return n;</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   }</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   return null;</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>}</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide053">Add New Edge</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-053.html"> [53/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>mousePressed:</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>
            <ul>
              <li>Check if mouse point inside node </li>
            </ul>
            <ul>
              <li>Check if current tool is edge </li>
            </ul>
            <ul>
              <li>Mouse point is start of rubber band<br xmlns="http://www.w3.org/1999/xhtml"/>
              </li>
            </ul>
          </li>
          <li><tt>mouseDragged:</tt> </li>
          <li>
            <ul>
              <li>Mouse point is end of rubber band; repaint </li>
            </ul>
          </li>
          <li><tt>mouseReleased:</tt> </li>
          <li>
            <ul>
              <li>Add edge to graph </li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide054">Add New Edge</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-054.html"> [54/63] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-08_10.jpg" height="903" width="1176"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide055">Enhancing the Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-055.html"> [55/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Edit node/edge properties </li>
          <li>
            <ul>
              <li>Node colors </li>
              <li>Edge styles (solid/dotted)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </li>
            </ul>
          </li>
          <li>Framework enhancement: Edit-&gt;Properties menu pops up property
            dialog </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide056">Enhancing the Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-056.html"> [56/63] </a></span></td></tr></table><p> </p>
        <img alt="" src="../images/horstmann-08_11.gif" height="400" width="600"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide057">Enhancing the Framework</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-057.html"> [57/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>How to implement the dialog? </li>
          <li>Solved in chapter 7--bean properties! </li>
          <li><tt>CircleNode</tt> exposes <tt>color</tt> property:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>Color getColor()<br xmlns="http://www.w3.org/1999/xhtml"/>
              void setColor(Color newValue)</tt> </li>
          <li>Property editor automatically edits color! </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide058">Using the Framework Enhancement</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-058.html"> [58/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Add dotted lines </li>
          <li>Define enumerated type <tt>LineStyle<br xmlns="http://www.w3.org/1999/xhtml"/>
            </tt> </li>
          <li>Two instances <tt>LineStyle.SOLID, LineStyle.DOTTED</tt> </li>
          <li>Add <tt>lineStyle</tt> property to <tt>LineEdge</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>LineStyle</tt> has method <tt>getStroke()</tt> </li>
          <li><tt>LineEdge.draw</tt> calls <tt>getStroke()</tt> </li>
          <li>Supply property editor for <tt>LineStyle</tt> type </li>
          <li>Property editor now edits line style!<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide059">Another Framework Instance</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-059.html"> [59/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>UML Class diagram editor </li>
          <li>"Violet lite" </li>
        </ul>
        <img alt="." src="../images/horstmann-08_12.png" height="402" width="602"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide060">Another Framework Instance</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-060.html"> [60/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>RectangularNode</tt> </li>
          <li><tt>SegmentedLineEdge</tt> </li>
          <li><tt>GeneralPathEdge</tt> uses general path for containment
            testing </li>
          <li><tt>ArrowHead</tt>, <tt>BentStyle</tt> enumerate arrow and line
            styles </li>
          <li><tt>MultiLineString</tt> property for class compartments </li>
          <li><tt>ClassNode</tt>, <tt>ClassRelationshipEdge</tt>, <tt>ClassDiagramGraph</tt>
          </li>
          <li>No change to basic framework! </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide061">Edge Properties</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-061.html"> [61/63] </a></span></td></tr></table><p> </p>
        <img alt="" src="../images/horstmann-08_13.gif" height="400" width="600"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide062">Enhancing the Framework II</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-062.html"> [62/63] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Violet is based on an enhancement of the book's framework<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Adds many options </li>
          <li>
            <ul>
              <li>graphics export </li>
            </ul>
            <ul>
              <li>grid </li>
            </ul>
            <ul>
              <li>multiple windows </li>
            </ul>
          </li>
          <li>Can add 3 simple graph editor classes to that framework </li>
          <li>App tracks framework evolution at no cost to app programmer </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide063">Enhancing the Framework II</a></span><span style="font-weight: normal"><a href="notes-horstmann-08-063.html"> [63/63] </a></span></td></tr></table><p> </p>
        <img alt="" src="../images/horstmann-08_15.png" height="664" width="940"/> <br/>
      <hr/><p class="flush">
      Revised: 2007/09/11 16:38</p></body></html>
