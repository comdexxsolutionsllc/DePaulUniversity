<?xml version="1.0"?>
<!--Generated by an XSL stylesheet.  Do not edit!-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta http-equiv="Expires" content="Mon, 10 Jan 2000 12:00:00 GMT"/><style type="text/css">
    p.flushtop     { margin-top: 0px; }
    p.flushbottom  { margin-bottom: 0px; }
    p.flush        { margin-top: 0px;
                     margin-bottom: 0px; }
    h1             { margin-top: 0px;
                     font-weight: bold;
                     font-size: large; }
    h2             { margin-top: 0px;
                     font-weight: bold;
                     font-size: medium; }
    body           { color: black;
                     background-color: white; }
    img.noborder   { border-width: 0px; }
    table.title    { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E4E4C2; }
    table.item     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #F4F4E0; }
    table.notes    { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.comment  { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.code     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E0F4E0; }
    table.contents { border-width: 0px; 
                     color: black;
                     background-color: #FFFFFF; }
    span.red       { color: red; }
    span.orange    { color: orange; }
    span.purple    { color: purple; }
    span.blue      { color: blue; }
    span.brown     { color: brown; }
    span.green     { color: lime; }
    span.hilight   { background-color: #E4E4C2; }
  </style><title>SE450: Horstmann Chapter 5</title></head><body><h1><a href="../index.html">SE450</a>: Horstmann Chapter 5</h1><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide000">Contents</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-000.html"> [0/72] </a></span></td></tr></table><p> </p><table width="100%" cellpadding="0" cellspacing="0" class="contents"><tr><td><a href="#slide001">Object-Oriented Design &amp; Patterns</a> [1/72] </td></tr><tr><td><a href="#slide002">Chapter Topics</a> [2/72] </td></tr><tr><td><a href="#slide003">List Iterators</a> [3/72] </td></tr><tr><td><a href="#slide004">Classical List Data Structure</a> [4/72] </td></tr><tr><td><a href="#slide005">High-Level View of Data Structures</a> [5/72] </td></tr><tr><td><a href="#slide006">List with Cursor</a> [6/72] </td></tr><tr><td><a href="#slide007">The Pattern Concept</a> [7/72] </td></tr><tr><td><a href="#slide008">Short Passages Pattern</a> [8/72] </td></tr><tr><td><a href="#slide009">Short Passages Pattern</a> [9/72] </td></tr><tr><td><a href="#slide010">Short Passages Pattern</a> [10/72] </td></tr><tr><td><a href="#slide011">Iterator Pattern</a> [11/72] </td></tr><tr><td><a href="#slide012">Iterator Pattern</a> [12/72] </td></tr><tr><td><a href="#slide013">Iterator Pattern</a> [13/72] </td></tr><tr><td><a href="#slide014">Iterator Pattern</a> [14/72] </td></tr><tr><td><a href="#slide015">Model/View/Controller</a> [15/72] </td></tr><tr><td><a href="#slide016">Model/View/Controller</a> [16/72] </td></tr><tr><td><a href="#slide017">Model/View/Controller</a> [17/72] </td></tr><tr><td><a href="#slide018">Model/View/Controller</a> [18/72] </td></tr><tr><td><a href="#slide019">Model/View/Controller</a> [19/72] </td></tr><tr><td><a href="#slide020">Observer Pattern</a> [20/72] </td></tr><tr><td><a href="#slide021">Observer Pattern</a> [21/72] </td></tr><tr><td><a href="#slide022">Observer Pattern</a> [22/72] </td></tr><tr><td><a href="#slide023">Names in Observer Pattern</a> [23/72] </td></tr><tr><td><a href="#slide024">Layout Managers</a> [24/72] </td></tr><tr><td><a href="#slide025">Layout Managers</a> [25/72] </td></tr><tr><td><a href="#slide026">Layout Managers</a> [26/72] </td></tr><tr><td><a href="#slide027">Layout Managers</a> [27/72] </td></tr><tr><td><a href="#slide028">Layout Managers</a> [28/72] </td></tr><tr><td><a href="#slide029">Voice Mail System GUI</a> [29/72] </td></tr><tr><td><a href="#slide030">Voice Mail System GUI</a> [30/72] </td></tr><tr><td><a href="#slide031">Voice Mail System GUI</a> [31/72] </td></tr><tr><td><a href="#slide032">Voice Mail System GUI</a> [32/72] </td></tr><tr><td><a href="#slide033">Voice Mail System GUI</a> [33/72] </td></tr><tr><td><a href="#slide034">Custom Layout Manager</a> [34/72] </td></tr><tr><td><a href="#slide035">The LayoutManager Interface Type</a> [35/72] </td></tr><tr><td><a href="#slide036">Form Layout</a> [36/72] </td></tr><tr><td><a href="#slide037">Strategy Pattern</a> [37/72] </td></tr><tr><td><a href="#slide038">Strategy Pattern</a> [38/72] </td></tr><tr><td><a href="#slide039">Strategy Pattern</a> [39/72] </td></tr><tr><td><a href="#slide040">Strategy Pattern: Layout Management     </a> [40/72] </td></tr><tr><td><a href="#slide041">Strategy Pattern: Sorting</a> [41/72] </td></tr><tr><td><a href="#slide042">Containers and Components</a> [42/72] </td></tr><tr><td><a href="#slide043">Composite Pattern</a> [43/72] </td></tr><tr><td><a href="#slide044">Composite Pattern</a> [44/72] </td></tr><tr><td><a href="#slide045">Composite Pattern</a> [45/72] </td></tr><tr><td><a href="#slide046">Scroll Bars</a> [46/72] </td></tr><tr><td><a href="#slide047">Scroll Bars</a> [47/72] </td></tr><tr><td><a href="#slide048">Decorator Pattern</a> [48/72] </td></tr><tr><td><a href="#slide049">Decorator Pattern</a> [49/72] </td></tr><tr><td><a href="#slide050">Decorator Pattern</a> [50/72] </td></tr><tr><td><a href="#slide051">Decorator Pattern: Scroll Bars</a> [51/72] </td></tr><tr><td><a href="#slide052">Streams</a> [52/72] </td></tr><tr><td><a href="#slide053">Decorator Pattern: Input Streams</a> [53/72] </td></tr><tr><td><a href="#slide054">How to Recognize Patterns</a> [54/72] </td></tr><tr><td><a href="#slide055">Litmus Test</a> [55/72] </td></tr><tr><td><a href="#slide056">Litmus Test</a> [56/72] </td></tr><tr><td><a href="#slide057">Putting Patterns to Work</a> [57/72] </td></tr><tr><td><a href="#slide058">Bundles</a> [58/72] </td></tr><tr><td><a href="#slide059">Bundles</a> [59/72] </td></tr><tr><td><a href="#slide060">Discounted Items</a> [60/72] </td></tr><tr><td><a href="#slide061">Discounted Items</a> [61/72] </td></tr><tr><td><a href="#slide062">Model/View Separation</a> [62/72] </td></tr><tr><td><a href="#slide063">Change Listeners</a> [63/72] </td></tr><tr><td><a href="#slide064">Change Listeners</a> [64/72] </td></tr><tr><td><a href="#slide065">Observing the Invoice</a> [65/72] </td></tr><tr><td><a href="#slide066">Iterating Through Invoice Items</a> [66/72] </td></tr><tr><td><a href="#slide067">Iterators</a> [67/72] </td></tr><tr><td><a href="#slide068">Iterators</a> [68/72] </td></tr><tr><td><a href="#slide069">Formatting Invoices</a> [69/72] </td></tr><tr><td><a href="#slide070">Formatting Invoices</a> [70/72] </td></tr><tr><td><a href="#slide071">Formatting Invoices</a> [71/72] </td></tr><tr><td><a href="#slide072">Formatting Invoices</a> [72/72] </td></tr></table><br/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide001">Object-Oriented Design &amp; Patterns</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-001.html"> [1/72] </a></span></td></tr></table><p> </p>
        <h4 xmlns="">Cay S. Horstmann</h4>
        <h3 xmlns="">Chapter 5</h3>
        <h3 xmlns="">Patterns and GUI Programming<br xmlns="http://www.w3.org/1999/xhtml"/>
        </h3>
        <img alt="horstmann-oodp2" src="../images/horstmann-oodp2.jpg" height="500" width="404"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide002">Chapter Topics</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-002.html"> [2/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Iterators</li>
          <li>The Pattern Concept</li>
          <li>The OBSERVER Pattern</li>
          <li>Layout Managers and the STRATEGY Pattern</li>
          <li>Components, Containers, and the COMPOSITE Pattern</li>
          <li>Scroll Bars and the DECORATOR Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>How to Recognize Patterns</li>
          <li>Putting Patterns to Work<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide003">List Iterators</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-003.html"> [3/72] </a></span></td></tr></table><p> </p>
        <pre xmlns="" xml:space="preserve">LinkedList&lt;String&gt; list = . . .;<br xmlns="http://www.w3.org/1999/xhtml"/>ListIterator&lt;String&gt; iterator = list.listIterator();<br xmlns="http://www.w3.org/1999/xhtml"/>while (iterator.hasNext())<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   String current = iterator.next();<br xmlns="http://www.w3.org/1999/xhtml"/>   . . .<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
        <ul xmlns="">
          <li>Why iterators?</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide004">Classical List Data Structure</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-004.html"> [4/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Traverse links directly<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Link currentLink = list.head;<br xmlns="http://www.w3.org/1999/xhtml"/>while (currentLink != null)<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   Object current = currentLink.data;<br xmlns="http://www.w3.org/1999/xhtml"/>   currentLink = currentLink.next;<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Exposes implementation</li>
          <li>Error-prone</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide005">High-Level View of Data Structures</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-005.html"> [5/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Queue<br xmlns="http://www.w3.org/1999/xhtml"/>
            <br xmlns="http://www.w3.org/1999/xhtml"/>
            <img xmlns="http://www.w3.org/1999/xhtml" alt="." src="../images/horstmann-05_01.jpg" height="71" width="604"/><br xmlns="http://www.w3.org/1999/xhtml"/>
            <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Array with random access<br xmlns="http://www.w3.org/1999/xhtml"/>
            <br xmlns="http://www.w3.org/1999/xhtml"/>
            <img xmlns="http://www.w3.org/1999/xhtml" alt="." src="../images/horstmann-05_02.jpg" height="140" width="293"/><br xmlns="http://www.w3.org/1999/xhtml"/>
            <br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>List<br xmlns="http://www.w3.org/1999/xhtml"/>
            ???</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide006">List with Cursor</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-006.html"> [6/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_03.jpg" height="197" width="443"/><br/>
        <br/>
        <pre xmlns="" xml:space="preserve">for (list.reset(); list.hasNext(); list.next())<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   Object x = list.get();<br xmlns="http://www.w3.org/1999/xhtml"/>   . . .<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
        <ul xmlns="">
          <li>Disadvantage: Only one cursor per list</li>
          <li>Iterator is superior concept</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide007">The Pattern Concept</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-007.html"> [7/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>History: Architectural Patterns</li>
          <li>Christopher Alexander</li>
          <li>Each pattern has
            <ul>
              <li>a short <i>name</i></li>
              <li>a brief description of the <i>context</i></li>
              <li>a lengthy description of the <i>problem</i></li>
              <li>a prescription for the <i>solution</i></li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide008">Short Passages Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-008.html"> [8/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_un01.jpg" height="533" width="499"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide009">Short Passages Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-009.html"> [9/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context</h3>
        "...Long, sterile corridors set the scene for everything bad about
        modern
        architecture..."<br/>
        <h3 xmlns="">Problem</h3>
        <p xmlns="">a lengthy description of the problem, including<br xmlns="http://www.w3.org/1999/xhtml"/>
        </p>
        <ul xmlns="">
          <li>a depressing picture</li>
          <li>issues of light and furniture</li>
          <li>research about patient anxiety in hospitals</li>
          <li>research that suggests that corridors over 50 ft are considered
            uncomfortable</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide010">Short Passages Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-010.html"> [10/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Solution</h3>
        Keep passages short. Make them as much like rooms as possible, with
        carpets
        or wood on the floor, furniture, bookshelves, beautiful windows. Make
        them
        generous in shape and always give them plenty of light; the best
        corridors
        and passages of all are those which have windows along an entire wall.<br/>
        <br/>
        <img alt="." src="../images/horstmann-05_un02.jpg" height="246" width="1018"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide011">Iterator Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-011.html"> [11/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context</h3>
        <ol xmlns="">
          <li>An aggregate object contains element objects</li>
          <li>Clients need access to the element objects</li>
          <li>The aggregate object should not expose its internal structure</li>
          <li>Multiple clients may want independent access</li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide012">Iterator Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-012.html"> [12/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Solution</h3>
        <ol xmlns="">
          <li>Define an iterator that fetches one element at a time</li>
          <li>Each iterator object keeps track of the position of the next
            element</li>
          <li>If there are several aggregate/iterator variations, it is best if
            the aggregate and iterator classes realize common interface types.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide013">Iterator Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-013.html"> [13/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_un03.jpg" height="397" width="692"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide014">Iterator Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-014.html"> [14/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Names in pattern are <i>examples</i></li>
          <li>Names differ in each occurrence of pattern</li>
        </ul>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (linked lists)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Aggregate<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">List<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteAggregate<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">LinkedList<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Iterator<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ListIterator<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteIterator<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">anonymous class implementing <tt>ListIterator</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">createIterator()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">listIterator()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">next()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">next()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top;" rowspan="1" colspan="1"><tt>isDone()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">opposite of <tt>hasNext()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top;" rowspan="1" colspan="1"><tt>currentItem()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">return value of <tt>hasNext()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide015">Model/View/Controller</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-015.html"> [15/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Some programs have multiple editable views</li>
          <li>Example: HTML Editor
            <ul>
              <li>WYSIWYG view<br xmlns="http://www.w3.org/1999/xhtml"/>
              </li>
              <li>structure view</li>
              <li>source view</li>
            </ul>
          </li>
          <li>Editing one view updates the other</li>
          <li>Updates seem instantaneous</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide016">Model/View/Controller</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-016.html"> [16/72] </a></span></td></tr></table><p> </p>
        <br/>
        <img alt="" src="../images/horstmann-05_04.png" height="894" width="1084"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide017">Model/View/Controller</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-017.html"> [17/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Model: data structure, no visual representation</li>
          <li>Views: visual representations</li>
          <li>Controllers: user interaction</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide018">Model/View/Controller</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-018.html"> [18/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Views/controllers update model</li>
          <li>Model tells views that data has changed</li>
          <li>Views redraw themselves</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide019">Model/View/Controller</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-019.html"> [19/72] </a></span></td></tr></table><p> </p>
        <br/>
        <img alt="." src="../images/horstmann-05_05.jpg" height="469" width="733"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide020">Observer Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-020.html"> [20/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Model notifies views when something interesting happens</li>
          <li>Button notifies action listeners when something interesting
            happens<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Views attach themselves to model in order to be notified</li>
          <li>Action listeners attach themselves to button in order to be
            notified</li>
          <li>Generalize: <i>Observers</i> attach themselves to <i>subject</i></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide021">Observer Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-021.html"> [21/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context<br xmlns="http://www.w3.org/1999/xhtml"/>
        </h3>
        <ol xmlns="">
          <li>An object, called the subject, is source of events</li>
          <li>One or more observer objects want to be notified when such an
            event occurs.</li>
        </ol>
        <h3 xmlns="">Solution</h3>
        <ol xmlns="">
          <li>Define an observer interface type. All concrete observers
            implement it.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>The subject maintains a collection of observers.</li>
          <li>The subject supplies methods for attaching and detaching
            observers.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Whenever an event occurs, the subject notifies all observers.</li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide022">Observer Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-022.html"> [22/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_un04.jpg" height="331" width="495"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide023">Names in Observer Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-023.html"> [23/72] </a></span></td></tr></table><p> </p>
        <table xmlns="" border="1" cellpadding="2" cellspacing="2" width="100%">
          <tbody>
            <tr>
              <td valign="top" rowspan="1" colspan="1"><b>Name in Design Pattern</b><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td valign="top" rowspan="1" colspan="1"><b>Actual Name (Swing buttons)</b><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="font-family: monospace;" valign="top" rowspan="1" colspan="1">Subject<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td valign="top" rowspan="1" colspan="1"><tt>JButton</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="font-family: monospace;" valign="top" rowspan="1" colspan="1">Observer<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td valign="top" rowspan="1" colspan="1"><tt>ActionListener</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="font-family: monospace;" valign="top" rowspan="1" colspan="1">ConcreteObserver<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td valign="top" rowspan="1" colspan="1">the class that implements the <tt>ActionListener</tt>
                interface type<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="font-family: monospace;" valign="top" rowspan="1" colspan="1">attach()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td valign="top" rowspan="1" colspan="1"><tt>addActionListener()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="font-family: monospace;" valign="top" rowspan="1" colspan="1">notify()</td>
              <td valign="top" rowspan="1" colspan="1"><tt>actionPerformed()</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide024">Layout Managers</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-024.html"> [24/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>User interfaces made up of <i>components</i></li>
          <li>Components placed in <i>containers</i></li>
          <li>Container needs to arrange components</li>
          <li>Swing doesn't use hard-coded pixel coordinates</li>
          <li>Advantages:
            <ul>
              <li>Can switch "look and feel"</li>
              <li>Can internationalize strings</li>
            </ul>
          </li>
          <li>Layout manager controls arrangement</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide025">Layout Managers</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-025.html"> [25/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>FlowLayout</tt>: left to right, start new row when full</li>
          <li><tt>BoxLayout</tt>: left to right or top to bottom</li>
          <li><tt>BorderLayout</tt>: 5 areas, Center, North, South, East, West</li>
          <li><tt>GridLayout</tt>: grid, all components have same size</li>
          <li><tt>GridBagLayout</tt>: complex, like HTML table</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide026">Layout Managers</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-026.html"> [26/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_06.jpg" height="680" width="935"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide027">Layout Managers</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-027.html"> [27/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Set layout manager<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>JPanel keyPanel = new JPanel();<br xmlns="http://www.w3.org/1999/xhtml"/>
              keyPanel.setLayout(new GridLayout(4, 3));</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Add components<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>for (int i = 0; i &lt; 12; i++)<br xmlns="http://www.w3.org/1999/xhtml"/>
                 keyPanel.add(button[i]);</tt></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide028">Layout Managers</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-028.html"> [28/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_07.jpg" height="381" width="576"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide029">Voice Mail System GUI</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-029.html"> [29/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Same backend as text-based system<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Only <tt>Telephone</tt> class changes</li>
          <li>Buttons for keypad</li>
          <li>Text areas for microphone, speaker</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide030">Voice Mail System GUI</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-030.html"> [30/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_08.jpg" height="667" width="352"/> <img alt="" src="../images/horstmann-05_09.png" height="500" width="277"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide031">Voice Mail System GUI</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-031.html"> [31/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Arrange keys in panel with <tt>GridLayout</tt>:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">JPanel keyPanel = new JPanel(); <br xmlns="http://www.w3.org/1999/xhtml"/>keyPanel.setLayout(new GridLayout(4, 3)); <br xmlns="http://www.w3.org/1999/xhtml"/>for (int i = 0; i &lt; 12; i++) <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   JButton keyButton = new JButton(...); <br xmlns="http://www.w3.org/1999/xhtml"/>   keyPanel.add(keyButton); <br xmlns="http://www.w3.org/1999/xhtml"/>   keyButton.addActionListener(...);<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide032">Voice Mail System GUI</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-032.html"> [32/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Panel with <tt>BorderLayout</tt> for speaker<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">JPanel speakerPanel = new JPanel(); <br xmlns="http://www.w3.org/1999/xhtml"/>speakerPanel.setLayout(new BorderLayout()); <br xmlns="http://www.w3.org/1999/xhtml"/>speakerPanel.add(new JLabel("Speaker:"), BorderLayout.NORTH); <br xmlns="http://www.w3.org/1999/xhtml"/>speakerField = new JTextArea(10, 25); <br xmlns="http://www.w3.org/1999/xhtml"/>speakerPanel.add(speakerField, BorderLayout.CENTER);<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
        <img alt="." src="../images/horstmann-05_10.jpg" height="266" width="474"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide033">Voice Mail System GUI</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-033.html"> [33/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Add speaker, keypads, and microphone panel to frame</li>
          <li>Frame already has <tt>BorderLayout</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <img alt="." src="../images/horstmann-05_11.jpg" height="635" width="484"/><br/>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_mailgui/Telephone_java.html">file:horstmann/ch05_mailgui/Telephone.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_mailgui/Telephone.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_mailgui/Telephone.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_mailgui/Telephone.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_mailgui<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> 
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">   Presents a phone GUI for the voice mail system.</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Telephone</span>
<span style="color: #000000">00010:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a telephone with a speaker, keypad,</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      and microphone.</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00015:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Telephone</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00016:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>       <span style="color: #008080">JPanel</span> speakerPanel <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JPanel</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00018:</span>       speakerPanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setLayout</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">BorderLayout</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00019:</span>       speakerPanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JLabel</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Speaker:"</span><span style="color: #990000">),</span>
<span style="color: #000000">00020:</span>             BorderLayout<span style="color: #990000">.</span>NORTH<span style="color: #990000">);</span>
<span style="color: #000000">00021:</span>       speakerField <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextArea</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">,</span> <span style="color: #993399">25</span><span style="color: #990000">);</span>
<span style="color: #000000">00022:</span>       speakerPanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>speakerField<span style="color: #990000">,</span>
<span style="color: #000000">00023:</span>             BorderLayout<span style="color: #990000">.</span>CENTER<span style="color: #990000">);</span>
<span style="color: #000000">00024:</span> 
<span style="color: #000000">00025:</span>       <span style="color: #008080">String</span> keyLabels <span style="color: #990000">=</span> <span style="color: #FF0000">"123456789*0#"</span><span style="color: #990000">;</span>
<span style="color: #000000">00026:</span>       <span style="color: #008080">JPanel</span> keyPanel <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JPanel</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00027:</span>       keyPanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setLayout</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">GridLayout</span></span><span style="color: #990000">(</span><span style="color: #993399">4</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">));</span>
<span style="color: #000000">00028:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> keyLabels<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">length</span></span><span style="color: #990000">();</span> i<span style="color: #990000">++)</span>
<span style="color: #000000">00029:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00030:</span>          <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">String</span> label <span style="color: #990000">=</span> keyLabels<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">substring</span></span><span style="color: #990000">(</span>i<span style="color: #990000">,</span> i <span style="color: #990000">+</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00031:</span>          <span style="color: #008080">JButton</span> keyButton <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JButton</span></span><span style="color: #990000">(</span>label<span style="color: #990000">);</span>
<span style="color: #000000">00032:</span>          keyPanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>keyButton<span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>          keyButton<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addActionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00034:</span>             <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00035:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>                <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00037:</span>                <span style="color: #FF0000">{</span>
<span style="color: #000000">00038:</span>                   connect<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dial</span></span><span style="color: #990000">(</span>label<span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>                <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span>             <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00041:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00042:</span> 
<span style="color: #000000">00043:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">JTextArea</span> microphoneField <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextArea</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">,</span><span style="color: #993399">25</span><span style="color: #990000">);</span>
<span style="color: #000000">00044:</span> 
<span style="color: #000000">00045:</span>       <span style="color: #008080">JButton</span> speechButton <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Send speech"</span><span style="color: #990000">);</span>
<span style="color: #000000">00046:</span>       speechButton<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addActionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00047:</span>          <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00048:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00049:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00050:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00051:</span>                connect<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">record</span></span><span style="color: #990000">(</span>microphoneField<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getText</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00052:</span>                microphoneField<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setText</span></span><span style="color: #990000">(</span><span style="color: #FF0000">""</span><span style="color: #990000">);</span>
<span style="color: #000000">00053:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00054:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00055:</span> 
<span style="color: #000000">00056:</span>       <span style="color: #008080">JButton</span> hangupButton <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hangup"</span><span style="color: #990000">);</span>
<span style="color: #000000">00057:</span>       hangupButton<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addActionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00058:</span>          <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00059:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00060:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00061:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00062:</span>                connect<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hangup</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00063:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00064:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00065:</span> 
<span style="color: #000000">00066:</span>       <span style="color: #008080">JPanel</span> buttonPanel <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JPanel</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00067:</span>       buttonPanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>speechButton<span style="color: #990000">);</span>
<span style="color: #000000">00068:</span>       buttonPanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>hangupButton<span style="color: #990000">);</span>
<span style="color: #000000">00069:</span> 
<span style="color: #000000">00070:</span>       <span style="color: #008080">JPanel</span> microphonePanel <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JPanel</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00071:</span>       microphonePanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setLayout</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">BorderLayout</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00072:</span>       microphonePanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JLabel</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Microphone:"</span><span style="color: #990000">),</span>
<span style="color: #000000">00073:</span>             BorderLayout<span style="color: #990000">.</span>NORTH<span style="color: #990000">);</span>
<span style="color: #000000">00074:</span>       microphonePanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>microphoneField<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>CENTER<span style="color: #990000">);</span>
<span style="color: #000000">00075:</span>       microphonePanel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>buttonPanel<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>SOUTH<span style="color: #990000">);</span>
<span style="color: #000000">00076:</span> 
<span style="color: #000000">00077:</span>       <span style="color: #008080">JFrame</span> frame <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JFrame</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00078:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setDefaultCloseOperation</span></span><span style="color: #990000">(</span>JFrame<span style="color: #990000">.</span>EXIT_ON_CLOSE<span style="color: #990000">);</span>
<span style="color: #000000">00079:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>speakerPanel<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>NORTH<span style="color: #990000">);</span>
<span style="color: #000000">00080:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>keyPanel<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>CENTER<span style="color: #990000">);</span>
<span style="color: #000000">00081:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>microphonePanel<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>SOUTH<span style="color: #990000">);</span>
<span style="color: #000000">00082:</span> 
<span style="color: #000000">00083:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">pack</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00084:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setVisible</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00085:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00086:</span> 
<span style="color: #000000">00087:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00088:</span> <span style="font-style: italic"><span style="color: #9A1900">      Give instructions to the mail system user.</span></span>
<span style="color: #000000">00089:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00090:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">speak</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> output<span style="color: #990000">)</span>
<span style="color: #000000">00091:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00092:</span>       speakerField<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setText</span></span><span style="color: #990000">(</span>output<span style="color: #990000">);</span>
<span style="color: #000000">00093:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00094:</span> 
<span style="color: #000000">00095:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #008080">Connection</span> c<span style="color: #990000">)</span>
<span style="color: #000000">00096:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00097:</span>       connect <span style="color: #990000">=</span> c<span style="color: #990000">;</span>
<span style="color: #000000">00098:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00099:</span> 
<span style="color: #000000">00100:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">JTextArea</span> speakerField<span style="color: #990000">;</span>
<span style="color: #000000">00101:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Connection</span> connect<span style="color: #990000">;</span>
<span style="color: #000000">00102:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00103:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide034">Custom Layout Manager</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-034.html"> [34/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Form layout</li>
          <li>Odd-numbered components right aligned</li>
          <li>Even-numbered components left aligned</li>
          <li>Implement <tt>LayoutManager</tt> interface type<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <img alt="" src="../images/horstmann-05_12.png" height="130" width="283"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide035">The LayoutManager Interface Type</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-035.html"> [35/72] </a></span></td></tr></table><p> </p>
        <pre xmlns="" xml:space="preserve">public interface LayoutManager <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   void layoutContainer(Container parent); <br xmlns="http://www.w3.org/1999/xhtml"/>   Dimension minimumLayoutSize(Container parent); <br xmlns="http://www.w3.org/1999/xhtml"/>   Dimension preferredLayoutSize(Container parent); <br xmlns="http://www.w3.org/1999/xhtml"/>   void addLayoutComponent(String name, Component comp); <br xmlns="http://www.w3.org/1999/xhtml"/>   void removeLayoutComponent(Component comp); <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide036">Form Layout</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-036.html"> [36/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Note: Can use <tt>GridBagLayout</tt> to achieve the same effect<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_layout/FormLayout_java.html">file:horstmann/ch05_layout/FormLayout.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_layout/FormLayout.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_layout/FormLayout.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_layout/FormLayout.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_layout<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> 
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">   A layout manager that lays out components along a central axis</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">FormLayout</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> LayoutManager
<span style="color: #000000">00008:</span> <span style="color: #FF0000">{</span>  
<span style="color: #000000">00009:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Dimension</span> <span style="font-weight: bold"><span style="color: #000000">preferredLayoutSize</span></span><span style="color: #990000">(</span><span style="color: #008080">Container</span> parent<span style="color: #990000">)</span>
<span style="color: #000000">00010:</span>    <span style="color: #FF0000">{</span>  
<span style="color: #000000">00011:</span>       Component<span style="color: #990000">[]</span> components <span style="color: #990000">=</span> parent<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getComponents</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00012:</span>       left <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>       right <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>       height <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> components<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i <span style="color: #990000">+=</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>
<span style="color: #000000">00016:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>          <span style="color: #008080">Component</span> cleft <span style="color: #990000">=</span> components<span style="color: #990000">[</span>i<span style="color: #990000">];</span>
<span style="color: #000000">00018:</span>          <span style="color: #008080">Component</span> cright <span style="color: #990000">=</span> components<span style="color: #990000">[</span>i <span style="color: #990000">+</span> <span style="color: #993399">1</span><span style="color: #990000">];</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>          <span style="color: #008080">Dimension</span> dleft <span style="color: #990000">=</span> cleft<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPreferredSize</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00021:</span>          <span style="color: #008080">Dimension</span> dright <span style="color: #990000">=</span> cright<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPreferredSize</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00022:</span>          left <span style="color: #990000">=</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">max</span></span><span style="color: #990000">(</span>left<span style="color: #990000">,</span> dleft<span style="color: #990000">.</span>width<span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>          right <span style="color: #990000">=</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">max</span></span><span style="color: #990000">(</span>right<span style="color: #990000">,</span> dright<span style="color: #990000">.</span>width<span style="color: #990000">);</span>
<span style="color: #000000">00024:</span>          height <span style="color: #990000">=</span> height <span style="color: #990000">+</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">max</span></span><span style="color: #990000">(</span>dleft<span style="color: #990000">.</span>height<span style="color: #990000">,</span>
<span style="color: #000000">00025:</span>                dright<span style="color: #990000">.</span>height<span style="color: #990000">);</span>
<span style="color: #000000">00026:</span>       <span style="color: #FF0000">}</span>      
<span style="color: #000000">00027:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Dimension</span></span><span style="color: #990000">(</span>left <span style="color: #990000">+</span> GAP <span style="color: #990000">+</span> right<span style="color: #990000">,</span> height<span style="color: #990000">);</span>
<span style="color: #000000">00028:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00029:</span>       
<span style="color: #000000">00030:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Dimension</span> <span style="font-weight: bold"><span style="color: #000000">minimumLayoutSize</span></span><span style="color: #990000">(</span><span style="color: #008080">Container</span> parent<span style="color: #990000">)</span>
<span style="color: #000000">00031:</span>    <span style="color: #FF0000">{</span>  
<span style="color: #000000">00032:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">preferredLayoutSize</span></span><span style="color: #990000">(</span>parent<span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> 
<span style="color: #000000">00035:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">layoutContainer</span></span><span style="color: #990000">(</span><span style="color: #008080">Container</span> parent<span style="color: #990000">)</span>
<span style="color: #000000">00036:</span>    <span style="color: #FF0000">{</span>  
<span style="color: #000000">00037:</span>       <span style="font-weight: bold"><span style="color: #000000">preferredLayoutSize</span></span><span style="color: #990000">(</span>parent<span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">// Sets left, right</span></span>
<span style="color: #000000">00038:</span> 
<span style="color: #000000">00039:</span>       Component<span style="color: #990000">[]</span> components <span style="color: #990000">=</span> parent<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getComponents</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00040:</span> 
<span style="color: #000000">00041:</span>       <span style="color: #008080">Insets</span> insets <span style="color: #990000">=</span> parent<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getInsets</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00042:</span>       <span style="color: #009900">int</span> xcenter <span style="color: #990000">=</span> insets<span style="color: #990000">.</span>left <span style="color: #990000">+</span> left<span style="color: #990000">;</span>
<span style="color: #000000">00043:</span>       <span style="color: #009900">int</span> y <span style="color: #990000">=</span> insets<span style="color: #990000">.</span>top<span style="color: #990000">;</span>
<span style="color: #000000">00044:</span> 
<span style="color: #000000">00045:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> components<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i <span style="color: #990000">+=</span> <span style="color: #993399">2</span><span style="color: #990000">)</span>
<span style="color: #000000">00046:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00047:</span>          <span style="color: #008080">Component</span> cleft <span style="color: #990000">=</span> components<span style="color: #990000">[</span>i<span style="color: #990000">];</span>
<span style="color: #000000">00048:</span>          <span style="color: #008080">Component</span> cright <span style="color: #990000">=</span> components<span style="color: #990000">[</span>i <span style="color: #990000">+</span> <span style="color: #993399">1</span><span style="color: #990000">];</span>
<span style="color: #000000">00049:</span> 
<span style="color: #000000">00050:</span>          <span style="color: #008080">Dimension</span> dleft <span style="color: #990000">=</span> cleft<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPreferredSize</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00051:</span>          <span style="color: #008080">Dimension</span> dright <span style="color: #990000">=</span> cright<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPreferredSize</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00052:</span> 
<span style="color: #000000">00053:</span>          <span style="color: #009900">int</span> height <span style="color: #990000">=</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">max</span></span><span style="color: #990000">(</span>dleft<span style="color: #990000">.</span>height<span style="color: #990000">,</span> dright<span style="color: #990000">.</span>height<span style="color: #990000">);</span>
<span style="color: #000000">00054:</span> 
<span style="color: #000000">00055:</span>          cleft<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setBounds</span></span><span style="color: #990000">(</span>xcenter <span style="color: #990000">-</span> dleft<span style="color: #990000">.</span>width<span style="color: #990000">,</span> y <span style="color: #990000">+</span> <span style="color: #990000">(</span>height 
<span style="color: #000000">00056:</span>                <span style="color: #990000">-</span> dleft<span style="color: #990000">.</span>height<span style="color: #990000">)</span> <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> dleft<span style="color: #990000">.</span>width<span style="color: #990000">,</span> dleft<span style="color: #990000">.</span>height<span style="color: #990000">);</span>
<span style="color: #000000">00057:</span> 
<span style="color: #000000">00058:</span>          cright<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setBounds</span></span><span style="color: #990000">(</span>xcenter <span style="color: #990000">+</span> GAP<span style="color: #990000">,</span> y <span style="color: #990000">+</span> <span style="color: #990000">(</span>height 
<span style="color: #000000">00059:</span>                <span style="color: #990000">-</span> dright<span style="color: #990000">.</span>height<span style="color: #990000">)</span> <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> dright<span style="color: #990000">.</span>width<span style="color: #990000">,</span> dright<span style="color: #990000">.</span>height<span style="color: #990000">);</span>
<span style="color: #000000">00060:</span>          y <span style="color: #990000">+=</span> height<span style="color: #990000">;</span>
<span style="color: #000000">00061:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00062:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00063:</span> 
<span style="color: #000000">00064:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addLayoutComponent</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> name<span style="color: #990000">,</span> <span style="color: #008080">Component</span> comp<span style="color: #990000">)</span>
<span style="color: #000000">00065:</span>    <span style="color: #FF0000">{}</span>
<span style="color: #000000">00066:</span> 
<span style="color: #000000">00067:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">removeLayoutComponent</span></span><span style="color: #990000">(</span><span style="color: #008080">Component</span> comp<span style="color: #990000">)</span>
<span style="color: #000000">00068:</span>    <span style="color: #FF0000">{}</span>
<span style="color: #000000">00069:</span> 
<span style="color: #000000">00070:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> left<span style="color: #990000">;</span>
<span style="color: #000000">00071:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> right<span style="color: #990000">;</span>
<span style="color: #000000">00072:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> height<span style="color: #990000">;</span>
<span style="color: #000000">00073:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> GAP <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">;</span>
<span style="color: #000000">00074:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00075:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_layout/FormLayoutTester_java.html">file:horstmann/ch05_layout/FormLayoutTester.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_layout/FormLayoutTester.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_layout/FormLayoutTester.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_layout/FormLayoutTester.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_layout<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">FormLayoutTester</span>
<span style="color: #000000">00006:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span>
<span style="color: #000000">00008:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>       <span style="color: #008080">JFrame</span> frame <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JFrame</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setLayout</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FormLayout</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00011:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JLabel</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Name"</span><span style="color: #990000">));</span>
<span style="color: #000000">00012:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextField</span></span><span style="color: #990000">(</span><span style="color: #993399">15</span><span style="color: #990000">));</span>
<span style="color: #000000">00013:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JLabel</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Address"</span><span style="color: #990000">));</span>
<span style="color: #000000">00014:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextField</span></span><span style="color: #990000">(</span><span style="color: #993399">20</span><span style="color: #990000">));</span>
<span style="color: #000000">00015:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JLabel</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"City"</span><span style="color: #990000">));</span>
<span style="color: #000000">00016:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextField</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">));</span>
<span style="color: #000000">00017:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JLabel</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"State"</span><span style="color: #990000">));</span>
<span style="color: #000000">00018:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextField</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">));</span>
<span style="color: #000000">00019:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JLabel</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"ZIP"</span><span style="color: #990000">));</span>
<span style="color: #000000">00020:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextField</span></span><span style="color: #990000">(</span><span style="color: #993399">5</span><span style="color: #990000">));</span>
<span style="color: #000000">00021:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setDefaultCloseOperation</span></span><span style="color: #990000">(</span>JFrame<span style="color: #990000">.</span>EXIT_ON_CLOSE<span style="color: #990000">);</span>
<span style="color: #000000">00022:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">pack</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00023:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setVisible</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00024:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> 
<span style="color: #000000">00027:</span> 
<span style="color: #000000">00028:</span> 
<span style="color: #000000">00029:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide037">Strategy Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-037.html"> [37/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Pluggable strategy for layout management</li>
          <li>Layout manager object responsible for executing concrete strategy</li>
          <li>Generalizes to Strategy Design Pattern</li>
          <li>Other manifestation: Comparators<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Comparator&lt;Country&gt; comp = new CountryComparatorByName();<br xmlns="http://www.w3.org/1999/xhtml"/>Collections.sort(countries, comp);<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide038">Strategy Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-038.html"> [38/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context</h3>
        <ol xmlns="">
          <li>A class can benefit from different variants for an algorithm</li>
          <li>Clients sometimes want to replace standard algorithms with custom
            versions</li>
        </ol>
        <h3 xmlns="">Solution</h3>
        <ol xmlns="">
          <li>Define an interface type that is an abstraction for the algorithm</li>
          <li>Actual strategy classes realize this interface type.</li>
          <li>Clients can supply strategy objects</li>
          <li>Whenever the algorithm needs to be executed, the context class
            calls the appropriate methods of the strategy object<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide039">Strategy Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-039.html"> [39/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_un05.jpg" height="348" width="544"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide040">Strategy Pattern: Layout Management     </a></span><span style="font-weight: normal"><a href="notes-horstmann-05-040.html"> [40/72] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (layout management)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Context<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Container<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Strategy<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">LayoutManager<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteStrategy<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">a layout manager such as <tt>BorderLayout</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">doWork()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">a method such as <tt>layoutContainer</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide041">Strategy Pattern: Sorting</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-041.html"> [41/72] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (sorting)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Context<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Collections<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Strategy<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Comparator<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteStrategy<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">a class that implements <tt>Comparator</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">doWork()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1"><tt>compare</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide042">Containers and Components</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-042.html"> [42/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Containers collect GUI components</li>
          <li>Sometimes, want to add a container to another container</li>
          <li>Container should <i>be</i> a component</li>
          <li>Composite design pattern</li>
          <li>Composite method typically invoke component methods</li>
          <li>E.g. <tt>Container.getPreferredSize</tt> invokes <tt>getPreferredSize</tt>
            of components</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide043">Composite Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-043.html"> [43/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context</h3>
        <ol xmlns="">
          <li>Primitive objects can be combined to composite objects</li>
          <li>Clients treat a composite object as a primitive object<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ol>
        <h3 xmlns="">Solution</h3>
        <ol xmlns="">
          <li>Define an interface type that is an abstraction for the primitive
            objects</li>
          <li>Composite object collects primitive objects<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Composite and primitive classes implement same interface type.</li>
          <li>When implementing a method from the interface type, the composite
            class applies the method to its primitive objects and combines the
            results</li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide044">Composite Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-044.html"> [44/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_un06.jpg" height="352" width="850"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide045">Composite Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-045.html"> [45/72] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (AWT components)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Primitive<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Component<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Composite<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Container<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Leaf<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">a component without children
                (e.g. <tt>JButton</tt>)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">method()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">a method of <tt>Component</tt>
                (e.g. <tt>getPreferredSize</tt>)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide046">Scroll Bars</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-046.html"> [46/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Scroll bars can be attached to components</li>
          <li>Approach #1: <tt>Component</tt> class can turn on scroll bars</li>
          <li>Approach #2: Scroll bars can surround component<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">JScrollPane pane = new JScrollPane(component);<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Swing uses approach #2</li>
          <li><tt>JScrollPane</tt> is again a component</li>
        </ul>
        <img alt="" src="../images/horstmann-05_13.png" height="202" width="202"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide047">Scroll Bars</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-047.html"> [47/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_14.jpg"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide048">Decorator Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-048.html"> [48/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context</h3>
        <ol xmlns="">
          <li>Component objects can be decorated (visually or behaviorally
            enhanced)</li>
          <li>The decorated object can be used in the same way as the
            undecorated object</li>
          <li>The component class does not want to take on the responsibility
            of the decoration</li>
          <li>There may be an open-ended set of possible decorations</li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide049">Decorator Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-049.html"> [49/72] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Solution</h3>
        <ol xmlns="">
          <li>Define an interface type that is an abstraction for the component</li>
          <li>Concrete component classes realize this interface type.</li>
          <li>Decorator classes also realize this interface type.</li>
          <li>A decorator object manages the component object that it decorates</li>
          <li>When implementing a method from the component interface type, the
            decorator class applies the method to the decorated component and
            combines the result with the effect of the decoration.</li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide050">Decorator Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-050.html"> [50/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_un07.jpg" height="348" width="880"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide051">Decorator Pattern: Scroll Bars</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-051.html"> [51/72] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (scroll bars)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Component</td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Component<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteComponent</td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">JTextArea</td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Decorator</td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">JScrollPane</td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">method()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top;" rowspan="1" colspan="1">a method of <tt>Component</tt>
                (e.g. <tt>paint</tt>)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide052">Streams</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-052.html"> [52/72] </a></span></td></tr></table><p> </p>
        <pre xmlns="" xml:space="preserve">InputStreamReader reader = new InputStreamReader(System.in); <br xmlns="http://www.w3.org/1999/xhtml"/>BufferedReader console = new BufferedReader(reader); <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
        <ul xmlns="">
          <li><tt>BufferedReader</tt> takes a <tt>Reader</tt> and adds
            buffering</li>
          <li>Result is another <tt>Reader</tt>: Decorator pattern</li>
          <li>Many other decorators in stream library, e.g. <tt>PrintWriter</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide053">Decorator Pattern: Input Streams</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-053.html"> [53/72] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (input streams)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Component</td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Reader</td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteComponent</td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">InputStreamReader</td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Decorator</td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">BufferedReader</td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">method()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">read</td>
            </tr>
          </tbody>
        </table>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide054">How to Recognize Patterns</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-054.html"> [54/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Look at the <i>intent</i> of the pattern</li>
          <li>E.g. C<small>OMPOSITE</small> has different intent than D<small>ECORATOR</small><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><small> <big>Remember common uses (e.g. S<small>TRATEGY</small>
                for layout managers)</big></small></li>
          <li><small><big>Not everything that is strategic is an example of S<small>TRATEGY</small>
                pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </big></small></li>
          <li><small><big>Use context and solution as "litmus test"</big></small></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide055">Litmus Test</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-055.html"> [55/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Can add border to Swing component<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Border b = new EtchedBorder()<br xmlns="http://www.w3.org/1999/xhtml"/>component.setBorder(b);<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Undeniably decorative</li>
          <li>Is it an example of D<small>ECORATOR</small>?</li>
        </ul>
        <img alt="" src="../images/horstmann-05_15.png" height="118" width="298"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide056">Litmus Test</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-056.html"> [56/72] </a></span></td></tr></table><p> </p>
        <ol xmlns="">
          <li>Component objects can be decorated (visually or behaviorally
            enhanced)<br xmlns="http://www.w3.org/1999/xhtml"/>
            <b>PASS</b><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>The decorated object can be used in the same way as the
            undecorated object<br xmlns="http://www.w3.org/1999/xhtml"/>
            <b>PASS</b><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>The component class does not want to take on the responsibility
            of the decoration<br xmlns="http://www.w3.org/1999/xhtml"/>
            <b>FAIL--the component class has <tt>setBorder</tt> method</b><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>There may be an open-ended set of possible decorations</li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide057">Putting Patterns to Work</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-057.html"> [57/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Invoice contains <i>line items</i></li>
          <li>Line item has description, price</li>
          <li>Interface type <tt>LineItem</tt>
          </li>
          <li><tt>Product</tt> is a concrete class that implements this
            interface
          </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/LineItem_java.html">file:horstmann/ch05_invoice/LineItem.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/LineItem.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/LineItem.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/LineItem.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">   A line item in an invoice.</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">LineItem</span>
<span style="color: #000000">00006:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the price of this line item.</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the price</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00011:</span>    <span style="color: #009900">double</span> <span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00012:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets the description of this line item.</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the description</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>   
<span style="color: #000000">00016:</span>    <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00017:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/Product_java.html">file:horstmann/ch05_invoice/Product.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/Product.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/Product.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/Product.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">   A product with a price and description.</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Product</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> LineItem
<span style="color: #000000">00006:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a product.</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> description the description</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> price the price</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00012:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Product</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> description<span style="color: #990000">,</span> <span style="color: #009900">double</span> price<span style="color: #990000">)</span>
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>description <span style="color: #990000">=</span> description<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>price <span style="color: #990000">=</span> price<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">double</span> <span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> price<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> description<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">String</span> description<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> price<span style="color: #990000">;</span>
<span style="color: #000000">00021:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide058">Bundles</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-058.html"> [58/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Bundle = set of related items with description+price</li>
          <li>E.g. stereo system with tuner, amplifier, CD player + speakers</li>
          <li>A bundle has line items</li>
          <li>A bundle is a line item</li>
          <li>C<small>OMPOSITE</small> pattern</li>
          <li> (look at <tt>getPrice</tt>)<br xmlns="http://www.w3.org/1999/xhtml"/> </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/Bundle_java.html">file:horstmann/ch05_invoice/Bundle.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/Bundle.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/Bundle.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/Bundle.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> 
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">   A bundle of line items that is again a line item.</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Bundle</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> LineItem
<span style="color: #000000">00008:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a bundle with no items.</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00012:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Bundle</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> items <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>LineItem<span style="color: #990000">&gt;();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> 
<span style="color: #000000">00014:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">      Adds an item to the bundle.</span></span>
<span style="color: #000000">00016:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> item the item to add</span></span>
<span style="color: #000000">00017:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00018:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #008080">LineItem</span> item<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> items<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>item<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">double</span> <span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>       <span style="color: #009900">double</span> price <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00023:</span> 
<span style="color: #000000">00024:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">LineItem</span> item <span style="color: #990000">:</span> items<span style="color: #990000">)</span>
<span style="color: #000000">00025:</span>          price <span style="color: #990000">+=</span> item<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00026:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> price<span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> 
<span style="color: #000000">00029:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00030:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00031:</span>       <span style="color: #008080">String</span> description <span style="color: #990000">=</span> <span style="color: #FF0000">"Bundle: "</span><span style="color: #990000">;</span>
<span style="color: #000000">00032:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i <span style="color: #990000">&lt;</span> items<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span> i<span style="color: #990000">++)</span>
<span style="color: #000000">00033:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00034:</span>          <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> description <span style="color: #990000">+=</span> <span style="color: #FF0000">", "</span><span style="color: #990000">;</span>
<span style="color: #000000">00035:</span>          description <span style="color: #990000">+=</span> items<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>i<span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00036:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00037:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> description<span style="color: #990000">;</span>
<span style="color: #000000">00038:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span> 
<span style="color: #000000">00040:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;LineItem&gt;</span> items<span style="color: #990000">;</span>
<span style="color: #000000">00041:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00042:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide059">Bundles</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-059.html"> [59/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_16.jpg" height="344" width="851"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide060">Discounted Items</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-060.html"> [60/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Store may give discount for an item</li>
          <li>Discounted item is again an item</li>
          <li>D<small>ECORATOR</small> pattern</li>
          <li> (look at <tt>getPrice</tt>)</li>
          <li>Alternative design: add discount to <tt>LineItem</tt></li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/DiscountedItem_java.html">file:horstmann/ch05_invoice/DiscountedItem.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/DiscountedItem.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/DiscountedItem.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/DiscountedItem.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">   A decorator for an item that applies a discount.</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">DiscountedItem</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> LineItem
<span style="color: #000000">00006:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a discounted item.</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> item the item to be discounted</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> discount the discount percentage</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00012:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">DiscountedItem</span></span><span style="color: #990000">(</span><span style="color: #008080">LineItem</span> item<span style="color: #990000">,</span> <span style="color: #009900">double</span> discount<span style="color: #990000">)</span> 
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">{</span> 
<span style="color: #000000">00014:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>item <span style="color: #990000">=</span> item<span style="color: #990000">;</span> 
<span style="color: #000000">00015:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>discount <span style="color: #990000">=</span> discount<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> 
<span style="color: #000000">00018:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">double</span> <span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">()</span> 
<span style="color: #000000">00019:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> item<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">()</span> <span style="color: #990000">*</span> <span style="color: #990000">(</span><span style="color: #993399">1</span> <span style="color: #990000">-</span> discount <span style="color: #990000">/</span> <span style="color: #993399">100</span><span style="color: #990000">);</span> 
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> 
<span style="color: #000000">00023:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00024:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> item<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #990000">+</span> <span style="color: #FF0000">" (Discount "</span> <span style="color: #990000">+</span> discount
<span style="color: #000000">00026:</span>          <span style="color: #990000">+</span> <span style="color: #FF0000">"%)"</span><span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>    <span style="color: #FF0000">}</span> 
<span style="color: #000000">00028:</span> 
<span style="color: #000000">00029:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">LineItem</span> item<span style="color: #990000">;</span>
<span style="color: #000000">00030:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> discount<span style="color: #990000">;</span>
<span style="color: #000000">00031:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00032:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide061">Discounted Items</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-061.html"> [61/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_17.jpg" height="354" width="880"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide062">Model/View Separation</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-062.html"> [62/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>GUI has commands to add items to invoice</li>
          <li>GUI displays invoice</li>
          <li>Decouple input from display</li>
          <li>Display wants to know <i>when</i> invoice is modified</li>
          <li>Display doesn't care which command modified invoice</li>
          <li>O<tt>BSERVER</tt> pattern</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide063">Change Listeners</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-063.html"> [63/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Use standard <tt>ChangeListener</tt> interface type<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public interface ChangeListener<br xmlns="http://www.w3.org/1999/xhtml"/>
              {<br xmlns="http://www.w3.org/1999/xhtml"/>
                 void stateChanged(ChangeEvent event);<br xmlns="http://www.w3.org/1999/xhtml"/>
              }</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>Invoice</tt> collects <tt>ArrayList</tt> of change listeners</li>
          <li>When the invoice changes, it notifies all listeners:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>ChangeEvent event = new ChangeEvent(this);<br xmlns="http://www.w3.org/1999/xhtml"/>
              for (ChangeListener listener : listeners)<br xmlns="http://www.w3.org/1999/xhtml"/>
                 listener.stateChanged(event);</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide064">Change Listeners</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-064.html"> [64/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Display adds itself as a change listener to the invoice</li>
          <li>Display updates itself when invoice object changes state<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">final Invoice invoice = new Invoice();<br xmlns="http://www.w3.org/1999/xhtml"/>final JTextArea textArea = new JTextArea(20, 40);<br xmlns="http://www.w3.org/1999/xhtml"/>ChangeListener listener = new<br xmlns="http://www.w3.org/1999/xhtml"/>   ChangeListener()<br xmlns="http://www.w3.org/1999/xhtml"/>   {<br xmlns="http://www.w3.org/1999/xhtml"/>      public void stateChanged(ChangeEvent event)<br xmlns="http://www.w3.org/1999/xhtml"/>      {<br xmlns="http://www.w3.org/1999/xhtml"/>         textArea.setText(...);<br xmlns="http://www.w3.org/1999/xhtml"/>      }<br xmlns="http://www.w3.org/1999/xhtml"/>   };<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide065">Observing the Invoice</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-065.html"> [65/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_18.jpg" height="364" width="528"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide066">Iterating Through Invoice Items</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-066.html"> [66/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Invoice collect line items</li>
          <li>Clients need to iterate over line items</li>
          <li>Don't want to expose <tt>ArrayList</tt></li>
          <li>May change (e.g. if storing invoices in database)</li>
          <li>I<tt>TERATOR</tt> pattern</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide067">Iterators</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-067.html"> [67/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Use standard <tt>Iterator</tt> interface type<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public interface Iterator&lt;LineItem&gt;</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>{</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   boolean hasNext();</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   LineItem next();</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   void remove();</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>}</tt></li>
          <li><tt><tt>remove</tt></tt> is "optional operation" (see ch. 8)</li>
          <li>implement to throw <tt>UnsupportedException</tt></li>
          <li>implement <tt>hasNext/next</tt> manually to show inner workings</li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/Invoice_java.html">file:horstmann/ch05_invoice/Invoice.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/Invoice.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/Invoice.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/Invoice.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   An invoice for a sale, consisting of line items.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Invoice</span>
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a blank invoice.</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00013:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Invoice</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00014:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>       items <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>LineItem<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00016:</span>       listeners <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>ChangeListener<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00017:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> 
<span style="color: #000000">00019:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00020:</span> <span style="font-style: italic"><span style="color: #9A1900">      Adds an item to the invoice.</span></span>
<span style="color: #000000">00021:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> item the item to add</span></span>
<span style="color: #000000">00022:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00023:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addItem</span></span><span style="color: #990000">(</span><span style="color: #008080">LineItem</span> item<span style="color: #990000">)</span>
<span style="color: #000000">00024:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>       items<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>item<span style="color: #990000">);</span>
<span style="color: #000000">00026:</span>       <span style="font-style: italic"><span style="color: #9A1900">// Notify all observers of the change to the invoice</span></span>
<span style="color: #000000">00027:</span>       <span style="color: #008080">ChangeEvent</span> event <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ChangeEvent</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00028:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">ChangeListener</span> listener <span style="color: #990000">:</span> listeners<span style="color: #990000">)</span>
<span style="color: #000000">00029:</span>          listener<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">stateChanged</span></span><span style="color: #990000">(</span>event<span style="color: #990000">);</span>
<span style="color: #000000">00030:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span> 
<span style="color: #000000">00032:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00033:</span> <span style="font-style: italic"><span style="color: #9A1900">      Adds a change listener to the invoice.</span></span>
<span style="color: #000000">00034:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> listener the change listener to add</span></span>
<span style="color: #000000">00035:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00036:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addChangeListener</span></span><span style="color: #990000">(</span><span style="color: #008080">ChangeListener</span> listener<span style="color: #990000">)</span>
<span style="color: #000000">00037:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00038:</span>       listeners<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>listener<span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span> 
<span style="color: #000000">00041:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00042:</span> <span style="font-style: italic"><span style="color: #9A1900">      Gets an iterator that iterates through the items.</span></span>
<span style="color: #000000">00043:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> an iterator for the items</span></span>
<span style="color: #000000">00044:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00045:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Iterator&lt;LineItem&gt;</span> <span style="font-weight: bold"><span style="color: #000000">getItems</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00046:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00047:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00048:</span>          Iterator<span style="color: #990000">&lt;</span>LineItem<span style="color: #990000">&gt;()</span>
<span style="color: #000000">00049:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00050:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">hasNext</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00051:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00052:</span>                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> current <span style="color: #990000">&lt;</span> items<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00053:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00054:</span> 
<span style="color: #000000">00055:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">LineItem</span> <span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00056:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00057:</span>                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> items<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>current<span style="color: #990000">++);</span>
<span style="color: #000000">00058:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00059:</span> 
<span style="color: #000000">00060:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00061:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00062:</span>                <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">UnsupportedOperationException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00063:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00064:</span> 
<span style="color: #000000">00065:</span>             <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> current <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00066:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00067:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span> 
<span style="color: #000000">00069:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #008080">InvoiceFormatter</span> formatter<span style="color: #990000">)</span>
<span style="color: #000000">00070:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00071:</span>       <span style="color: #008080">String</span> r <span style="color: #990000">=</span> formatter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">formatHeader</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00072:</span>       Iterator<span style="color: #990000">&lt;</span>LineItem<span style="color: #990000">&gt;</span>iter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">getItems</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00073:</span>       <span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>iter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hasNext</span></span><span style="color: #990000">())</span>
<span style="color: #000000">00074:</span>          r <span style="color: #990000">+=</span> formatter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">formatLineItem</span></span><span style="color: #990000">(</span>iter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00075:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> r <span style="color: #990000">+</span> formatter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">formatFooter</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00076:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00077:</span> 
<span style="color: #000000">00078:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;LineItem&gt;</span> items<span style="color: #990000">;</span>
<span style="color: #000000">00079:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;ChangeListener&gt;</span> listeners<span style="color: #990000">;</span>
<span style="color: #000000">00080:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00081:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide068">Iterators</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-068.html"> [68/72] </a></span></td></tr></table><p> </p>
        <br/>
        <img alt="." src="../images/horstmann-05_19.jpg" height="413" width="543"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide069">Formatting Invoices</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-069.html"> [69/72] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Simple format: dump into text area</li>
          <li>May not be good enough,</li>
          <li>E.g. HTML tags for display in browser</li>
          <li>Want to allow for multiple formatting algorithms</li>
          <li>S<small>TRATEGY</small> pattern</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide070">Formatting Invoices</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-070.html"> [70/72] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/InvoiceFormatter_java.html">file:horstmann/ch05_invoice/InvoiceFormatter.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/InvoiceFormatter.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/InvoiceFormatter.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/InvoiceFormatter.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">   This interface describes the tasks that an invoice</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">   formatter needs to carry out.</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">InvoiceFormatter</span>
<span style="color: #000000">00007:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">      Formats the header of the invoice.</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the invoice header</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00012:</span>    <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">formatHeader</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00013:</span> 
<span style="color: #000000">00014:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">      Formats a line item of the invoice.</span></span>
<span style="color: #000000">00016:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the formatted line item</span></span>
<span style="color: #000000">00017:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00018:</span>    <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">formatLineItem</span></span><span style="color: #990000">(</span><span style="color: #008080">LineItem</span> item<span style="color: #990000">);</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00021:</span> <span style="font-style: italic"><span style="color: #9A1900">      Formats the footer of the invoice.</span></span>
<span style="color: #000000">00022:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@return</span><span style="font-style: italic"><span style="color: #9A1900"> the invoice footer</span></span>
<span style="color: #000000">00023:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00024:</span>    <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">formatFooter</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00025:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/SimpleFormatter_java.html">file:horstmann/ch05_invoice/SimpleFormatter.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/SimpleFormatter.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/SimpleFormatter.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/SimpleFormatter.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">   A simple invoice formatter.</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SimpleFormatter</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> InvoiceFormatter
<span style="color: #000000">00006:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">formatHeader</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00008:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>       total <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00010:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"     I N V O I C E</span><span style="color: #CC33CC">\n\n\n</span><span style="color: #FF0000">"</span><span style="color: #990000">;</span>
<span style="color: #000000">00011:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span> 
<span style="color: #000000">00013:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">formatLineItem</span></span><span style="color: #990000">(</span><span style="color: #008080">LineItem</span> item<span style="color: #990000">)</span>
<span style="color: #000000">00014:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>       total <span style="color: #990000">+=</span> item<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00016:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00017:</span>             <span style="color: #FF0000">"%s: $%.2f</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span>item<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">(),</span>item<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPrice</span></span><span style="color: #990000">()));</span>
<span style="color: #000000">00018:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">formatFooter</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"</span><span style="color: #CC33CC">\n\n</span><span style="color: #FF0000">TOTAL DUE: $%.2f</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> total<span style="color: #990000">));</span>
<span style="color: #000000">00023:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00024:</span> 
<span style="color: #000000">00025:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> total<span style="color: #990000">;</span>
<span style="color: #000000">00026:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch05_invoice/InvoiceTester_java.html">file:horstmann/ch05_invoice/InvoiceTester.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch05_invoice/InvoiceTester.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch05_invoice/InvoiceTester.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch05_invoice/InvoiceTester.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch05_invoice<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00006:</span> 
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">   A program that tests the invoice classes.</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00010:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">InvoiceTester</span>
<span style="color: #000000">00011:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span>
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">Invoice</span> invoice <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Invoice</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00015:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">InvoiceFormatter</span> formatter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SimpleFormatter</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00016:</span> 
<span style="color: #000000">00017:</span>       <span style="font-style: italic"><span style="color: #9A1900">// This text area will contain the formatted invoice</span></span>
<span style="color: #000000">00018:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">JTextArea</span> textArea <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JTextArea</span></span><span style="color: #990000">(</span><span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">40</span><span style="color: #990000">);</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>       <span style="font-style: italic"><span style="color: #9A1900">// When the invoice changes, update the text area</span></span>
<span style="color: #000000">00021:</span>       <span style="color: #008080">ChangeListener</span> listener <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00022:</span>          <span style="font-weight: bold"><span style="color: #000000">ChangeListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00023:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">stateChanged</span></span><span style="color: #990000">(</span><span style="color: #008080">ChangeEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00025:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00026:</span>                textArea<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setText</span></span><span style="color: #990000">(</span>invoice<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">format</span></span><span style="color: #990000">(</span>formatter<span style="color: #990000">));</span>
<span style="color: #000000">00027:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00029:</span>       invoice<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addChangeListener</span></span><span style="color: #990000">(</span>listener<span style="color: #990000">);</span>
<span style="color: #000000">00030:</span> 
<span style="color: #000000">00031:</span>       <span style="font-style: italic"><span style="color: #9A1900">// Add line items to a combo box</span></span>
<span style="color: #000000">00032:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">JComboBox</span> combo <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JComboBox</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00033:</span>       <span style="color: #008080">Product</span> hammer <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Product</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hammer"</span><span style="color: #990000">,</span> <span style="color: #993399">19.95</span><span style="color: #990000">);</span>
<span style="color: #000000">00034:</span>       <span style="color: #008080">Product</span> nails <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Product</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Assorted nails"</span><span style="color: #990000">,</span> <span style="color: #993399">9.95</span><span style="color: #990000">);</span>
<span style="color: #000000">00035:</span>       combo<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addItem</span></span><span style="color: #990000">(</span>hammer<span style="color: #990000">);</span>
<span style="color: #000000">00036:</span>       <span style="color: #008080">Bundle</span> bundle <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Bundle</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00037:</span>       bundle<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>hammer<span style="color: #990000">);</span>
<span style="color: #000000">00038:</span>       bundle<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>nails<span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>       combo<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addItem</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">DiscountedItem</span></span><span style="color: #990000">(</span>bundle<span style="color: #990000">,</span> <span style="color: #993399">10</span><span style="color: #990000">));</span>
<span style="color: #000000">00040:</span> 
<span style="color: #000000">00041:</span>       <span style="font-style: italic"><span style="color: #9A1900">// Make a button for adding the currently selected</span></span>
<span style="color: #000000">00042:</span>       <span style="font-style: italic"><span style="color: #9A1900">// item to the invoice</span></span>
<span style="color: #000000">00043:</span>       <span style="color: #008080">JButton</span> addButton <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Add"</span><span style="color: #990000">);</span>
<span style="color: #000000">00044:</span>       addButton<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addActionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00045:</span>          <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00046:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00047:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00048:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00049:</span>                <span style="color: #008080">LineItem</span> item <span style="color: #990000">=</span> <span style="color: #990000">(</span>LineItem<span style="color: #990000">)</span> combo<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getSelectedItem</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00050:</span>                invoice<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addItem</span></span><span style="color: #990000">(</span>item<span style="color: #990000">);</span>
<span style="color: #000000">00051:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00052:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00053:</span> 
<span style="color: #000000">00054:</span>       <span style="font-style: italic"><span style="color: #9A1900">// Put the combo box and the add button into a panel</span></span>
<span style="color: #000000">00055:</span>       <span style="color: #008080">JPanel</span> panel <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JPanel</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00056:</span>       panel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>combo<span style="color: #990000">);</span>
<span style="color: #000000">00057:</span>       panel<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>addButton<span style="color: #990000">);</span>
<span style="color: #000000">00058:</span> 
<span style="color: #000000">00059:</span>       <span style="font-style: italic"><span style="color: #9A1900">// Add the text area and panel to the content pane</span></span>
<span style="color: #000000">00060:</span>       <span style="color: #008080">JFrame</span> frame <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JFrame</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00061:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JScrollPane</span></span><span style="color: #990000">(</span>textArea<span style="color: #990000">),</span>
<span style="color: #000000">00062:</span>          BorderLayout<span style="color: #990000">.</span>CENTER<span style="color: #990000">);</span>
<span style="color: #000000">00063:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>panel<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>SOUTH<span style="color: #990000">);</span>
<span style="color: #000000">00064:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setDefaultCloseOperation</span></span><span style="color: #990000">(</span>JFrame<span style="color: #990000">.</span>EXIT_ON_CLOSE<span style="color: #990000">);</span>
<span style="color: #000000">00065:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">pack</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00066:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setVisible</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00067:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00069:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide071">Formatting Invoices</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-071.html"> [71/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_20.jpg" height="493" width="593"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide072">Formatting Invoices</a></span><span style="font-weight: normal"><a href="notes-horstmann-05-072.html"> [72/72] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-05_21.jpg" height="381" width="560"/>
      <hr/><p class="flush">
      Revised: 2007/09/11 16:27</p></body></html>
