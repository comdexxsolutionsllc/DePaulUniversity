<?xml version="1.0"?>
<!--Generated by an XSL stylesheet.  Do not edit!-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta http-equiv="Expires" content="Mon, 10 Jan 2000 12:00:00 GMT"/><style type="text/css">
    p.flushtop     { margin-top: 0px; }
    p.flushbottom  { margin-bottom: 0px; }
    p.flush        { margin-top: 0px;
                     margin-bottom: 0px; }
    h1             { margin-top: 0px;
                     font-weight: bold;
                     font-size: large; }
    h2             { margin-top: 0px;
                     font-weight: bold;
                     font-size: medium; }
    body           { color: black;
                     background-color: white; }
    img.noborder   { border-width: 0px; }
    table.title    { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E4E4C2; }
    table.item     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #F4F4E0; }
    table.notes    { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.comment  { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.code     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E0F4E0; }
    table.contents { border-width: 0px; 
                     color: black;
                     background-color: #FFFFFF; }
    span.red       { color: red; }
    span.orange    { color: orange; }
    span.purple    { color: purple; }
    span.blue      { color: blue; }
    span.brown     { color: brown; }
    span.green     { color: lime; }
    span.hilight   { background-color: #E4E4C2; }
  </style><title>SE450: Horstmann Chapter 6</title></head><body><h1><a href="../index.html">SE450</a>: Horstmann Chapter 6</h1><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide000">Contents</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-000.html"> [0/65] </a></span></td></tr></table><p> </p><table width="100%" cellpadding="0" cellspacing="0" class="contents"><tr><td><a href="#slide001">Object-Oriented Design &amp; Patterns</a> [1/65] </td></tr><tr><td><a href="#slide002">Chapter Topics</a> [2/65] </td></tr><tr><td><a href="#slide003">Modeling Specialization</a> [3/65] </td></tr><tr><td><a href="#slide004">Modeling Specialization</a> [4/65] </td></tr><tr><td><a href="#slide005">Modeling Specialization</a> [5/65] </td></tr><tr><td><a href="#slide006">Manager Methods and Fields</a> [6/65] </td></tr><tr><td><a href="#slide007">The Super/Sub Terminology</a> [7/65] </td></tr><tr><td><a href="#slide008">The Super/Sub Terminology</a> [8/65] </td></tr><tr><td><a href="#slide009">Inheritance Hierarchies</a> [9/65] </td></tr><tr><td><a href="#slide010">Inheritance Hierarchies</a> [10/65] </td></tr><tr><td><a href="#slide011">The Substitution Principle</a> [11/65] </td></tr><tr><td><a href="#slide012">Invoking Superclass Methods</a> [12/65] </td></tr><tr><td><a href="#slide013">Invoking Superclass Methods</a> [13/65] </td></tr><tr><td><a href="#slide014">Invoking Superclass Constructors</a> [14/65] </td></tr><tr><td><a href="#slide015">Preconditions</a> [15/65] </td></tr><tr><td><a href="#slide016">Postconditions, Visibility, Exceptions</a> [16/65] </td></tr><tr><td><a href="#slide017">Graphic Programming with Inheritance</a> [17/65] </td></tr><tr><td><a href="#slide018">Mouse Listeners</a> [18/65] </td></tr><tr><td><a href="#slide019">Mouse Adapters</a> [19/65] </td></tr><tr><td><a href="#slide020">Car Mover Program</a> [20/65] </td></tr><tr><td><a href="#slide021">Car Mover Program</a> [21/65] </td></tr><tr><td><a href="#slide022">Scene Editor</a> [22/65] </td></tr><tr><td><a href="#slide023">Scene Editor</a> [23/65] </td></tr><tr><td><a href="#slide024">The SceneShape Interface Type</a> [24/65] </td></tr><tr><td><a href="#slide025">The SceneShape Interface Type</a> [25/65] </td></tr><tr><td><a href="#slide026">The SceneShape Interface Type</a> [26/65] </td></tr><tr><td><a href="#slide027">CarShape and HouseShape Classes</a> [27/65] </td></tr><tr><td><a href="#slide028">Abstract Classes</a> [28/65] </td></tr><tr><td><a href="#slide029">Abstract Classes</a> [29/65] </td></tr><tr><td><a href="#slide030">Abstract Classes</a> [30/65] </td></tr><tr><td><a href="#slide031">Abstract Classes and Interface Types</a> [31/65] </td></tr><tr><td><a href="#slide032">Scene Editor</a> [32/65] </td></tr><tr><td><a href="#slide033">Uniform Highlighting Technique</a> [33/65] </td></tr><tr><td><a href="#slide034">Uniform Highlighting Technique</a> [34/65] </td></tr><tr><td><a href="#slide035">Template Method</a> [35/65] </td></tr><tr><td><a href="#slide036">TEMPLATE METHOD Pattern</a> [36/65] </td></tr><tr><td><a href="#slide037">TEMPLATE METHOD Pattern</a> [37/65] </td></tr><tr><td><a href="#slide038">TEMPLATE METHOD Pattern</a> [38/65] </td></tr><tr><td><a href="#slide039">TEMPLATE METHOD Pattern</a> [39/65] </td></tr><tr><td><a href="#slide040">Compound Shapes</a> [40/65] </td></tr><tr><td><a href="#slide041">Compound Shapes</a> [41/65] </td></tr><tr><td><a href="#slide042">Access to Superclass Features</a> [42/65] </td></tr><tr><td><a href="#slide043">Protected Access</a> [43/65] </td></tr><tr><td><a href="#slide044">Hierarchy of Swing Components</a> [44/65] </td></tr><tr><td><a href="#slide045">Hierarchy of Swing Components</a> [45/65] </td></tr><tr><td><a href="#slide046">Hierarchy of Swing Components</a> [46/65] </td></tr><tr><td><a href="#slide047">Look and Feel</a> [47/65] </td></tr><tr><td><a href="#slide048">Hierarchy of Swing Components</a> [48/65] </td></tr><tr><td><a href="#slide049">Hierarchy of Geometrical Shapes</a> [49/65] </td></tr><tr><td><a href="#slide050">Hierarchy of Geometrical Shapes</a> [50/65] </td></tr><tr><td><a href="#slide051">Rectangular Shapes</a> [51/65] </td></tr><tr><td><a href="#slide052">Float/Double Classes</a> [52/65] </td></tr><tr><td><a href="#slide053">Float/Double Classes</a> [53/65] </td></tr><tr><td><a href="#slide054">Float/Double Classes</a> [54/65] </td></tr><tr><td><a href="#slide055">Float/Double Classes</a> [55/65] </td></tr><tr><td><a href="#slide056">Float/Double Classes</a> [56/65] </td></tr><tr><td><a href="#slide057">TEMPLATE METHOD Pattern</a> [57/65] </td></tr><tr><td><a href="#slide058">Hierarchy of Exception Classes</a> [58/65] </td></tr><tr><td><a href="#slide059">Hierarchy of Exception Classes</a> [59/65] </td></tr><tr><td><a href="#slide060">Catching Exceptions</a> [60/65] </td></tr><tr><td><a href="#slide061">Defining Exception Classes</a> [61/65] </td></tr><tr><td><a href="#slide062">When Not to Use Inheritance</a> [62/65] </td></tr><tr><td><a href="#slide063">When Not to Use Inheritance</a> [63/65] </td></tr><tr><td><a href="#slide064">When Not to Use Inheritance</a> [64/65] </td></tr><tr><td><a href="#slide065">When Not to Use Inheritance</a> [65/65] </td></tr></table><br/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide001">Object-Oriented Design &amp; Patterns</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-001.html"> [1/65] </a></span></td></tr></table><p> </p>
        <h4 xmlns="">Cay S. Horstmann</h4>
        <h3 xmlns="">Chapter 6</h3>
        <h3 xmlns="">Inheritance and Abstract Classes</h3>
        <img alt="horstmann-oodp2" src="../images/horstmann-oodp2.jpg" height="500" width="404"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide002">Chapter Topics</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-002.html"> [2/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>The Concept of Inheritance<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Graphics Programming with Inheritance<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Abstract Classes</li>
          <li>The TEMPLATE METHOD Pattern</li>
          <li>Protected Interfaces<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>The Hierarchy of Swing Components</li>
          <li>The Hierarchy of Standard Geometrical Shapes<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>The Hierarchy of Exception Classes</li>
          <li>When Not to Use Inheritance<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide003">Modeling Specialization</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-003.html"> [3/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Start with simple <tt>Employee</tt> class<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public class Employee<br xmlns="http://www.w3.org/1999/xhtml"/>
              {<br xmlns="http://www.w3.org/1999/xhtml"/>
                 public Employee(String aName) { name = aName; }<br xmlns="http://www.w3.org/1999/xhtml"/>
                 public void setSalary(double aSalary) { salary = aSalary; }<br xmlns="http://www.w3.org/1999/xhtml"/>
                 public String getName() { return name; }<br xmlns="http://www.w3.org/1999/xhtml"/>
                 public double getSalary() { return salary; }<br xmlns="http://www.w3.org/1999/xhtml"/>
              <br xmlns="http://www.w3.org/1999/xhtml"/>
                 private String name;<br xmlns="http://www.w3.org/1999/xhtml"/>
                 private double salary;<br xmlns="http://www.w3.org/1999/xhtml"/>
              }</tt></li>
          <li><tt>Manager</tt> is a subclass</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide004">Modeling Specialization</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-004.html"> [4/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Manager class adds new method: <tt>setBonus</tt></li>
          <li>Manager class <i>overrides</i> existing method: <tt>getSalary</tt></li>
          <li>Adds salary and bonus<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt><tt>public class Manager <b>extends</b> Employee<br xmlns="http://www.w3.org/1999/xhtml"/>
                {<br xmlns="http://www.w3.org/1999/xhtml"/>
                   public Manager(String aName) { ... }<br xmlns="http://www.w3.org/1999/xhtml"/>
                   public void setBonus(double aBonus) { bonus = aBonus; } //
                new method<br xmlns="http://www.w3.org/1999/xhtml"/>
                   public double getSalary() { ... } // overrides Employee
                method<br xmlns="http://www.w3.org/1999/xhtml"/>
                <br xmlns="http://www.w3.org/1999/xhtml"/>
                   private double bonus; // new field<br xmlns="http://www.w3.org/1999/xhtml"/>
                }</tt></tt></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide005">Modeling Specialization</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-005.html"> [5/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_01.jpg" height="518" width="471"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide006">Manager Methods and Fields</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-006.html"> [6/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>methods <tt>setSalary</tt>, <tt>getname</tt> (inherited from <tt>Employee</tt>)</li>
          <li>method <tt>getSalary</tt> (overridden in <tt>Manager</tt>)</li>
          <li>method <tt>setBonus</tt> (defined in <tt>Manager</tt>)</li>
          <li>fields <tt>name</tt> and <tt>salary</tt> (defined in <tt>Employee</tt>)</li>
          <li>field <tt>bonus</tt> (defined in <tt>Manager)</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide007">The Super/Sub Terminology</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-007.html"> [7/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Why is <tt>Manager</tt> a <b>sub</b>class?<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Isn't a <tt>Manager</tt> superior?</li>
          <li>Doesn't a <tt>Manager</tt> object have more fields?</li>
          <li>The set of managers is a <i>subset</i> of the set of employees</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide008">The Super/Sub Terminology</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-008.html"> [8/65] </a></span></td></tr></table><p> </p>
        <br/>
        <img alt="." src="../images/horstmann-06_02.jpg" height="590" width="812"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide009">Inheritance Hierarchies</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-009.html"> [9/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Real world: Hierarchies describe general/specific relationships
            <ul>
              <li>General concept at root of tree</li>
              <li>More specific concepts are children</li>
            </ul>
          </li>
          <li>Programming: Inheritance hierarchy
            <ul>
              <li>General superclass at root of tree</li>
              <li>More specific subclasses are children<br xmlns="http://www.w3.org/1999/xhtml"/>
              </li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide010">Inheritance Hierarchies</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-010.html"> [10/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_03.jpg" height="508" width="930"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide011">The Substitution Principle</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-011.html"> [11/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Formulated by Barbara Liskov</li>
          <li>You can use a subclass object whenever a superclass object is
            expected</li>
          <li>Example:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>Employee e;<br xmlns="http://www.w3.org/1999/xhtml"/>
              ...<br xmlns="http://www.w3.org/1999/xhtml"/>
              System.out.println("salary=" + e.getSalary());</tt></li>
          <li>Can set <tt>e</tt> to <tt>Manager</tt> reference</li>
          <li>Polymorphism: Correct <tt>getSalary</tt> method is invoked</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide012">Invoking Superclass Methods</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-012.html"> [12/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Can't access private fields of superclass<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public class Manager extends Employee</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>{</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   public double getSalary()<br xmlns="http://www.w3.org/1999/xhtml"/>
                 {<br xmlns="http://www.w3.org/1999/xhtml"/>
                    return salary + bonus;  //
              ERROR--private field<br xmlns="http://www.w3.org/1999/xhtml"/>
                 }</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   ...</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>}</tt></li>
          <li>Be careful when calling superclass method<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   public double getSalary()<br xmlns="http://www.w3.org/1999/xhtml"/>
                 {<br xmlns="http://www.w3.org/1999/xhtml"/>
                    return getSalary() + bonus;  //
              ERROR--recursive call<br xmlns="http://www.w3.org/1999/xhtml"/>
                 }</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide013">Invoking Superclass Methods</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-013.html"> [13/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Use <tt>super</tt> keyword<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>   public double getSalary()<br xmlns="http://www.w3.org/1999/xhtml"/>
                 {<br xmlns="http://www.w3.org/1999/xhtml"/>
                    return <b>super.</b>getSalary() +
              bonus; <br xmlns="http://www.w3.org/1999/xhtml"/>
                 }</tt></li>
          <li><tt><tt>super</tt></tt> is <i>not</i> a reference</li>
          <li><tt>super</tt> turns off polymorphic call mechanism<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide014">Invoking Superclass Constructors</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-014.html"> [14/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Use <tt>super</tt> keyword in subclass constructor:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public Manager(String aName)<br xmlns="http://www.w3.org/1999/xhtml"/>
              {<br xmlns="http://www.w3.org/1999/xhtml"/>
                 <b>super(aName);</b> // calls superclass constructor<br xmlns="http://www.w3.org/1999/xhtml"/>
                 bonus = 0;<br xmlns="http://www.w3.org/1999/xhtml"/>
              }</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Call to <tt>super</tt> must be <i>first</i> statement in
            subclass constructor</li>
          <li>If subclass constructor doesn't call <tt>super</tt>, superclass
            must have constructor without parameters</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide015">Preconditions</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-015.html"> [15/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Precondition of redefined method <i>at most as strong</i></li>
          <li>
            <pre xml:space="preserve">public class Employee<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   /**<br xmlns="http://www.w3.org/1999/xhtml"/>      Sets the employee salary to a given value. <br xmlns="http://www.w3.org/1999/xhtml"/>      @param aSalary the new salary <br xmlns="http://www.w3.org/1999/xhtml"/>      @precondition aSalary &gt; 0 <br xmlns="http://www.w3.org/1999/xhtml"/>   */ <br xmlns="http://www.w3.org/1999/xhtml"/>   public void setSalary(double aSalary) { ... }<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Can we redefine <tt>Manager.setSalary</tt> with precondition<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>salary &gt; 100000</tt>?</li>
          <li>No--Could be defeated:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Manager m = new Manager();<br xmlns="http://www.w3.org/1999/xhtml"/>Employee e = m;<br xmlns="http://www.w3.org/1999/xhtml"/>e.setSalary(50000);<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide016">Postconditions, Visibility, Exceptions</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-016.html"> [16/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Postcondition of redefined method <i>at least as strong</i></li>
          <li>Example: <tt>Employee.setSalary</tt> promises not to decrease
            salary</li>
          <li>Then <tt>Manager.setSalary</tt> must fulfill postcondition<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Redefined method cannot be more <tt>private</tt>.<br xmlns="http://www.w3.org/1999/xhtml"/>
            (Common error: omit <tt>public</tt> when redefining)</li>
          <li>Redefined method cannot throw more checked exceptions</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide017">Graphic Programming with Inheritance</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-017.html"> [17/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Chapter 4: Create drawings by by implementing <tt>Icon</tt>
            interface type</li>
          <li>Now: Form subclass of <tt>JComponent</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>public class MyComponent extends JComponent<br xmlns="http://www.w3.org/1999/xhtml"/>
              {<br xmlns="http://www.w3.org/1999/xhtml"/>
                 public void paintComponent(Graphics g)<br xmlns="http://www.w3.org/1999/xhtml"/>
                 {<br xmlns="http://www.w3.org/1999/xhtml"/>
              <i>      drawing instructions go here</i><br xmlns="http://www.w3.org/1999/xhtml"/>
                 }<br xmlns="http://www.w3.org/1999/xhtml"/>
                 ...<br xmlns="http://www.w3.org/1999/xhtml"/>
              }</tt></li>
          <li>Advantage: Inherit behavior from <tt>JComponent</tt></li>
          <li>Example: Can attach mouse listener to <tt>JComponent</tt></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide018">Mouse Listeners</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-018.html"> [18/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Attach mouse listener to component</li>
          <li>Can listen to mouse events (clicks) or mouse motion events<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public interface MouseListener <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   void mouseClicked(MouseEvent event); <br xmlns="http://www.w3.org/1999/xhtml"/>   void mousePressed(MouseEvent event); <br xmlns="http://www.w3.org/1999/xhtml"/>   void mouseReleased(MouseEvent event); <br xmlns="http://www.w3.org/1999/xhtml"/>   void mouseEntered(MouseEvent event); <br xmlns="http://www.w3.org/1999/xhtml"/>   void mouseExited(MouseEvent event); <br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/> <br xmlns="http://www.w3.org/1999/xhtml"/>public interface MouseMotionListener <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   void mouseMoved(MouseEvent event); <br xmlns="http://www.w3.org/1999/xhtml"/>   void mouseDragged(MouseEvent event); <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide019">Mouse Adapters</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-019.html"> [19/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>What if you just want to listen to <tt>mousePressed?</tt></li>
          <li>Extend <tt>MouseAdapter<br xmlns="http://www.w3.org/1999/xhtml"/>
            </tt>
            <pre xml:space="preserve">public class MouseAdapter implements MouseListener<br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   public void mouseClicked(MouseEvent event) {} <br xmlns="http://www.w3.org/1999/xhtml"/>   public void mousePressed(MouseEvent event) {}<br xmlns="http://www.w3.org/1999/xhtml"/>   public void mouseReleased(MouseEvent event) {}<br xmlns="http://www.w3.org/1999/xhtml"/>   public void mouseEntered(MouseEvent event) {} <br xmlns="http://www.w3.org/1999/xhtml"/>   public void mouseExited(MouseEvent event) {} <br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Component constructor adds listener:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">addMouseListener(new<br xmlns="http://www.w3.org/1999/xhtml"/>   Mouse<b>Adapter</b>()<br xmlns="http://www.w3.org/1999/xhtml"/>   {<br xmlns="http://www.w3.org/1999/xhtml"/>      public void mousePressed(MouseEvent event) <br xmlns="http://www.w3.org/1999/xhtml"/>      {<br xmlns="http://www.w3.org/1999/xhtml"/>         <i>mouse action goes here</i> <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/>}); </pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide020">Car Mover Program</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-020.html"> [20/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Use the mouse to drag a car shape<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Car panel has mouse + mouse motion listeners<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>mousePressed</tt> remembers point of mouse press</li>
          <li><tt>mouseDragged</tt> translates car shape</li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_car/CarComponent_java.html">file:horstmann/ch06_car/CarComponent.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_car/CarComponent.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_car/CarComponent.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_car/CarComponent.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_car<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00007:</span> 
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">   A component that shows a scene composed of items.</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">CarComponent</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> JComponent
<span style="color: #000000">00012:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">CarComponent</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00014:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>       car <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CarShape</span></span><span style="color: #990000">(</span><span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">50</span><span style="color: #990000">);</span>
<span style="color: #000000">00016:</span>       <span style="font-weight: bold"><span style="color: #000000">addMouseListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00017:</span>          <span style="font-weight: bold"><span style="color: #000000">MouseAdapter</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00018:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">mousePressed</span></span><span style="color: #990000">(</span><span style="color: #008080">MouseEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00020:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00021:</span>                mousePoint <span style="color: #990000">=</span> event<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPoint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00022:</span>                <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!</span>car<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span>mousePoint<span style="color: #990000">))</span>
<span style="color: #000000">00023:</span>                   mousePoint <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00024:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00026:</span> 
<span style="color: #000000">00027:</span>       <span style="font-weight: bold"><span style="color: #000000">addMouseMotionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00028:</span>          <span style="font-weight: bold"><span style="color: #000000">MouseMotionAdapter</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00029:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00030:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">mouseDragged</span></span><span style="color: #990000">(</span><span style="color: #008080">MouseEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00031:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00032:</span>                <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>mousePoint <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00033:</span>                <span style="color: #008080">Point</span> lastMousePoint <span style="color: #990000">=</span> mousePoint<span style="color: #990000">;</span>
<span style="color: #000000">00034:</span>                mousePoint <span style="color: #990000">=</span> event<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPoint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00035:</span> 
<span style="color: #000000">00036:</span>                <span style="color: #009900">double</span> dx <span style="color: #990000">=</span> mousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> lastMousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00037:</span>                <span style="color: #009900">double</span> dy <span style="color: #990000">=</span> mousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> lastMousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00038:</span>                car<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">((</span><span style="color: #009900">int</span><span style="color: #990000">)</span> dx<span style="color: #990000">,</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span> dy<span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>                <span style="font-weight: bold"><span style="color: #000000">repaint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00040:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00042:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00043:</span> 
<span style="color: #000000">00044:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">paintComponent</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">)</span>
<span style="color: #000000">00045:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00046:</span>       <span style="color: #008080">Graphics2D</span> g2 <span style="color: #990000">=</span> <span style="color: #990000">(</span>Graphics2D<span style="color: #990000">)</span> g<span style="color: #990000">;</span>
<span style="color: #000000">00047:</span>       car<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">);</span>
<span style="color: #000000">00048:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00049:</span> 
<span style="color: #000000">00050:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">CarShape</span> car<span style="color: #990000">;</span>
<span style="color: #000000">00051:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Point</span> mousePoint<span style="color: #990000">;</span>
<span style="color: #000000">00052:</span> <span style="color: #FF0000">}</span>                               
<span style="color: #000000">00053:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_car/CarMover_java.html">file:horstmann/ch06_car/CarMover.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_car/CarMover.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_car/CarMover.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_car/CarMover.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_car<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00006:</span> 
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">   A program that allows users to move a car with the mouse.</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00010:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">CarMover</span>
<span style="color: #000000">00011:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span>
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>       <span style="color: #008080">JFrame</span> frame <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JFrame</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00015:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setDefaultCloseOperation</span></span><span style="color: #990000">(</span>JFrame<span style="color: #990000">.</span>EXIT_ON_CLOSE<span style="color: #990000">);</span>
<span style="color: #000000">00016:</span> 
<span style="color: #000000">00017:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CarComponent</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00018:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setSize</span></span><span style="color: #990000">(</span>FRAME_WIDTH<span style="color: #990000">,</span> FRAME_HEIGHT<span style="color: #990000">);</span>
<span style="color: #000000">00019:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setVisible</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00020:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> 
<span style="color: #000000">00022:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> FRAME_WIDTH <span style="color: #990000">=</span> <span style="color: #993399">400</span><span style="color: #990000">;</span>
<span style="color: #000000">00023:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> FRAME_HEIGHT <span style="color: #990000">=</span> <span style="color: #993399">400</span><span style="color: #990000">;</span>
<span style="color: #000000">00024:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span> 
<span style="color: #000000">00026:</span> 
<span style="color: #000000">00027:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_car/CarShape_java.html">file:horstmann/ch06_car/CarShape.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_car/CarShape.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_car/CarShape.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_car/CarShape.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_car<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A car shape.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">CarShape</span>
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a car shape.</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> x the left of the bounding rectangle</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> y the top of the bounding rectangle</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> width the width of the bounding rectangle</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00016:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">CarShape</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> y<span style="color: #990000">,</span> <span style="color: #009900">int</span> width<span style="color: #990000">)</span>
<span style="color: #000000">00017:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>x <span style="color: #990000">=</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>y <span style="color: #990000">=</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>width <span style="color: #990000">=</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> 
<span style="color: #000000">00023:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00024:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>       Rectangle2D<span style="color: #990000">.</span>Double body
<span style="color: #000000">00026:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">,</span> 
<span style="color: #000000">00027:</span>             width <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">);</span>
<span style="color: #000000">00028:</span>       Ellipse2D<span style="color: #990000">.</span>Double frontTire
<span style="color: #000000">00029:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Ellipse2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">,</span> y <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> 
<span style="color: #000000">00030:</span>             width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">,</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">);</span>
<span style="color: #000000">00031:</span>       Ellipse2D<span style="color: #990000">.</span>Double rearTire
<span style="color: #000000">00032:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Ellipse2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">*</span> <span style="color: #993399">2</span> <span style="color: #990000">/</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> 
<span style="color: #000000">00033:</span>             y <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">3</span><span style="color: #990000">,</span>
<span style="color: #000000">00034:</span>             width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">,</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">);</span>
<span style="color: #000000">00035:</span> 
<span style="color: #000000">00036:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The bottom of the front windshield</span></span>
<span style="color: #000000">00037:</span>       Point2D<span style="color: #990000">.</span>Double r1
<span style="color: #000000">00038:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">,</span> y <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The front of the roof</span></span>
<span style="color: #000000">00040:</span>       Point2D<span style="color: #990000">.</span>Double r2
<span style="color: #000000">00041:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> y<span style="color: #990000">);</span>
<span style="color: #000000">00042:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The rear of the roof</span></span>
<span style="color: #000000">00043:</span>       Point2D<span style="color: #990000">.</span>Double r3
<span style="color: #000000">00044:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">*</span> <span style="color: #993399">2</span> <span style="color: #990000">/</span> <span style="color: #993399">3</span><span style="color: #990000">,</span> y<span style="color: #990000">);</span>
<span style="color: #000000">00045:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The bottom of the rear windshield</span></span>
<span style="color: #000000">00046:</span>       Point2D<span style="color: #990000">.</span>Double r4
<span style="color: #000000">00047:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">*</span> <span style="color: #993399">5</span> <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">,</span> y <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">6</span><span style="color: #990000">);</span>
<span style="color: #000000">00048:</span>       Line2D<span style="color: #990000">.</span>Double frontWindshield
<span style="color: #000000">00049:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r1<span style="color: #990000">,</span> r2<span style="color: #990000">);</span>
<span style="color: #000000">00050:</span>       Line2D<span style="color: #990000">.</span>Double roofTop
<span style="color: #000000">00051:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r2<span style="color: #990000">,</span> r3<span style="color: #990000">);</span>
<span style="color: #000000">00052:</span>       Line2D<span style="color: #990000">.</span>Double rearWindshield
<span style="color: #000000">00053:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r3<span style="color: #990000">,</span> r4<span style="color: #990000">);</span>
<span style="color: #000000">00054:</span> 
<span style="color: #000000">00055:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>body<span style="color: #990000">);</span>
<span style="color: #000000">00056:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>frontTire<span style="color: #990000">);</span>
<span style="color: #000000">00057:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>rearTire<span style="color: #990000">);</span>
<span style="color: #000000">00058:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>frontWindshield<span style="color: #990000">);</span>
<span style="color: #000000">00059:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>roofTop<span style="color: #990000">);</span>
<span style="color: #000000">00060:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>rearWindshield<span style="color: #990000">);</span>
<span style="color: #000000">00061:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00062:</span>    
<span style="color: #000000">00063:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> p<span style="color: #990000">)</span>
<span style="color: #000000">00064:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00065:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> x <span style="color: #990000">&lt;=</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">&amp;&amp;</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">&lt;=</span> x <span style="color: #990000">+</span> width 
<span style="color: #000000">00066:</span>          <span style="color: #990000">&amp;&amp;</span> y <span style="color: #990000">&lt;=</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">&amp;&amp;</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">&lt;=</span> y <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">;</span>
<span style="color: #000000">00067:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span> 
<span style="color: #000000">00069:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> dx<span style="color: #990000">,</span> <span style="color: #009900">int</span> dy<span style="color: #990000">)</span>
<span style="color: #000000">00070:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00071:</span>       x <span style="color: #990000">+=</span> dx<span style="color: #990000">;</span>
<span style="color: #000000">00072:</span>       y <span style="color: #990000">+=</span> dy<span style="color: #990000">;</span>
<span style="color: #000000">00073:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00074:</span> 
<span style="color: #000000">00075:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00076:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00077:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00078:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00079:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide021">Car Mover Program</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-021.html"> [21/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_05.jpg" height="493" width="948"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide022">Scene Editor</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-022.html"> [22/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Draws various shapes</li>
          <li>User can add, delete, move shapes</li>
          <li>User <i>selects</i> shape with mouse</li>
          <li>Selected shape is highlighted (filled in)</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide023">Scene Editor</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-023.html"> [23/65] </a></span></td></tr></table><p> </p>
        <br/>
        <img alt="" src="../images/horstmann-06_05.png" height="302" width="302"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide024">The SceneShape Interface Type</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-024.html"> [24/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>keep track of selection state<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>draw plain or selected shape<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>move shape<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><i>hit testing</i>: is a point (e.g. mouse position) inside?</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide025">The SceneShape Interface Type</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-025.html"> [25/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_07.jpg" height="338" width="563"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide026">The SceneShape Interface Type</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-026.html"> [26/65] </a></span></td></tr></table><p> </p>
        <tt xmlns="">public interface SceneShape<br xmlns="http://www.w3.org/1999/xhtml"/>
          {<br xmlns="http://www.w3.org/1999/xhtml"/>
             void setSelected(boolean b);<br xmlns="http://www.w3.org/1999/xhtml"/>
             boolean isSelected();<br xmlns="http://www.w3.org/1999/xhtml"/>
             void draw(Graphics2D g2);<br xmlns="http://www.w3.org/1999/xhtml"/>
             void drawSelection(Graphics2D g2);<br xmlns="http://www.w3.org/1999/xhtml"/>
             void translate(int dx, int dy);<br xmlns="http://www.w3.org/1999/xhtml"/>
             boolean contains(Point2D aPoint);<br xmlns="http://www.w3.org/1999/xhtml"/>
          }</tt><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide027">CarShape and HouseShape Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-027.html"> [27/65] </a></span></td></tr></table><p> </p>
        <pre xmlns="" xml:space="preserve">public class CarShape implements SceneShape <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   ... <br xmlns="http://www.w3.org/1999/xhtml"/>   public void setSelected(boolean b) { selected = b; } <br xmlns="http://www.w3.org/1999/xhtml"/>   public boolean isSelected() { return selected; }<br xmlns="http://www.w3.org/1999/xhtml"/>   private boolean selected; <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/><br xmlns="http://www.w3.org/1999/xhtml"/>public class HouseShape implements SceneShape<br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   ... <br xmlns="http://www.w3.org/1999/xhtml"/>   public void setSelected(boolean b) { selected = b; } <br xmlns="http://www.w3.org/1999/xhtml"/>   public boolean isSelected() { return selected; }<br xmlns="http://www.w3.org/1999/xhtml"/>   private boolean selected; <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/><br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide028">Abstract Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-028.html"> [28/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Factor out common behavior<br xmlns="http://www.w3.org/1999/xhtml"/>
            (<tt>setSelected</tt>, <tt>isSelected</tt>)</li>
          <li>Subclasses inherit common behavior<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Some methods still undefined<br xmlns="http://www.w3.org/1999/xhtml"/>
            (<tt>draw</tt>, <tt>drawSelection</tt>, <tt>translate</tt>, <tt>contains</tt>)</li>
        </ul>
        <pre xmlns="" xml:space="preserve">public class SelectableShape implements Item <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   public void setSelected(boolean b) { selected = b; } <br xmlns="http://www.w3.org/1999/xhtml"/>   public boolean isSelected() { return selected; }<br xmlns="http://www.w3.org/1999/xhtml"/>   private boolean selected; <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/><br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide029">Abstract Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-029.html"> [29/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_08.jpg" height="777" width="493"/><br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide030">Abstract Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-030.html"> [30/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>SelectableShape</tt>  doesn't define all <tt>SceneShape</tt>
            methods</li>
          <li>It's <i>abstract</i></li>
          <li><tt>public <b>abstract</b> class SelectableShape implements
              SceneShape</tt></li>
          <li><tt>HouseShape</tt> and <tt>CarShape</tt> are <i>concrete</i></li>
          <li>Can't instantiate abstract class:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">SelectableShape s = new SelectableShape(); // NO<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Ok to have <i>variables</i> of abstract class type:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">SelectableShape s = new HouseShape(); // OK<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide031">Abstract Classes and Interface Types</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-031.html"> [31/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Abstract classes can have fields</li>
          <li>Interface types can only have constants (<tt>public static final</tt>)</li>
          <li>Abstract classes can define methods</li>
          <li>Interface types can only declare methods</li>
          <li>A class can implement any number of interface types</li>
          <li>In Java, a class can extend only one other class</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide032">Scene Editor</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-032.html"> [32/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Mouse listener selects/unselects item</li>
          <li>Mouse motion listener drags item</li>
          <li>Remove button removes selected items<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_scene1/SceneComponent_java.html">file:horstmann/ch06_scene1/SceneComponent.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_scene1/SceneComponent.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_scene1/SceneComponent.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_scene1/SceneComponent.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_scene1<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.*;</span>
<span style="color: #000000">00007:</span> 
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">   A component that shows a scene composed of shapes.</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SceneComponent</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> JComponent
<span style="color: #000000">00012:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">SceneComponent</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00014:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>       shapes <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>SceneShape<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00016:</span> 
<span style="color: #000000">00017:</span>       <span style="font-weight: bold"><span style="color: #000000">addMouseListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00018:</span>          <span style="font-weight: bold"><span style="color: #000000">MouseAdapter</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00019:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">mousePressed</span></span><span style="color: #990000">(</span><span style="color: #008080">MouseEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00021:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>                mousePoint <span style="color: #990000">=</span> event<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPoint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00023:</span>                <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">SceneShape</span> s <span style="color: #990000">:</span> shapes<span style="color: #990000">)</span>
<span style="color: #000000">00024:</span>                <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>                   <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span>mousePoint<span style="color: #990000">))</span>
<span style="color: #000000">00026:</span>                      s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setSelected</span></span><span style="color: #990000">(!</span>s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">isSelected</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00027:</span>                <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span>                <span style="font-weight: bold"><span style="color: #000000">repaint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00029:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00031:</span> 
<span style="color: #000000">00032:</span>       <span style="font-weight: bold"><span style="color: #000000">addMouseMotionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00033:</span>          <span style="font-weight: bold"><span style="color: #000000">MouseMotionAdapter</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00034:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00035:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">mouseDragged</span></span><span style="color: #990000">(</span><span style="color: #008080">MouseEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00036:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>                <span style="color: #008080">Point</span> lastMousePoint <span style="color: #990000">=</span> mousePoint<span style="color: #990000">;</span>
<span style="color: #000000">00038:</span>                mousePoint <span style="color: #990000">=</span> event<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPoint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00039:</span>                <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">SceneShape</span> s <span style="color: #990000">:</span> shapes<span style="color: #990000">)</span>
<span style="color: #000000">00040:</span>                <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>                   <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">isSelected</span></span><span style="color: #990000">())</span>
<span style="color: #000000">00042:</span>                   <span style="color: #FF0000">{</span>
<span style="color: #000000">00043:</span>                      <span style="color: #009900">double</span> dx <span style="color: #990000">=</span> mousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> lastMousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00044:</span>                      <span style="color: #009900">double</span> dy <span style="color: #990000">=</span> mousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> lastMousePoint<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00045:</span>                      s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">((</span><span style="color: #009900">int</span><span style="color: #990000">)</span> dx<span style="color: #990000">,</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span> dy<span style="color: #990000">);</span>
<span style="color: #000000">00046:</span>                   <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span>                <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span>                <span style="font-weight: bold"><span style="color: #000000">repaint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00049:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00050:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00051:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00052:</span> 
<span style="color: #000000">00053:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00054:</span> <span style="font-style: italic"><span style="color: #9A1900">      Adds a shape to the scene.</span></span>
<span style="color: #000000">00055:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> s the shape to add</span></span>
<span style="color: #000000">00056:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00057:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #008080">SceneShape</span> s<span style="color: #990000">)</span>
<span style="color: #000000">00058:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00059:</span>       shapes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>s<span style="color: #990000">);</span>
<span style="color: #000000">00060:</span>       <span style="font-weight: bold"><span style="color: #000000">repaint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00061:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00062:</span> 
<span style="color: #000000">00063:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00064:</span> <span style="font-style: italic"><span style="color: #9A1900">      Removes all selected shapes from the scene.</span></span>
<span style="color: #000000">00065:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00066:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">removeSelected</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00067:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00068:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i <span style="color: #990000">=</span> shapes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">()</span> <span style="color: #990000">-</span> <span style="color: #993399">1</span><span style="color: #990000">;</span> i <span style="color: #990000">&gt;=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">--)</span>
<span style="color: #000000">00069:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00070:</span>          <span style="color: #008080">SceneShape</span> s <span style="color: #990000">=</span> shapes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>i<span style="color: #990000">);</span>
<span style="color: #000000">00071:</span>          <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">isSelected</span></span><span style="color: #990000">())</span> shapes<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span>i<span style="color: #990000">);</span>
<span style="color: #000000">00072:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00073:</span>       <span style="font-weight: bold"><span style="color: #000000">repaint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00074:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00075:</span> 
<span style="color: #000000">00076:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">paintComponent</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">)</span>
<span style="color: #000000">00077:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00078:</span>       <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">paintComponent</span></span><span style="color: #990000">(</span>g<span style="color: #990000">);</span>
<span style="color: #000000">00079:</span>       <span style="color: #008080">Graphics2D</span> g2 <span style="color: #990000">=</span> <span style="color: #990000">(</span>Graphics2D<span style="color: #990000">)</span> g<span style="color: #990000">;</span>
<span style="color: #000000">00080:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">SceneShape</span> s <span style="color: #990000">:</span> shapes<span style="color: #990000">)</span>
<span style="color: #000000">00081:</span>       <span style="color: #FF0000">{</span>
<span style="color: #000000">00082:</span>          s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">);</span>
<span style="color: #000000">00083:</span>          <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">isSelected</span></span><span style="color: #990000">())</span>
<span style="color: #000000">00084:</span>             s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">drawSelection</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">);</span>
<span style="color: #000000">00085:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00086:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00087:</span> 
<span style="color: #000000">00088:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">ArrayList&lt;SceneShape&gt;</span> shapes<span style="color: #990000">;</span>
<span style="color: #000000">00089:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">Point</span> mousePoint<span style="color: #990000">;</span>
<span style="color: #000000">00090:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00091:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_scene1/SceneEditor_java.html">file:horstmann/ch06_scene1/SceneEditor.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_scene1/SceneEditor.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_scene1/SceneEditor.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_scene1/SceneEditor.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_scene1<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>event<span style="color: #990000">.*;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.*;</span>
<span style="color: #000000">00006:</span> 
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">   A program that allows users to edit a scene composed</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">   of items.</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SceneEditor</span>
<span style="color: #000000">00012:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span>
<span style="color: #000000">00014:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>       <span style="color: #008080">JFrame</span> frame <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JFrame</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00016:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setDefaultCloseOperation</span></span><span style="color: #990000">(</span>JFrame<span style="color: #990000">.</span>EXIT_ON_CLOSE<span style="color: #990000">);</span>
<span style="color: #000000">00017:</span> 
<span style="color: #000000">00018:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">SceneComponent</span> scene <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SceneComponent</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>       <span style="color: #008080">JButton</span> houseButton <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"House"</span><span style="color: #990000">);</span>
<span style="color: #000000">00021:</span>       houseButton<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addActionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00022:</span>          <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00023:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00025:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00026:</span>                scene<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">HouseShape</span></span><span style="color: #990000">(</span><span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">50</span><span style="color: #990000">));</span>
<span style="color: #000000">00027:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00029:</span> 
<span style="color: #000000">00030:</span>       <span style="color: #008080">JButton</span> carButton <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Car"</span><span style="color: #990000">);</span>
<span style="color: #000000">00031:</span>       carButton<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addActionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00032:</span>          <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00033:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00034:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00035:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>                scene<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">CarShape</span></span><span style="color: #990000">(</span><span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">20</span><span style="color: #990000">,</span> <span style="color: #993399">50</span><span style="color: #990000">));</span>
<span style="color: #000000">00037:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00039:</span> 
<span style="color: #000000">00040:</span>       <span style="color: #008080">JButton</span> removeButton <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JButton</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Remove"</span><span style="color: #990000">);</span>
<span style="color: #000000">00041:</span>       removeButton<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addActionListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span>
<span style="color: #000000">00042:</span>          <span style="font-weight: bold"><span style="color: #000000">ActionListener</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00043:</span>          <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>             <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">actionPerformed</span></span><span style="color: #990000">(</span><span style="color: #008080">ActionEvent</span> event<span style="color: #990000">)</span>
<span style="color: #000000">00045:</span>             <span style="color: #FF0000">{</span>
<span style="color: #000000">00046:</span>                scene<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">removeSelected</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00047:</span>             <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span>          <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00049:</span> 
<span style="color: #000000">00050:</span>       <span style="color: #008080">JPanel</span> buttons <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JPanel</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00051:</span>       buttons<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>houseButton<span style="color: #990000">);</span>
<span style="color: #000000">00052:</span>       buttons<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>carButton<span style="color: #990000">);</span>
<span style="color: #000000">00053:</span>       buttons<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>removeButton<span style="color: #990000">);</span>
<span style="color: #000000">00054:</span> 
<span style="color: #000000">00055:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>scene<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>CENTER<span style="color: #990000">);</span>
<span style="color: #000000">00056:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>buttons<span style="color: #990000">,</span> BorderLayout<span style="color: #990000">.</span>NORTH<span style="color: #990000">);</span>
<span style="color: #000000">00057:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setSize</span></span><span style="color: #990000">(</span><span style="color: #993399">300</span><span style="color: #990000">,</span> <span style="color: #993399">300</span><span style="color: #990000">);</span>
<span style="color: #000000">00058:</span>       frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setVisible</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00059:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00060:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00061:</span> 
<span style="color: #000000">00062:</span> 
<span style="color: #000000">00063:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_scene1/HouseShape_java.html">file:horstmann/ch06_scene1/HouseShape.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_scene1/HouseShape.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_scene1/HouseShape.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_scene1/HouseShape.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_scene1<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A house shape.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">HouseShape</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> SelectableShape
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a house shape.</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> x the left of the bounding rectangle</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> y the top of the bounding rectangle</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> width the width of the bounding rectangle</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00016:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">HouseShape</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> y<span style="color: #990000">,</span> <span style="color: #009900">int</span> width<span style="color: #990000">)</span>
<span style="color: #000000">00017:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>x <span style="color: #990000">=</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>y <span style="color: #990000">=</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>width <span style="color: #990000">=</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> 
<span style="color: #000000">00023:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00024:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>       Rectangle2D<span style="color: #990000">.</span>Double base 
<span style="color: #000000">00026:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">,</span> width<span style="color: #990000">,</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00027:</span> 
<span style="color: #000000">00028:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The left bottom of the roof</span></span>
<span style="color: #000000">00029:</span>       Point2D<span style="color: #990000">.</span>Double r1
<span style="color: #000000">00030:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00031:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The top of the roof</span></span>
<span style="color: #000000">00032:</span>       Point2D<span style="color: #990000">.</span>Double r2
<span style="color: #000000">00033:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> y<span style="color: #990000">);</span>
<span style="color: #000000">00034:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The right bottom of the roof</span></span>
<span style="color: #000000">00035:</span>       Point2D<span style="color: #990000">.</span>Double r3
<span style="color: #000000">00036:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00037:</span> 
<span style="color: #000000">00038:</span>       Line2D<span style="color: #990000">.</span>Double roofLeft
<span style="color: #000000">00039:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r1<span style="color: #990000">,</span> r2<span style="color: #990000">);</span>
<span style="color: #000000">00040:</span>       Line2D<span style="color: #990000">.</span>Double roofRight
<span style="color: #000000">00041:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r2<span style="color: #990000">,</span> r3<span style="color: #990000">);</span>
<span style="color: #000000">00042:</span> 
<span style="color: #000000">00043:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>base<span style="color: #990000">);</span>
<span style="color: #000000">00044:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>roofLeft<span style="color: #990000">);</span>
<span style="color: #000000">00045:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>roofRight<span style="color: #990000">);</span>
<span style="color: #000000">00046:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span>    
<span style="color: #000000">00048:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">drawSelection</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00049:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00050:</span>       Rectangle2D<span style="color: #990000">.</span>Double base 
<span style="color: #000000">00051:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">,</span> width<span style="color: #990000">,</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00052:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fill</span></span><span style="color: #990000">(</span>base<span style="color: #990000">);</span>
<span style="color: #000000">00053:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00054:</span> 
<span style="color: #000000">00055:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> p<span style="color: #990000">)</span>
<span style="color: #000000">00056:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00057:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> x <span style="color: #990000">&lt;=</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">&amp;&amp;</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">&lt;=</span> x <span style="color: #990000">+</span> width 
<span style="color: #000000">00058:</span>          <span style="color: #990000">&amp;&amp;</span> y <span style="color: #990000">&lt;=</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">&amp;&amp;</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">&lt;=</span> y <span style="color: #990000">+</span> <span style="color: #993399">2</span> <span style="color: #990000">*</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00059:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00060:</span> 
<span style="color: #000000">00061:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> dx<span style="color: #990000">,</span> <span style="color: #009900">int</span> dy<span style="color: #990000">)</span>
<span style="color: #000000">00062:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00063:</span>       x <span style="color: #990000">+=</span> dx<span style="color: #990000">;</span>
<span style="color: #000000">00064:</span>       y <span style="color: #990000">+=</span> dy<span style="color: #990000">;</span>
<span style="color: #000000">00065:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00066:</span> 
<span style="color: #000000">00067:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00068:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00069:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00070:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00071:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide033">Uniform Highlighting Technique</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-033.html"> [33/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Old approach: each shape draws its selection state</li>
          <li>Inconsistent<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Better approach: shift, draw, shift, draw, restore to original
            position<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Define in <tt>SelectableShape<br xmlns="http://www.w3.org/1999/xhtml"/>
            </tt> <tt>public void drawSelection(Graphics2D g2)<br xmlns="http://www.w3.org/1999/xhtml"/>
              {<br xmlns="http://www.w3.org/1999/xhtml"/>
                 translate(1, 1);<br xmlns="http://www.w3.org/1999/xhtml"/>
                 draw(g2);<br xmlns="http://www.w3.org/1999/xhtml"/>
                 translate(1, 1);<br xmlns="http://www.w3.org/1999/xhtml"/>
                 draw(g2);<br xmlns="http://www.w3.org/1999/xhtml"/>
                 translate(-2, -2);<br xmlns="http://www.w3.org/1999/xhtml"/>
              }</tt></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide034">Uniform Highlighting Technique</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-034.html"> [34/65] </a></span></td></tr></table><p> </p>
        <img alt="" src="../images/horstmann-06_08.png" height="302" width="302"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide035">Template Method</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-035.html"> [35/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>drawSelection</tt> calls <tt>draw</tt></li>
          <li>Must declare <tt>draw</tt> in <tt>SelectableShape</tt></li>
          <li>No implementation at that level!<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Declare as <i>abstract</i> method<tt><br xmlns="http://www.w3.org/1999/xhtml"/>
              public <b>abstract</b> void draw(Graphics2D g2)</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Defined in <tt>CarShape</tt>, <tt>HouseShape</tt></li>
          <li><tt>drawSelection</tt> method calls <tt>draw</tt>, <tt>translate</tt></li>
          <li><tt>drawSelection</tt> doesn't know <i>which</i>
            methods--polymorphism</li>
          <li><tt>draw</tt><tt>Selection</tt> is a <i>template method</i></li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_scene2/SelectableShape_java.html">file:horstmann/ch06_scene2/SelectableShape.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_scene2/SelectableShape.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_scene2/SelectableShape.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_scene2/SelectableShape.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_scene2<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A shape that manages its selection state.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SelectableShape</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> SceneShape
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setSelected</span></span><span style="color: #990000">(</span><span style="color: #009900">boolean</span> b<span style="color: #990000">)</span>
<span style="color: #000000">00011:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>       selected <span style="color: #990000">=</span> b<span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> 
<span style="color: #000000">00015:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">isSelected</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00016:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> selected<span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">drawSelection</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>       <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>       <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">);</span>
<span style="color: #000000">00024:</span>       <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>       <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>g2<span style="color: #990000">);</span>
<span style="color: #000000">00026:</span>       <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(-</span><span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #990000">-</span><span style="color: #993399">2</span><span style="color: #990000">);</span>
<span style="color: #000000">00027:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> 
<span style="color: #000000">00029:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">boolean</span> selected<span style="color: #990000">;</span>
<span style="color: #000000">00030:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_scene2/HouseShape_java.html">file:horstmann/ch06_scene2/HouseShape.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_scene2/HouseShape.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_scene2/HouseShape.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_scene2/HouseShape.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_scene2<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A house shape.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">HouseShape</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> SelectableShape
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a house shape.</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> x the left of the bounding rectangle</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> y the top of the bounding rectangle</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> width the width of the bounding rectangle</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00016:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">HouseShape</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> y<span style="color: #990000">,</span> <span style="color: #009900">int</span> width<span style="color: #990000">)</span>
<span style="color: #000000">00017:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>x <span style="color: #990000">=</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>y <span style="color: #990000">=</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>       <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>width <span style="color: #990000">=</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> 
<span style="color: #000000">00023:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00024:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>       Rectangle2D<span style="color: #990000">.</span>Double base 
<span style="color: #000000">00026:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">,</span> width<span style="color: #990000">,</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00027:</span> 
<span style="color: #000000">00028:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The left bottom of the roof</span></span>
<span style="color: #000000">00029:</span>       Point2D<span style="color: #990000">.</span>Double r1
<span style="color: #000000">00030:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00031:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The top of the roof</span></span>
<span style="color: #000000">00032:</span>       Point2D<span style="color: #990000">.</span>Double r2
<span style="color: #000000">00033:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> y<span style="color: #990000">);</span>
<span style="color: #000000">00034:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The right bottom of the roof</span></span>
<span style="color: #000000">00035:</span>       Point2D<span style="color: #990000">.</span>Double r3
<span style="color: #000000">00036:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00037:</span> 
<span style="color: #000000">00038:</span>       Line2D<span style="color: #990000">.</span>Double roofLeft
<span style="color: #000000">00039:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r1<span style="color: #990000">,</span> r2<span style="color: #990000">);</span>
<span style="color: #000000">00040:</span>       Line2D<span style="color: #990000">.</span>Double roofRight
<span style="color: #000000">00041:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r2<span style="color: #990000">,</span> r3<span style="color: #990000">);</span>
<span style="color: #000000">00042:</span> 
<span style="color: #000000">00043:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>base<span style="color: #990000">);</span>
<span style="color: #000000">00044:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>roofLeft<span style="color: #990000">);</span>
<span style="color: #000000">00045:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>roofRight<span style="color: #990000">);</span>
<span style="color: #000000">00046:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span>    
<span style="color: #000000">00048:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> p<span style="color: #990000">)</span>
<span style="color: #000000">00049:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00050:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> x <span style="color: #990000">&lt;=</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">&amp;&amp;</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">()</span> <span style="color: #990000">&lt;=</span> x <span style="color: #990000">+</span> width 
<span style="color: #000000">00051:</span>          <span style="color: #990000">&amp;&amp;</span> y <span style="color: #990000">&lt;=</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">&amp;&amp;</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">()</span> <span style="color: #990000">&lt;=</span> y <span style="color: #990000">+</span> <span style="color: #993399">2</span> <span style="color: #990000">*</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00052:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00053:</span> 
<span style="color: #000000">00054:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> dx<span style="color: #990000">,</span> <span style="color: #009900">int</span> dy<span style="color: #990000">)</span>
<span style="color: #000000">00055:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00056:</span>       x <span style="color: #990000">+=</span> dx<span style="color: #990000">;</span>
<span style="color: #000000">00057:</span>       y <span style="color: #990000">+=</span> dy<span style="color: #990000">;</span>
<span style="color: #000000">00058:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00059:</span> 
<span style="color: #000000">00060:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00061:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00062:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00063:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00064:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide036">TEMPLATE METHOD Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-036.html"> [36/65] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Context</h3>
        <ol xmlns="">
          <li>An algorithm is applicable for multiple types.<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>The algorithm can be broken down into <i>primitive operations</i>.
            The primitive operations can be different for each type<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>The order of the primitive operations doesn't depend on the type<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide037">TEMPLATE METHOD Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-037.html"> [37/65] </a></span></td></tr></table><p> </p>
        <h3 xmlns="">Solution<br xmlns="http://www.w3.org/1999/xhtml"/>
        </h3>
        <ol xmlns="">
          <li>Define a superclass that has a method for the algorithm and
            abstract methods for the primitive operations.</li>
          <li>Implement the algorithm to call the primitive operations in the
            appropriate order.</li>
          <li>Do not define the primitive operations in the superclass, or
            define them to have appropriate default behavior.</li>
          <li>Each subclass defines the primitive operations but not the
            algorithm.</li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide038">TEMPLATE METHOD Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-038.html"> [38/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_un02.jpg" height="348" width="623"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide039">TEMPLATE METHOD Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-039.html"> [39/65] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (Selectable shapes)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">AbstractClass<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">SelectableShape<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteClass<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">CarShape,
                HouseShape<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">templateMethod()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">drawSelection<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">primitiveOp1(),
                primitiveOp2()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">translate,
                draw<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
          </tbody>
        </table>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide040">Compound Shapes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-040.html"> [40/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>GeneralPath: sequence of shapes<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">GeneralPath path = new GeneralPath(); <br xmlns="http://www.w3.org/1999/xhtml"/>path.append(new Rectangle(...), false); <br xmlns="http://www.w3.org/1999/xhtml"/>path.append(new Triangle(...), false); <br xmlns="http://www.w3.org/1999/xhtml"/>g2.draw(path); <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Advantage: Containment test is free<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>path.contains(aPoint);</tt></li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_scene3/CompoundShape_java.html">file:horstmann/ch06_scene3/CompoundShape.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_scene3/CompoundShape.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_scene3/CompoundShape.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_scene3/CompoundShape.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_scene3<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A scene shape that is composed of multiple geometric shapes.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">CompoundShape</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> SelectableShape
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">CompoundShape</span></span><span style="color: #990000">()</span>
<span style="color: #000000">00011:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>       path <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">GeneralPath</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00013:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> 
<span style="color: #000000">00015:</span>    <span style="font-weight: bold"><span style="color: #0000FF">protected</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #008080">Shape</span> s<span style="color: #990000">)</span>
<span style="color: #000000">00016:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>       path<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">append</span></span><span style="color: #990000">(</span>s<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span><span style="color: #008080">Point2D</span> aPoint<span style="color: #990000">)</span>
<span style="color: #000000">00021:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> path<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">contains</span></span><span style="color: #990000">(</span>aPoint<span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00024:</span> 
<span style="color: #000000">00025:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">translate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> dx<span style="color: #990000">,</span> <span style="color: #009900">int</span> dy<span style="color: #990000">)</span>
<span style="color: #000000">00026:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>       path<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">transform</span></span><span style="color: #990000">(</span>
<span style="color: #000000">00028:</span>             AffineTransform<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getTranslateInstance</span></span><span style="color: #990000">(</span>dx<span style="color: #990000">,</span> dy<span style="color: #990000">));</span>
<span style="color: #000000">00029:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span> 
<span style="color: #000000">00031:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics2D</span> g2<span style="color: #990000">)</span>
<span style="color: #000000">00032:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00033:</span>       g2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">draw</span></span><span style="color: #990000">(</span>path<span style="color: #990000">);</span>
<span style="color: #000000">00034:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span>    
<span style="color: #000000">00036:</span>    <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #008080">GeneralPath</span> path<span style="color: #990000">;</span>
<span style="color: #000000">00037:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span> 
<span style="color: #000000">00039:</span> 
<span style="color: #000000">00040:</span> 
<span style="color: #000000">00041:</span> 
<span style="color: #000000">00042:</span> 
<span style="color: #000000">00043:</span> 
<span style="color: #000000">00044:</span> 
<span style="color: #000000">00045:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/horstmann/ch06_scene3/HouseShape_java.html">file:horstmann/ch06_scene3/HouseShape.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/horstmann/ch06_scene3/HouseShape.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/horstmann/ch06_scene3/HouseShape.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/horstmann/ch06_scene3/HouseShape.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> horstmann<span style="color: #990000">.</span>ch06_scene3<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.*;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>geom<span style="color: #990000">.*;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">   A house shape.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">*/</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">HouseShape</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> CompoundShape
<span style="color: #000000">00009:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>    <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">      Constructs a house shape.</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> x the left of the bounding rectangle</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> y the top of the bounding rectangle</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">      </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> width the width of the bounding rectangle</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00016:</span>    <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">HouseShape</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> y<span style="color: #990000">,</span> <span style="color: #009900">int</span> width<span style="color: #990000">)</span>
<span style="color: #000000">00017:</span>    <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>       Rectangle2D<span style="color: #990000">.</span>Double base 
<span style="color: #000000">00019:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Rectangle2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">,</span> width<span style="color: #990000">,</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00020:</span> 
<span style="color: #000000">00021:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The left bottom of the roof</span></span>
<span style="color: #000000">00022:</span>       Point2D<span style="color: #990000">.</span>Double r1
<span style="color: #000000">00023:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00024:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The top of the roof</span></span>
<span style="color: #000000">00025:</span>       Point2D<span style="color: #990000">.</span>Double r2
<span style="color: #000000">00026:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width <span style="color: #990000">/</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> y<span style="color: #990000">);</span>
<span style="color: #000000">00027:</span>       <span style="font-style: italic"><span style="color: #9A1900">// The right bottom of the roof</span></span>
<span style="color: #000000">00028:</span>       Point2D<span style="color: #990000">.</span>Double r3
<span style="color: #000000">00029:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Point2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>x <span style="color: #990000">+</span> width<span style="color: #990000">,</span> y <span style="color: #990000">+</span> width<span style="color: #990000">);</span>
<span style="color: #000000">00030:</span> 
<span style="color: #000000">00031:</span>       Line2D<span style="color: #990000">.</span>Double roofLeft
<span style="color: #000000">00032:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r1<span style="color: #990000">,</span> r2<span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>       Line2D<span style="color: #990000">.</span>Double roofRight
<span style="color: #000000">00034:</span>          <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Line2D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Double</span></span><span style="color: #990000">(</span>r2<span style="color: #990000">,</span> r3<span style="color: #990000">);</span>
<span style="color: #000000">00035:</span> 
<span style="color: #000000">00036:</span>       <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>base<span style="color: #990000">);</span>
<span style="color: #000000">00037:</span>       <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>roofLeft<span style="color: #990000">);</span>
<span style="color: #000000">00038:</span>       <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>roofRight<span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide041">Compound Shapes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-041.html"> [41/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_10.jpg" height="794" width="166"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide042">Access to Superclass Features</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-042.html"> [42/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Why does the <tt>HouseShape</tt> constructor call <tt>add</tt>?<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public HouseShape()<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   add(new Rectangle(...));<br xmlns="http://www.w3.org/1999/xhtml"/>   add(new Triangle(...));<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Why not just<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>path.append(new Rectangle(...));</tt></li>
          <li><tt>HouseShape</tt> inherits <tt>path</tt> field<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li><tt>HouseShape</tt> can't access <tt>path</tt></li>
          <li><tt>path</tt> is private to superclass</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide043">Protected Access</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-043.html"> [43/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Make <tt>CompoundShape.add</tt> method <i>protected</i></li>
          <li>Protects <tt>HouseShape</tt>: other classes can't add graffiti</li>
          <li>Protected features can be accessed by subclass methods...</li>
          <li>...and by methods in the same package</li>
          <li>Bad idea to make fields protected<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>protected GeneralPath path; // DON'T</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Ok to make methods protected<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>protected void add(Shape s) // GOOD</tt></li>
          <li>Protected interface separate from public interface</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide044">Hierarchy of Swing Components</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-044.html"> [44/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Base of hierarchy: <tt>Component</tt></li>
          <li>Huge number of common methods:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">int getWidth()<br xmlns="http://www.w3.org/1999/xhtml"/>int getHeight()<br xmlns="http://www.w3.org/1999/xhtml"/>Dimension getPreferredSize()<br xmlns="http://www.w3.org/1999/xhtml"/>void setBackground(Color c)<br xmlns="http://www.w3.org/1999/xhtml"/>. . .<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Most important subclass: <tt>Container</tt></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide045">Hierarchy of Swing Components</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-045.html"> [45/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_12.jpg" height="815" width="932"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide046">Hierarchy of Swing Components</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-046.html"> [46/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>History: First came AWT, Abstract Window Toolkit</li>
          <li>Used <i>native</i> components</li>
          <li>Subtle platform inconsistencies<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Write once, run anywhere -&gt;<br xmlns="http://www.w3.org/1999/xhtml"/>
            Write once, debug everywhere</li>
          <li>Swing paints components onto blank windows</li>
          <li>Supports multiple <i>look and feel</i> implementations</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide047">Look and Feel</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-047.html"> [47/65] </a></span></td></tr></table><p> </p>
        <img alt="" src="../images/horstmann-06_11.png" height="480" width="732"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide048">Hierarchy of Swing Components</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-048.html"> [48/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Base of Swing components: <tt>JComponent</tt></li>
          <li>Subclass of <tt>Container</tt></li>
          <li><i>Some</i> Swing components are containers</li>
          <li>Java has no multiple inheritance</li>
          <li><tt>JLabel</tt>, <tt>JButton</tt>, ... are subclasses of <tt>JComponent</tt></li>
          <li>Intermediate classes <tt>AbstractButton</tt>, <tt>JTextComponent</tt></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide049">Hierarchy of Geometrical Shapes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-049.html"> [49/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>First version of Java: few shapes, integer coordinates<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Point<br xmlns="http://www.w3.org/1999/xhtml"/>Rectangle<br xmlns="http://www.w3.org/1999/xhtml"/>Polygon<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Java 2: sophisticated shapes, floating-point coordinates<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Point2D<br xmlns="http://www.w3.org/1999/xhtml"/>Rectangle2D<br xmlns="http://www.w3.org/1999/xhtml"/>RoundRectangle2D<br xmlns="http://www.w3.org/1999/xhtml"/>Line2D<br xmlns="http://www.w3.org/1999/xhtml"/>Ellipse2D<br xmlns="http://www.w3.org/1999/xhtml"/>Arc2D<br xmlns="http://www.w3.org/1999/xhtml"/>QuadCurve2D<br xmlns="http://www.w3.org/1999/xhtml"/>CubicCurve2D<br xmlns="http://www.w3.org/1999/xhtml"/>GeneralPath<br xmlns="http://www.w3.org/1999/xhtml"/>Area<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>All but <tt>Point2D</tt> implement <tt>Shape</tt> interface type<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide050">Hierarchy of Geometrical Shapes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-050.html"> [50/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_15.jpg" height="814" width="974"/><br/>
        <br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide051">Rectangular Shapes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-051.html"> [51/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Subclasses of <tt>RectangularShape</tt>:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Rectangle2D<br xmlns="http://www.w3.org/1999/xhtml"/>RoundRectangle2D<br xmlns="http://www.w3.org/1999/xhtml"/>Ellipse2D<br xmlns="http://www.w3.org/1999/xhtml"/>Arc2D<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li><tt>RectangularShape</tt> has useful methods<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">getCenterX/getCenterY<br xmlns="http://www.w3.org/1999/xhtml"/>getMinX/getMinY<br xmlns="http://www.w3.org/1999/xhtml"/>getMaxX/getMaxY<br xmlns="http://www.w3.org/1999/xhtml"/>getWidth/getHeight<br xmlns="http://www.w3.org/1999/xhtml"/>setFrameFromCenter/setFrameFromDiagonal<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide052">Float/Double Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-052.html"> [52/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Each class has two subclasses, e.g.<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">Rectangle2D.Double<br xmlns="http://www.w3.org/1999/xhtml"/>Rectangle2D.Float<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Are also inner classes!<br xmlns="http://www.w3.org/1999/xhtml"/>
            (Just to avoid even longer class names)<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
          <li>Implementations have <tt>double</tt>/<tt>float</tt> fields</li>
          <li>Most methods have <tt>double</tt> parameters/return values</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide053">Float/Double Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-053.html"> [53/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_16.jpg" height="331" width="493"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide054">Float/Double Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-054.html"> [54/65] </a></span></td></tr></table><p> </p>
        <pre xmlns="" xml:space="preserve">public class Rectangle2D <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   public static class Float extends Rectangle2D <br xmlns="http://www.w3.org/1999/xhtml"/>   { <br xmlns="http://www.w3.org/1999/xhtml"/>      public double getX() { return x; } <br xmlns="http://www.w3.org/1999/xhtml"/>      public double getY() { return y; }<br xmlns="http://www.w3.org/1999/xhtml"/>      public double getWidth() { return width; }<br xmlns="http://www.w3.org/1999/xhtml"/>      public double getHeight() { return height;} <br xmlns="http://www.w3.org/1999/xhtml"/>      public void setRect(float x, float y, float w, float h) <br xmlns="http://www.w3.org/1999/xhtml"/>      { <br xmlns="http://www.w3.org/1999/xhtml"/>         this.x = x; this.y = y; <br xmlns="http://www.w3.org/1999/xhtml"/>         this.width = w; this.height = h; <br xmlns="http://www.w3.org/1999/xhtml"/>      } <br xmlns="http://www.w3.org/1999/xhtml"/>      public void setRect(double x, double y, <br xmlns="http://www.w3.org/1999/xhtml"/>         double w, double h) <br xmlns="http://www.w3.org/1999/xhtml"/>      { <br xmlns="http://www.w3.org/1999/xhtml"/>         this.x = (float)x; this.y = (float)y; <br xmlns="http://www.w3.org/1999/xhtml"/>         this.width = (float)w; this.height = (float)h; <br xmlns="http://www.w3.org/1999/xhtml"/>      } <br xmlns="http://www.w3.org/1999/xhtml"/>      ... <br xmlns="http://www.w3.org/1999/xhtml"/>      public float x; <br xmlns="http://www.w3.org/1999/xhtml"/>      public float y; <br xmlns="http://www.w3.org/1999/xhtml"/>      public float width; <br xmlns="http://www.w3.org/1999/xhtml"/>      public float height; <br xmlns="http://www.w3.org/1999/xhtml"/>   } <br xmlns="http://www.w3.org/1999/xhtml"/>   . . .<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide055">Float/Double Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-055.html"> [55/65] </a></span></td></tr></table><p> </p>
        <pre xmlns="" xml:space="preserve">   . . .<br xmlns="http://www.w3.org/1999/xhtml"/>   public static class Double extends Rectangle2D <br xmlns="http://www.w3.org/1999/xhtml"/>      public double getX() { return x; } <br xmlns="http://www.w3.org/1999/xhtml"/>      public double getY() { return y; }<br xmlns="http://www.w3.org/1999/xhtml"/>      public double getWidth() { return width; }<br xmlns="http://www.w3.org/1999/xhtml"/>      public double getHeight() { return height;} <br xmlns="http://www.w3.org/1999/xhtml"/>      public void setRect(double x, double y, <br xmlns="http://www.w3.org/1999/xhtml"/>         double w, double h) <br xmlns="http://www.w3.org/1999/xhtml"/>      { <br xmlns="http://www.w3.org/1999/xhtml"/>         this.x = x; this.y = y; <br xmlns="http://www.w3.org/1999/xhtml"/>         this.width = w; this.height = h; <br xmlns="http://www.w3.org/1999/xhtml"/>      } <br xmlns="http://www.w3.org/1999/xhtml"/>      ... <br xmlns="http://www.w3.org/1999/xhtml"/>      public double x; <br xmlns="http://www.w3.org/1999/xhtml"/>      public double y; <br xmlns="http://www.w3.org/1999/xhtml"/>      public double width; <br xmlns="http://www.w3.org/1999/xhtml"/>      public double height; <br xmlns="http://www.w3.org/1999/xhtml"/>   }<br xmlns="http://www.w3.org/1999/xhtml"/>   ...<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide056">Float/Double Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-056.html"> [56/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li><tt>Rectangle2D</tt> class has no instance variables</li>
          <li>Template Method Pattern at work:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public boolean contains(double x, double y)<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   double x0 = getX();<br xmlns="http://www.w3.org/1999/xhtml"/>   double y0 = getY();<br xmlns="http://www.w3.org/1999/xhtml"/>   return x &gt;= x0 &amp;&amp; y &gt;= y0 &amp;&amp;<br xmlns="http://www.w3.org/1999/xhtml"/>      x &lt; x0 + getWidth() &amp;&amp;<br xmlns="http://www.w3.org/1999/xhtml"/>      y &lt; y0 + getHeight();<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>No need to use inner class after construction<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt><b>Rectangle2D</b> rect<br xmlns="http://www.w3.org/1999/xhtml"/>
                 = new <b>Rectangle2D.Double</b>(5, 10, 20, 30);</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide057">TEMPLATE METHOD Pattern</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-057.html"> [57/65] </a></span></td></tr></table><p> </p>
        <table xmlns="" style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
          <tbody>
            <tr>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Name in
                Design Pattern<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-weight: bold;" rowspan="1" colspan="1">Actual Name
                (Rectangles)<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">AbstractClass<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Rectangle<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">ConcreteClass<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">Rectangle2D.Double<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">templateMethod()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">contains<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
            </tr>
            <tr>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">primitiveOp<i>n</i>()<br xmlns="http://www.w3.org/1999/xhtml"/>
              </td>
              <td style="vertical-align: top; font-family: monospace;" rowspan="1" colspan="1">getX,
                getY, getWidth, getHeight</td>
            </tr>
          </tbody>
        </table>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide058">Hierarchy of Exception Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-058.html"> [58/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Base of hierarchy: <tt>Throwable</tt></li>
          <li>Two subclasses: <tt>Error</tt>, <tt>Exception</tt></li>
          <li>Subclasses of <tt>Error</tt>: fatal<br xmlns="http://www.w3.org/1999/xhtml"/>
            (out of memory, assertion failure)</li>
          <li>Subclasses of <tt>Exception:</tt></li>
          <li>
            <ul>
              <li>Lots of checked exceptions<br xmlns="http://www.w3.org/1999/xhtml"/>
                (I/O, class not found)</li>
              <li><tt>RuntimeException</tt>--its subclasses are unchecked<br xmlns="http://www.w3.org/1999/xhtml"/>
                (null pointer, index out of bounds)</li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide059">Hierarchy of Exception Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-059.html"> [59/65] </a></span></td></tr></table><p> </p>
        <img alt="." src="../images/horstmann-06_14.jpg" height="641" width="871"/><br/>
        <br/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide060">Catching Exceptions</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-060.html"> [60/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Can have multiple <tt>catch</tt> clauses:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">try<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/><i>   code that may throw exceptions</i><br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/> catch (<i>ExceptionType1 exception1</i>)<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   <i>handler for ExceptionType1</i><br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/>catch (<i>ExceptionType2 exception1</i>)<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   <i>handler for ExceptionType2</i><br xmlns="http://www.w3.org/1999/xhtml"/>} </pre>
          </li>
          <li>Can catch by superclass:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>catch (IOException exception)<br xmlns="http://www.w3.org/1999/xhtml"/>
            </tt> catches <tt>FileNotFoundException</tt></li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide061">Defining Exception Classes</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-061.html"> [61/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Decide exception should be checked</li>
          <li>Subclass <tt>Exception</tt> or <tt>RuntimeException</tt></li>
          <li>Provide two constructors<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public class IllegalFormatException extends Exception<br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   public IllegalFormatException() {} <br xmlns="http://www.w3.org/1999/xhtml"/>   public IllegalFormatException(String reason) <br xmlns="http://www.w3.org/1999/xhtml"/>   { super(reason); } <br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Throw exception when needed:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <tt>throw new</tt> <tt>IllegalFormat</tt><tt style="font-family: monospace;">Exception("number expected");</tt><br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide062">When Not to Use Inheritance</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-062.html"> [62/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>From a tutorial for a C++ compiler:<br xmlns="http://www.w3.org/1999/xhtml"/>
          </li>
        </ul>
        <pre xmlns="" xml:space="preserve">public class Point <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   public Point(int anX, int aY) { ... } <br xmlns="http://www.w3.org/1999/xhtml"/>   public void translate(int dx, int dy) { ... } <br xmlns="http://www.w3.org/1999/xhtml"/>   private int x; <br xmlns="http://www.w3.org/1999/xhtml"/>   private int y; <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/><br xmlns="http://www.w3.org/1999/xhtml"/>public class Circle extends Point // DON'T <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   public Circle(Point center, int radius) { ... } <br xmlns="http://www.w3.org/1999/xhtml"/>   public void draw(Graphics g) { ... } <br xmlns="http://www.w3.org/1999/xhtml"/>   private int radius; <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide063">When Not to Use Inheritance</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-063.html"> [63/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Huh? A circle isn't a point.</li>
          <li>By accident, inherited <tt>translate</tt> works for circles</li>
          <li>Same tutorial makes <tt>Rectangle</tt> a subclass of <tt>Point</tt>:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public class Rectangle extends Point // DON'T <br xmlns="http://www.w3.org/1999/xhtml"/>{ <br xmlns="http://www.w3.org/1999/xhtml"/>   public Rectangle(Point corner1, Point corner2) { ... } <br xmlns="http://www.w3.org/1999/xhtml"/>   public void draw(Graphics g) { ... } <br xmlns="http://www.w3.org/1999/xhtml"/>   public void translate(int dx, int dy) { ... } <br xmlns="http://www.w3.org/1999/xhtml"/>   private Point other; <br xmlns="http://www.w3.org/1999/xhtml"/>} <br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide064">When Not to Use Inheritance</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-064.html"> [64/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>That's even weirder:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public void translate(int dx, int dy)<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   super.translate(dx, dy);<br xmlns="http://www.w3.org/1999/xhtml"/>   other.translate(dx, dy);<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Why did they do that?</li>
          <li>Wanted to avoid abstract class <tt>Shape</tt></li>
          <li>Remedy: Use aggregation.</li>
          <li>Circle, Rectangle classes <i>have</i> points</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide065">When Not to Use Inheritance</a></span><span style="font-weight: normal"><a href="notes-horstmann-06-065.html"> [65/65] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>Java standard library:<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public class Stack&lt;T&gt; extends Vector&lt;T&gt; // DON'T<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   T pop() { ... }<br xmlns="http://www.w3.org/1999/xhtml"/>   void push(T item) { ... }<br xmlns="http://www.w3.org/1999/xhtml"/>   ...<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
          <li>Bad idea: Inherit all <tt>Vector</tt> methods</li>
          <li>Can insert/remove in the middle of the stack</li>
          <li>Remedy: Use aggregation<br xmlns="http://www.w3.org/1999/xhtml"/>
            <pre xml:space="preserve">public class Stack&lt;T&gt;<br xmlns="http://www.w3.org/1999/xhtml"/>{<br xmlns="http://www.w3.org/1999/xhtml"/>   ...<br xmlns="http://www.w3.org/1999/xhtml"/>   private ArrayList&lt;T&gt; elements;<br xmlns="http://www.w3.org/1999/xhtml"/>}<br xmlns="http://www.w3.org/1999/xhtml"/></pre>
          </li>
        </ul>
      <hr/><p class="flush">
      Revised: 2007/09/11 16:28</p></body></html>
