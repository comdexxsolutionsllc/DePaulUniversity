<?xml version="1.0"?>
<!--Generated by an XSL stylesheet.  Do not edit!-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta http-equiv="Expires" content="Mon, 10 Jan 2000 12:00:00 GMT"/><style type="text/css">
    p.flushtop     { margin-top: 0px; }
    p.flushbottom  { margin-bottom: 0px; }
    p.flush        { margin-top: 0px;
                     margin-bottom: 0px; }
    h1             { margin-top: 0px;
                     font-weight: bold;
                     font-size: large; }
    h2             { margin-top: 0px;
                     font-weight: bold;
                     font-size: medium; }
    body           { color: black;
                     background-color: white; }
    img.noborder   { border-width: 0px; }
    table.title    { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E4E4C2; }
    table.item     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #F4F4E0; }
    table.notes    { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.comment  { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.code     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E0F4E0; }
    table.contents { border-width: 0px; 
                     color: black;
                     background-color: #FFFFFF; }
    span.red       { color: red; }
    span.orange    { color: orange; }
    span.purple    { color: purple; }
    span.blue      { color: blue; }
    span.brown     { color: brown; }
    span.green     { color: lime; }
    span.hilight   { background-color: #E4E4C2; }
  </style><title>SE450:  Lecture 5 
      [2008/10/07]
    </title></head><body><h1><a href="../index.html">SE450</a>:  Lecture 5 
      (Observer/Visualizing a Simulation)
    </h1><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide000">Contents</a></span><span style="font-weight: normal"><a href="class-05-000.html"> [0/28] </a></span></td></tr></table><p> </p><table width="100%" cellpadding="0" cellspacing="0" class="contents"><tr><td><a href="#slide001">Today</a> [1/28] </td></tr><tr><td><a href="#slide002">Exam</a> [2/28] </td></tr><tr><td><a href="#slide003">Midterm Practice: Music Example</a> [3/28] </td></tr><tr><td><a href="#slide004">Midterm Practice: Filters</a> [4/28] </td></tr><tr><td><a href="#slide005">Midterm Practice: What A Pain</a> [5/28] </td></tr><tr><td><a href="#slide006">Midterm Practice: Composition/Map</a> [6/28] </td></tr><tr><td><a href="#slide007">PSP: SEI</a> [7/28] </td></tr><tr><td><a href="#slide008">PSP: Motivation</a> [8/28] </td></tr><tr><td><a href="#slide009">PSP: Planning</a> [9/28] </td></tr><tr><td><a href="#slide010">PSP: Measurement</a> [10/28] </td></tr><tr><td><a href="#slide011">PSP: What is needed?</a> [11/28] </td></tr><tr><td><a href="#slide012">PSP: Introducing Personal Disciplines</a> [12/28] </td></tr><tr><td><a href="#slide013">PSP: The PSP</a> [13/28] </td></tr><tr><td><a href="#slide014">Project</a> [14/28] </td></tr><tr><td><a href="#slide015">Observer: Cyclic Dependencies</a> [15/28] </td></tr><tr><td><a href="#slide016">Observer: 1</a> [16/28] </td></tr><tr><td><a href="#slide017">Observer: 2</a> [17/28] </td></tr><tr><td><a href="#slide018">Observer: 3</a> [18/28] </td></tr><tr><td><a href="#slide019">Observer: 4</a> [19/28] </td></tr><tr><td><a href="#slide020">Observer: 5</a> [20/28] </td></tr><tr><td><a href="#slide021">Observer: 6</a> [21/28] </td></tr><tr><td><a href="#slide022">Observer: 7</a> [22/28] </td></tr><tr><td><a href="#slide023">Observer: 8</a> [23/28] </td></tr><tr><td><a href="#slide024">Observer: UI Driven</a> [24/28] </td></tr><tr><td><a href="#slide025">Animation: Overview</a> [25/28] </td></tr><tr><td><a href="#slide026">Animation: Model</a> [26/28] </td></tr><tr><td><a href="#slide027">Animation: Text output</a> [27/28] </td></tr><tr><td><a href="#slide028">Animation: Swing output</a> [28/28] </td></tr></table><br/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide001">Today</a></span><span style="font-weight: normal"><a href="class-05-001.html"> [1/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Exam Review
          (practice questions 5, 6, 11, 12)
        </p>
        <p xmlns="">
          Recording your productivity.
        </p>
        <p xmlns="">
          Observer
        </p>
        <p xmlns="">
          Project
          (First project iteration due week after exam)
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide002">Exam</a></span><span style="font-weight: normal"><a href="class-05-002.html"> [2/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          See
          <a xmlns="http://www.w3.org/1999/xhtml" href="../lectures/hw-04-000.html">here</a>.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide003">Midterm Practice: Music Example</a></span><span style="font-weight: normal"><a href="class-05-003.html"> [3/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          For questions see the homework.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/music/Music_java.html">file:music/Music.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/music/Music.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/music/Music.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/music/Music.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> music<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Music</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> _pitch <span style="color: #990000">=</span> <span style="color: #993399">440</span><span style="color: #990000">;</span>
<span style="color: #000000">00004:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** play note at the current pitch for the given duration</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">      in milliseconds (the initial pitch is A = 440 Hz) */</span></span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> duration<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"play for "</span> <span style="color: #990000">+</span> duration<span style="color: #990000">/</span><span style="color: #993399">1000.0</span> <span style="color: #990000">+</span> <span style="color: #FF0000">": "</span> <span style="color: #990000">+</span> _pitch <span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** rest for given duration */</span></span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">rest</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> duration<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"rest for "</span> <span style="color: #990000">+</span> duration<span style="color: #990000">/</span><span style="color: #993399">1000.0</span><span style="color: #990000">);</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** multiply the pitch frequency by the given factor</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">      (a factor less than one will lower the pitch) */</span></span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">scalePitch</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> factor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>     _pitch <span style="color: #990000">*=</span> factor<span style="color: #990000">;</span>
<span style="color: #000000">00017:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** reset the pitch to note A = 440 Hz */</span></span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">reset</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> 
<span style="color: #000000">00020:</span>     _pitch <span style="color: #990000">=</span> <span style="color: #993399">440</span><span style="color: #990000">;</span>
<span style="color: #000000">00021:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00023:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/music/Event_java.html">file:music/Event.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/music/Event.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/music/Event.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/music/Event.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> music<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Event</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00004:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Note</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Event <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>   <span style="color: #009900">int</span> _d<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span>   <span style="color: #009900">double</span> _f<span style="color: #990000">;</span>
<span style="color: #000000">00008:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Note</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> duration<span style="color: #990000">,</span> <span style="color: #009900">double</span> factor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>     _d <span style="color: #990000">=</span> duration<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span>     _f <span style="color: #990000">=</span> factor<span style="color: #990000">;</span>
<span style="color: #000000">00011:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>     Music<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">scalePitch</span></span><span style="color: #990000">(</span>_f<span style="color: #990000">);</span>
<span style="color: #000000">00014:</span>     Music<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">(</span>_d<span style="color: #990000">);</span>
<span style="color: #000000">00015:</span>     Music<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">scalePitch</span></span><span style="color: #990000">(</span><span style="color: #993399">1.0</span><span style="color: #990000">/</span>_f<span style="color: #990000">);</span>
<span style="color: #000000">00016:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Rest</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Event <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>   <span style="color: #009900">int</span> _d<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Rest</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> duration<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00021:</span>     _d <span style="color: #990000">=</span> duration<span style="color: #990000">;</span>
<span style="color: #000000">00022:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>     Music<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">rest</span></span><span style="color: #990000">(</span>_d<span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/music/EventGroup_java.html">file:music/EventGroup.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/music/EventGroup.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/music/EventGroup.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/music/EventGroup.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> music<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>LinkedList<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">EventGroup</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Event <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>   List<span style="color: #990000">&lt;</span>Event<span style="color: #990000">&gt;</span> _events <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> LinkedList<span style="color: #990000">&lt;</span>Event<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="color: #008080">Event</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>     _events<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>e<span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span>   
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Event</span> e <span style="color: #990000">:</span> _events<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>       e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00013:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/music/Transpose_java.html">file:music/Transpose.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/music/Transpose.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/music/Transpose.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/music/Transpose.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> music<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Transpose</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Event <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   Event _e<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span>   <span style="color: #009900">double</span> _f<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Transpose</span></span><span style="color: #990000">(</span><span style="color: #008080">Event</span> e<span style="color: #990000">,</span> <span style="color: #009900">double</span> factor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>     _e <span style="color: #990000">=</span> e<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span>     _f <span style="color: #990000">=</span> factor<span style="color: #990000">;</span>
<span style="color: #000000">00008:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>     Music<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">scalePitch</span></span><span style="color: #990000">(</span>_f<span style="color: #990000">);</span>
<span style="color: #000000">00011:</span>     _e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00012:</span>     Music<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">scalePitch</span></span><span style="color: #990000">(</span><span style="color: #993399">1.0</span><span style="color: #990000">/</span>_f<span style="color: #990000">);</span>
<span style="color: #000000">00013:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span>   
<span style="color: #000000">00016:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/music/Main_java.html">file:music/Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/music/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/music/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/music/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> music<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>     <span style="color: #008080">EventGroup</span> eg1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">EventGroup</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00005:</span>     eg1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Note</span></span><span style="color: #990000">(</span><span style="color: #993399">250</span><span style="color: #990000">,</span> <span style="color: #993399">2.0</span><span style="color: #990000">));</span>
<span style="color: #000000">00006:</span>     eg1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Rest</span></span><span style="color: #990000">(</span><span style="color: #993399">250</span><span style="color: #990000">));</span>
<span style="color: #000000">00007:</span>     eg1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Note</span></span><span style="color: #990000">(</span><span style="color: #993399">500</span><span style="color: #990000">,</span> <span style="color: #993399">1.0</span><span style="color: #990000">));</span>
<span style="color: #000000">00008:</span>     eg1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Rest</span></span><span style="color: #990000">(</span><span style="color: #993399">500</span><span style="color: #990000">));</span>
<span style="color: #000000">00009:</span>     eg1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Note</span></span><span style="color: #990000">(</span><span style="color: #993399">1000</span><span style="color: #990000">,</span> <span style="color: #993399">0.5</span><span style="color: #990000">));</span>
<span style="color: #000000">00010:</span> 
<span style="color: #000000">00011:</span>     <span style="color: #008080">EventGroup</span> eg2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">EventGroup</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00012:</span>     eg2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>eg1<span style="color: #990000">);</span>
<span style="color: #000000">00013:</span>     eg1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Rest</span></span><span style="color: #990000">(</span><span style="color: #993399">1000</span><span style="color: #990000">));</span>
<span style="color: #000000">00014:</span>     eg2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Transpose</span></span><span style="color: #990000">(</span>eg1<span style="color: #990000">,</span> <span style="color: #993399">2.0</span><span style="color: #990000">));</span>
<span style="color: #000000">00015:</span> 
<span style="color: #000000">00016:</span>     eg2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">play</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00017:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide004">Midterm Practice: Filters</a></span><span style="font-weight: normal"><a href="class-05-004.html"> [4/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          For questions see the homework.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/functions/two/Main_java.html">file:functions/two/Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/functions/two/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/functions/two/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/functions/two/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> functions<span style="color: #990000">.</span>two<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Stream</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00004:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00005:</span> 
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IntStream</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Stream <span style="color: #FF0000">{</span> 
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _i <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">;</span>
<span style="color: #000000">00008:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">++</span>_i<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span>   <span style="color: #FF0000">}</span> 
<span style="color: #000000">00011:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span> 
<span style="color: #000000">00013:</span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Predicate</span><span style="color: #FF0000">{</span> 
<span style="color: #000000">00014:</span>   <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">evaluate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> j<span style="color: #990000">);</span>
<span style="color: #000000">00015:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> 
<span style="color: #000000">00017:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">FilteredStream</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Stream<span style="color: #FF0000">{</span> 
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Stream _it<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Predicate _p<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">FilteredStream</span></span><span style="color: #990000">(</span><span style="color: #008080">Stream</span> it<span style="color: #990000">,</span> <span style="color: #008080">Predicate</span> p<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>     _it <span style="color: #990000">=</span> it<span style="color: #990000">;</span>
<span style="color: #000000">00023:</span>     _p <span style="color: #990000">=</span>p<span style="color: #990000">;</span>
<span style="color: #000000">00024:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span>   
<span style="color: #000000">00026:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>     <span style="color: #009900">int</span> i<span style="color: #990000">;</span>
<span style="color: #000000">00028:</span>     <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>       i <span style="color: #990000">=</span> _it<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00030:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(!</span>_p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">evaluate</span></span><span style="color: #990000">(</span>i<span style="color: #990000">));</span>
<span style="color: #000000">00031:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> i<span style="color: #990000">;</span>
<span style="color: #000000">00032:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> 
<span style="color: #000000">00035:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IsEven</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Predicate <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">evaluate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> j<span style="color: #990000">)</span><span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>      <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span>j<span style="color: #990000">%</span><span style="color: #993399">2</span><span style="color: #990000">)==</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00038:</span>    <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00042:</span>     <span style="color: #008080">IntStream</span> I <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntStream</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00043:</span>     <span style="color: #008080">FilteredStream</span> F <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FilteredStream</span></span><span style="color: #990000">(</span>I<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IsEven</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00044:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>F<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 0 on the screen</span></span>
<span style="color: #000000">00045:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>F<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 2 on the screen</span></span>
<span style="color: #000000">00046:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>F<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 4 on the screen</span></span>
<span style="color: #000000">00047:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>F<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 6 on the screen</span></span>
<span style="color: #000000">00048:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>F<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 8 on the screen</span></span>
<span style="color: #000000">00049:</span>     
<span style="color: #000000">00050:</span>     <span style="color: #008080">IntStream</span> J <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntStream</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00051:</span>     J<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>                       <span style="font-style: italic"><span style="color: #9A1900">// move forward one item in J</span></span>
<span style="color: #000000">00052:</span>     <span style="color: #008080">FilteredStream</span> G <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FilteredStream</span></span><span style="color: #990000">(</span>J<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IsEven</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00053:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>G<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 2 on the screen</span></span>
<span style="color: #000000">00054:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>G<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 4 on the screen</span></span>
<span style="color: #000000">00055:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>G<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 6 on the screen</span></span>
<span style="color: #000000">00056:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>G<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 8 on the screen</span></span>
<span style="color: #000000">00057:</span>     
<span style="color: #000000">00058:</span>     <span style="color: #008080">IntStream</span> K <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntStream</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00059:</span>     <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Div3</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Predicate <span style="color: #FF0000">{</span>
<span style="color: #000000">00060:</span>       <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">evaluate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> n<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span>n<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">)</span> <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00061:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00062:</span>     <span style="color: #008080">FilteredStream</span> H <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FilteredStream</span></span><span style="color: #990000">(</span>K<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Div3</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00063:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>H<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 0 on the screen</span></span>
<span style="color: #000000">00064:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>H<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 3 on the screen</span></span>
<span style="color: #000000">00065:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>H<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 6 on the screen</span></span>
<span style="color: #000000">00066:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>H<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints 9 on the screen</span></span>
<span style="color: #000000">00067:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00069:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide005">Midterm Practice: What A Pain</a></span><span style="font-weight: normal"><a href="class-05-005.html"> [5/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          For questions see the homework.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/functions/two/Main2_java.html">file:functions/two/Main2.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/functions/two/Main2.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/functions/two/Main2.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/functions/two/Main2.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> functions<span style="color: #990000">.</span>two<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">NotDivn</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Predicate <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _n<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #000000">NotDivn</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> n<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     _n <span style="color: #990000">=</span> n<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">evaluate</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> m<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span>m<span style="color: #990000">%</span>_n<span style="color: #990000">)</span> <span style="color: #990000">!=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00009:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00010:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span> 
<span style="color: #000000">00012:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">WhatAPain</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Stream<span style="color: #FF0000">{</span> 
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Stream _it<span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>   
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">WhatAPain</span></span><span style="color: #990000">(</span><span style="color: #008080">Stream</span> it<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>     _it <span style="color: #990000">=</span> it<span style="color: #990000">;</span>
<span style="color: #000000">00017:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span>   
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>  
<span style="color: #000000">00020:</span>     <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> n <span style="color: #990000">=</span> _it<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00021:</span>     <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">Predicate</span> d <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">NotDivn</span></span><span style="color: #990000">(</span>n<span style="color: #990000">);</span>
<span style="color: #000000">00022:</span>     <span style="color: #008080">Stream</span> newit <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">FilteredStream</span></span><span style="color: #990000">(</span>_it<span style="color: #990000">,</span> d<span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>     _it <span style="color: #990000">=</span> newit<span style="color: #990000">;</span>
<span style="color: #000000">00024:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span>n<span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>   <span style="color: #FF0000">}</span> 
<span style="color: #000000">00026:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> 
<span style="color: #000000">00028:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main2</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00030:</span>     <span style="color: #008080">IntStream</span> I <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntStream</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00031:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>I<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints out 0 on the screen</span></span>
<span style="color: #000000">00032:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>I<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   <span style="font-style: italic"><span style="color: #9A1900">// prints out 1 on the screen</span></span>
<span style="color: #000000">00033:</span>     
<span style="color: #000000">00034:</span>     <span style="color: #008080">WhatAPain</span> w <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">WhatAPain</span></span><span style="color: #990000">(</span>I<span style="color: #990000">);</span> 
<span style="color: #000000">00035:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   
<span style="color: #000000">00036:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span> 
<span style="color: #000000">00037:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   
<span style="color: #000000">00038:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>  
<span style="color: #000000">00039:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   
<span style="color: #000000">00040:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span> 
<span style="color: #000000">00041:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   
<span style="color: #000000">00042:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   
<span style="color: #000000">00043:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>   
<span style="color: #000000">00044:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>w<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">next</span></span><span style="color: #990000">());</span>             
<span style="color: #000000">00045:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00046:</span> <span style="color: #FF0000">}</span>  
<span style="color: #000000">00047:</span> 
<span style="color: #000000">00048:</span> 
<span style="color: #000000">00049:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <blockquote><table width="100%"><tr><td><table width="100%" class="title"><tr><td><b>Links</b></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://mathworld.wolfram.com/SieveofEratosthenes.html">http://mathworld.wolfram.com/SieveofEratosthenes.html</a></p></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes">http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes</a></p></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://mathforum.org/dr.math/faq/faq.prime.num.html">http://mathforum.org/dr.math/faq/faq.prime.num.html</a></p></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www.math.utah.edu/~alfeld/Eratosthenes.html">http://www.math.utah.edu/~alfeld/Eratosthenes.html</a></p></td></tr></table></td></tr></table></blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide006">Midterm Practice: Composition/Map</a></span><span style="font-weight: normal"><a href="class-05-006.html"> [6/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          For questions see the homework.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/functions/one/Main_java.html">file:functions/one/Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/functions/one/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/functions/one/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/functions/one/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> functions<span style="color: #990000">.</span>one<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">ArrFun</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span><span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">[]</span> x<span style="color: #990000">);</span>
<span style="color: #000000">00004:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00005:</span> 
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">IntFun</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">);</span>
<span style="color: #000000">00008:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span> 
<span style="color: #000000">00010:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Abs</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> IntFun <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>     <span style="font-style: italic"><span style="color: #9A1900">//SAME AS: if (x &lt; 0) return -x; else return x;</span></span>
<span style="color: #000000">00013:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span>x <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #990000">?</span> <span style="color: #990000">-</span>x <span style="color: #990000">:</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> 
<span style="color: #000000">00017:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Cube</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> IntFun <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> x<span style="color: #990000">*</span>x<span style="color: #990000">*</span>x<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> 
<span style="color: #000000">00023:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Map</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> ArrFun <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>   IntFun _f<span style="color: #990000">;</span>
<span style="color: #000000">00025:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Map</span></span><span style="color: #990000">(</span><span style="color: #008080">IntFun</span> f<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _f <span style="color: #990000">=</span> f<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span><span style="color: #990000">[]</span> <span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">[]</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>     <span style="color: #009900">int</span><span style="color: #990000">[]</span> answer <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="color: #009900">int</span><span style="color: #990000">[</span>x<span style="color: #990000">.</span>length<span style="color: #990000">];</span>
<span style="color: #000000">00028:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span>x<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>       answer<span style="color: #990000">[</span>i<span style="color: #990000">]</span> <span style="color: #990000">=</span> _f<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span>x<span style="color: #990000">[</span>i<span style="color: #990000">]);</span>
<span style="color: #000000">00030:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> answer<span style="color: #990000">;</span>
<span style="color: #000000">00032:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> 
<span style="color: #000000">00035:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">[]</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"[ "</span><span style="color: #990000">);</span>
<span style="color: #000000">00038:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span>x<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span>
<span style="color: #000000">00039:</span>       System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span>x<span style="color: #990000">[</span>i<span style="color: #990000">]+</span> <span style="color: #FF0000">" "</span><span style="color: #990000">);</span>
<span style="color: #000000">00040:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"]"</span><span style="color: #990000">);</span>
<span style="color: #000000">00041:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00042:</span>     
<span style="color: #000000">00043:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>     <span style="color: #008080">IntFun</span> f <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Abs</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00045:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>f<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(-</span><span style="color: #993399">5</span><span style="color: #990000">));</span>
<span style="color: #000000">00046:</span> 
<span style="color: #000000">00047:</span>     <span style="color: #009900">int</span><span style="color: #990000">[]</span> a <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="color: #009900">int</span><span style="color: #990000">[</span><span style="color: #993399">10</span><span style="color: #990000">];</span>
<span style="color: #000000">00048:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span>a<span style="color: #990000">.</span>length<span style="color: #990000">;</span> i<span style="color: #990000">++)</span>
<span style="color: #000000">00049:</span>       a<span style="color: #990000">[</span>i<span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="color: #990000">-</span>i<span style="color: #990000">*</span><span style="color: #993399">10</span><span style="color: #990000">;</span>
<span style="color: #000000">00050:</span> 
<span style="color: #000000">00051:</span>     <span style="color: #008080">ArrFun</span> mabs <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Map</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Comp</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Abs</span></span><span style="color: #990000">(),</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Cube</span></span><span style="color: #990000">()));</span>
<span style="color: #000000">00052:</span>     <span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span>mabs<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span>a<span style="color: #990000">));</span>
<span style="color: #000000">00053:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00054:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00055:</span> 
<span style="color: #000000">00056:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Comp</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> IntFun <span style="color: #FF0000">{</span>
<span style="color: #000000">00057:</span>   IntFun _f<span style="color: #990000">,</span> _g<span style="color: #990000">;</span>
<span style="color: #000000">00058:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Comp</span></span><span style="color: #990000">(</span><span style="color: #008080">IntFun</span> f<span style="color: #990000">,</span> <span style="color: #008080">IntFun</span> g<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _f <span style="color: #990000">=</span> f<span style="color: #990000">;</span> _g <span style="color: #990000">=</span> g<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00059:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00060:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span>_f<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">exec</span></span><span style="color: #990000">(</span>x<span style="color: #990000">));</span>
<span style="color: #000000">00061:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00062:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00063:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide007">PSP: SEI</a></span><span style="font-weight: normal"><a href="class-05-007.html"> [7/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          PSP is the <i>Personal Software Process</i> developed by
          Humphries at CMU's Software Engineering Institute:
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.sei.cmu.edu/">SEI</a>.
        </p>
        <p xmlns="">
          Interest is in process.  What makes a project successful?
          What make a project fail?
        </p>
        <p xmlns="">
          PSP concentrates on the individual programmer.  The <i>Team
          Software Process</i> (TSP) concentrates on Teams.
        </p>
        <p xmlns="">
          Goal is to distill knowledge and transmit it to others.  SEI
          has done a very good job with this.
        </p>
        <p xmlns="">
          SE472 is a PSP course in the style advocated by SEI.  This
          class is not.
        </p>
        <p xmlns="">
          The rest of these notes are copied from a talk given by
          Watts Humphries at DePaul in 2003.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide008">PSP: Motivation</a></span><span style="font-weight: normal"><a href="class-05-008.html"> [8/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Watts Humphrey: <q>Our job is to transform poorly understood
          and rapidly changing needs into precise machine instructions.</q>
        </p>
        <p xmlns="">
          Experimentation is necessary to determine <i>what</i> we are
          supposed to build, hence iterative development.
        </p>
        <p xmlns="">
          But software production is also a <i>business</i>, and
          <q>businesses run on schedules and commitments</q>.
        </p>
        <p xmlns="">
          So we need to measure what we do so that we know how to make
          plans and commitments.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide009">PSP: Planning</a></span><span style="font-weight: normal"><a href="class-05-009.html"> [9/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Quoting Watts Humphrey:
        </p>
        <ul xmlns="">
          <li>Never make a commitment without a plan.</li>
          <li>The people who do the work make the plan.</li>
          <li>If you can't plan accurately, plan often.</li>
          <li>Plan what you know and plan at a level that fits the job.</li>
          <li>If the plan does not fit the work, revise the plan.</li>
          <li>Base plans on historical data.
            <ul>
              <li>comparable projects</li>
              <li>similar plans</li>
              <li>similar processes</li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide010">PSP: Measurement</a></span><span style="font-weight: normal"><a href="class-05-010.html"> [10/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Quoting Watts Humphrey:
        </p>
        <ul xmlns="">
          <li>To measure your work, you must define its measures.</li>
          <li>To define the measures, you must know the job steps.</li>
          <li>Tailor the process to fit the work.
            <ul>
              <li>For different kinds of work, use different processes.</li>
              <li>Whe the process doesn't fit the job, change the process.</li>
            </ul>
          </li>
          <li>Use the process to measure, plan, and track the work.</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide011">PSP: What is needed?</a></span><span style="font-weight: normal"><a href="class-05-011.html"> [11/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Quoting Watts Humphrey:
        </p>
        <ul xmlns="">
          <li>... we need engineers who can
            <ul>
              <li>make accurate plans</li>
              <li>consistently meet commitments</li>
              <li>regularly produce quality products </li>
            </ul>
          </li>
          <li>The PSP provides engineers with the necessary
          skills.</li>
          <li>The TSP builds teams that can
            <ul>
              <li>negotiate realistic commitments</li>
              <li>accurately report progress</li>
              <li>produce essentially defect-free products</li>
            </ul>
</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide012">PSP: Introducing Personal Disciplines</a></span><span style="font-weight: normal"><a href="class-05-012.html"> [12/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Quoting Watts Humphrey:
        </p>
        <ul xmlns="">
          <li>Until they try it, most software professionals do not
          believe disciplined engineering will work for them.
            <ul>
              <li>They won't try it without evidence.</li>
              <li>They can't get evidence without trying it.</li>
            </ul>
          </li>
          <li>The PSP course provides this experience.
            <ul>
              <li>Engineers write 10 programs.</li>
              <li>They start with their current methods.</li>
              <li>They advance in steps to the full PSP.</li>
              <li>They gather data on every program.</li>
            </ul>
          </li>
          <li>They see from their own data that, with disciplined
          personal methods, they do better work.</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide013">PSP: The PSP</a></span><span style="font-weight: normal"><a href="class-05-013.html"> [13/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          We will only be doing a bit of measurement in this course.
        </p>
        <ul xmlns="">
          <li>Measure time.</li>
          <li>Measure bugs.</li>
        </ul>
        <p xmlns="">
          I will also ask you to try to predict how much time you will
          spend.  You can see how accurate your predictions are.  With
          experience, you will get better at predicting.
        </p>
        <p xmlns="">
          Later stages of the PSP concentrate on:
        </p>
        <ul xmlns="">
          <li>Estimating code size</li>
          <li>Design review</li>
          <li>Code review</li>
          <li>Cyclic development</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide014">Project</a></span><span style="font-weight: normal"><a href="class-05-014.html"> [14/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          The project will be a traffic simulation.  Detailed
          instructions are
          <a xmlns="http://www.w3.org/1999/xhtml" href="../notes/notes-final-project-000.html">here</a>.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide015">Observer: Cyclic Dependencies</a></span><span style="font-weight: normal"><a href="class-05-015.html"> [15/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Example of a GUI element (a slider) which controls a program
          variable <code>x</code>.
        </p>
        <p xmlns="">
          Program creates <code>Slider</code>.
        </p>
        <p xmlns="">
          <code>Slider</code> controls program.
        </p>
        <p xmlns="">
          Observer reverse the dependency of Slider on program.
        </p>
        <p xmlns="">
          Program can use slider code, but slider decides when to call
          (back) to the client!
        </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/javax/swing/JSlider.html">javax.swing.JSlider</a>
        <br xmlns="http://www.w3.org/1999/xhtml"/>
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/javax/swing/event/ChangeListener.html">javax.swing.event.ChangeListener</a>
        </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/awt/Button.html">java.awt.Button</a>
        <br xmlns="http://www.w3.org/1999/xhtml"/>
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/awt/event/ActionListener.html">java.awt.event.ActionListener</a>
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide016">Observer: 1</a></span><span style="font-weight: normal"><a href="class-05-016.html"> [16/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/one/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/one/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/one/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/one/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>one<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00009:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00023:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00024:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00025:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00028:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00031:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00032:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00033:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00034:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00035:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00036:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00037:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          What if we have to print the number of operations performed
          on the <tt>Int</tt>?
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide017">Observer: 2</a></span><span style="font-weight: normal"><a href="class-05-017.html"> [17/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/two/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/two/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/two/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/two/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>two<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00009:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _numOps<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00023:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00024:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00026:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00032:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00033:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00034:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span> <span style="font-style: italic"><span style="color: #9A1900">/*??*/</span></span>
<span style="color: #000000">00035:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span> <span style="font-style: italic"><span style="color: #9A1900">/*??*/</span></span>
<span style="color: #000000">00037:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Who remembers the <tt>numOps</tt>?
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide018">Observer: 3</a></span><span style="font-weight: normal"><a href="class-05-018.html"> [18/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/three/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/three/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/three/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/three/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>three<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00009:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _numOps<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00023:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00024:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00025:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00026:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00032:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00033:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00034:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00035:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00037:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Is this <tt>Int</tt> cohesive?
        </p>
        <p xmlns="">
          Let's use an observer!
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide019">Observer: 4</a></span><span style="font-weight: normal"><a href="class-05-019.html"> [19/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/four/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/four/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/four/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/four/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>four<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">IntObserver</span> o <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntObserver</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00011:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IntObserver</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _numOps<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">IntObserver</span></span> <span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-style: italic"><span style="color: #9A1900">/* ?? */</span></span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00019:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00028:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00030:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00031:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00032:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00033:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00037:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00039:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00040:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00042:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00043:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00044:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00045:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00046:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          How do we tell the observer what to observe?
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide020">Observer: 5</a></span><span style="font-weight: normal"><a href="class-05-020.html"> [20/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/five/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/five/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/five/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/five/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>five<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>     <span style="color: #008080">IntObserver</span> o <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntObserver</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">(</span>o<span style="color: #990000">);</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00011:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IntObserver</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _numOps<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> IntObserver _o<span style="color: #990000">;</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">(</span><span style="color: #008080">IntObserver</span> o<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _o <span style="color: #990000">=</span> o<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> _o<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> _o<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00028:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00031:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00032:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00033:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00034:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00036:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00038:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00040:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00042:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00043:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00045:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00046:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00049:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Observers are lazy!
          Subscriber is a better name.
        </p>
        <p xmlns="">
          Does <tt>Int</tt> need to know the actual class of the subscriber?
        </p>
        <p xmlns="">
          Could there be more than one subscriber?
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide021">Observer: 6</a></span><span style="font-weight: normal"><a href="class-05-021.html"> [21/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/six/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/six/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/six/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/six/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>six<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>ArrayList<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00008:</span>     c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addObserver</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntObserver</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00009:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00011:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00013:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00014:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> 
<span style="color: #000000">00018:</span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Observer</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00020:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> 
<span style="color: #000000">00022:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IntObserver</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Observer <span style="color: #FF0000">{</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _numOps<span style="color: #990000">;</span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00026:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Observer<span style="color: #990000">&gt;</span> _observers <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Observer<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">boolean</span> _changed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00031:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addObserver</span></span><span style="color: #990000">(</span><span style="color: #008080">Observer</span> o<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00032:</span>     _observers<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>o<span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00035:</span>     _changed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00036:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00037:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00038:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_changed<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00039:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Observer</span> o <span style="color: #990000">:</span> _observers<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00040:</span>         o<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00041:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00042:</span>       _changed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00043:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00044:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00045:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00046:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> <span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">();</span> <span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> <span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">();</span> <span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00049:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00050:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00051:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00052:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00053:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00054:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00055:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00056:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00057:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00058:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00059:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00060:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00061:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00062:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00063:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00064:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00065:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00066:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00067:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00069:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00070:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00071:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide022">Observer: 7</a></span><span style="font-weight: normal"><a href="class-05-022.html"> [22/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/seven/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/seven/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/seven/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/seven/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>seven<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observer<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observable<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00007:</span>     c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addObserver</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IntObserver</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00008:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00009:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00012:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00013:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IntObserver</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Observer <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _numOps<span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">(</span><span style="color: #008080">Observable</span> o<span style="color: #990000">,</span> <span style="color: #008080">Object</span> arg<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00020:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Observable <span style="color: #FF0000">{</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> <span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">();</span> <span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> <span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">();</span> <span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00028:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00031:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00032:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00033:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00034:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00036:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00038:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00040:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00042:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00043:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00045:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00046:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00049:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/util/Observable.html">java.util.Observable</a>
          <br xmlns="http://www.w3.org/1999/xhtml"/>
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/util/Observer.html">java.util.Observer</a>
        </p>
        <p xmlns="">
          Is it worth giving <tt>IntObserver</tt> a name?
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide023">Observer: 8</a></span><span style="font-weight: normal"><a href="class-05-023.html"> [23/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/eight/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/eight/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/eight/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/eight/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>eight<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observer<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observable<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> argv<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Int</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00007:</span>     c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addObserver</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Observer</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>         <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _numOps<span style="color: #990000">;</span>
<span style="color: #000000">00009:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">(</span><span style="color: #008080">Observable</span> o<span style="color: #990000">,</span> <span style="color: #008080">Object</span> arg<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>           System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span> <span style="color: #990000">(++</span>_numOps<span style="color: #990000">);</span>
<span style="color: #000000">00011:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span>       <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00013:</span>     <span style="color: #008080">Runnable</span> r1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00014:</span>     <span style="color: #008080">Runnable</span> r2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span>c<span style="color: #990000">);</span>
<span style="color: #000000">00015:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">10000</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>       r1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00017:</span>       r2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00018:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Observable <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">++;</span> <span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">();</span> <span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _v<span style="color: #990000">--;</span> <span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">();</span> <span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00028:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00030:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00031:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00032:</span>     _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00033:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">N</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Int _c<span style="color: #990000">;</span>
<span style="color: #000000">00037:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">N</span></span><span style="color: #990000">(</span><span style="color: #008080">Int</span> c<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _c <span style="color: #990000">=</span> c<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00039:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span><span style="color: #993399">50</span><span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00040:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>i<span style="color: #990000">%</span><span style="color: #993399">3</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dec</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00042:</span>       <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00043:</span>         _c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">inc</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00044:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00045:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00046:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide024">Observer: UI Driven</a></span><span style="font-weight: normal"><a href="class-05-024.html"> [24/28] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/observer/slider/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/observer/slider/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicobserver/slider/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateobserver/slider/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> observer<span style="color: #990000">.</span>slider<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>JSlider<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>event<span style="color: #990000">.</span>ChangeEvent<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>event<span style="color: #990000">.</span>ChangeListener<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>     <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">M</span></span><span style="color: #990000">().</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00008:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00010:</span> 
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">M</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Runnable <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">int</span> MIN <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">int</span> MAX <span style="color: #990000">=</span> <span style="color: #993399">100</span><span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">int</span> INIT <span style="color: #990000">=</span> <span style="color: #993399">50</span><span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>   <span style="color: #009900">int</span> x <span style="color: #990000">=</span> INIT<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span> <span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>     <span style="color: #008080">JSlider</span> s <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JSlider</span></span><span style="color: #990000">(</span>JSlider<span style="color: #990000">.</span>VERTICAL<span style="color: #990000">,</span> M<span style="color: #990000">.</span>MIN<span style="color: #990000">,</span> M<span style="color: #990000">.</span>MAX<span style="color: #990000">,</span> M<span style="color: #990000">.</span>INIT<span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>     <span style="font-style: italic"><span style="color: #9A1900">/* ... */</span></span>
<span style="color: #000000">00019:</span>     s<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addChangeListener</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ChangeListener</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">stateChanged</span></span><span style="color: #990000">(</span><span style="color: #008080">ChangeEvent</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00021:</span>           <span style="color: #008080">JSlider</span> source <span style="color: #990000">=</span> <span style="color: #990000">(</span>JSlider<span style="color: #990000">)</span>e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getSource</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00022:</span>           <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!</span>source<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getValueIsAdjusting</span></span><span style="color: #990000">())</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00023:</span>             <span style="font-style: italic"><span style="color: #9A1900">// the next two lines are redundant</span></span>
<span style="color: #000000">00024:</span>             x <span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span>source<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getValue</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00025:</span>             M<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>x <span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span>source<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getValue</span></span><span style="color: #990000">();</span> 
<span style="color: #000000">00026:</span>           <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span>       <span style="color: #FF0000">}</span><span style="color: #990000">);</span>
<span style="color: #000000">00029:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide025">Animation: Overview</a></span><span style="font-weight: normal"><a href="class-05-025.html"> [25/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          The code presents a rough framework for
          animation/visualization.  I have written the code to handle
          geometry problems similar to those of the project.  You
          should be able to use the animator package unchanged.  You
          will need to make some (small) changes to the visualizer.
          Of course, you will need to replace the model and main
          packages entirely.
        </p>
        <p xmlns="">
          Note that this code does not solve the problem put forth by
          the project.  This is just a bunch of lines with bouncing
          dots...  
        </p>
        <p xmlns="">
          To get the code, download
          <a xmlns="http://www.w3.org/1999/xhtml" href="../code/se450source.zip">file:se450source.zip</a>.  Unzip
          it, then run:
        </p>
<pre xmlns="" xml:space="preserve">
ant
java -cp build\se450.jar project.main.Main
</pre>

        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/main/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/main/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/main/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/main/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>main<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>Model<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>AnimatorBuilder<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>SwingAnimatorBuilder<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>text<span style="color: #990000">.</span>TextAnimatorBuilder<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span> 
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A static class to demonstrate the visualization aspect of</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900"> * simulation.</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00012:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>     <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>       <span style="color: #008080">Model</span> m <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Model</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TextAnimatorBuilder</span></span><span style="color: #990000">(),</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00017:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00019:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span>     <span style="color: #FF0000">{</span>
<span style="color: #000000">00021:</span>       <span style="color: #008080">Model</span> m <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Model</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SwingAnimatorBuilder</span></span><span style="color: #990000">(),</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00022:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00024:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span>     <span style="color: #FF0000">{</span>
<span style="color: #000000">00026:</span>       <span style="color: #008080">Model</span> m <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Model</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TextAnimatorBuilder</span></span><span style="color: #990000">(),</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00027:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">);</span>
<span style="color: #000000">00028:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00029:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span>     <span style="color: #FF0000">{</span>
<span style="color: #000000">00031:</span>       <span style="color: #008080">Model</span> m <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Model</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SwingAnimatorBuilder</span></span><span style="color: #990000">(),</span> <span style="color: #993399">1</span><span style="color: #990000">,</span> <span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00032:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #993399">10</span><span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00034:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span>     <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>       <span style="color: #008080">Model</span> m <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Model</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SwingAnimatorBuilder</span></span><span style="color: #990000">(),</span> <span style="color: #993399">2</span><span style="color: #990000">,</span> <span style="color: #993399">3</span><span style="color: #990000">);</span>
<span style="color: #000000">00037:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #993399">500</span><span style="color: #990000">);</span>
<span style="color: #000000">00038:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #993399">500</span><span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>       m<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00040:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span>     System<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">exit</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">);</span>
<span style="color: #000000">00042:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00043:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00044:</span> 
<span style="color: #000000">00045:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide026">Animation: Model</a></span><span style="font-weight: normal"><a href="class-05-026.html"> [26/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Package documentation: <a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/project/model/package-summary.html">project.model</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/project/model/package-summary.html">private</a>]
          <a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/project/util/package-summary.html">project.util</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/project/util/package-summary.html">private</a>]
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/MP_java.html">file:MP.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/MP.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/MP.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/MP.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Static class for model parameters.</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">MP</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">MP</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00008:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Length of cars, in meters */</span></span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> carLength <span style="color: #990000">=</span> <span style="color: #993399">10</span><span style="color: #990000">;</span>
<span style="color: #000000">00010:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Length of roads, in meters */</span></span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> roadLength <span style="color: #990000">=</span> <span style="color: #993399">200</span><span style="color: #990000">;</span>
<span style="color: #000000">00012:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Maximum car velocity, in meters/second */</span></span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> maxVelocity <span style="color: #990000">=</span> <span style="color: #993399">6</span><span style="color: #990000">;</span>
<span style="color: #000000">00014:</span> <span style="color: #FF0000">}</span>  
<span style="color: #000000">00015:</span> 
<span style="color: #000000">00016:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/Model_java.html">file:Model.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/Model.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/Model.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/Model.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>ArrayList<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observable<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observer<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Animator<span style="color: #990000">;</span>
<span style="color: #000000">00008:</span> 
<span style="color: #000000">00009:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900"> * An example to model for a simple visualization.</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900"> * The model contains roads organized in a matrix.</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900"> * See {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> #Model(AnimatorBuilder, int, int)}.</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00014:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Model</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Observable <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Agent<span style="color: #990000">&gt;</span> _agents<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Animator _animator<span style="color: #990000">;</span>
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">boolean</span> _disposed<span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> _time<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span> 
<span style="color: #000000">00020:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Creates a model to be visualized using the </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">builder</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">.</span></span>
<span style="color: #000000">00021:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  If the builder is null, no visualization is performed.</span></span>
<span style="color: #000000">00022:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  The number of </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">rows</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> and </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">columns</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span>
<span style="color: #000000">00023:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  indicate the number of {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Light}s, organized as a 2D</span></span>
<span style="color: #000000">00024:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  matrix.  These are separated and surrounded by horizontal and</span></span>
<span style="color: #000000">00025:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  vertical {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Road}s.  For example, calling the constructor with 1</span></span>
<span style="color: #000000">00026:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  row and 2 columns generates a model of the form:</span></span>
<span style="color: #000000">00027:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;pre&gt;</span></span>
<span style="color: #000000">00028:</span> <span style="font-style: italic"><span style="color: #9A1900">   *     |  |</span></span>
<span style="color: #000000">00029:</span> <span style="font-style: italic"><span style="color: #9A1900">   *   </span></span><span style="text-decoration: underline"><span style="color: #0000FF">--@--</span></span><span style="font-style: italic"><span style="color: #9A1900">@--</span></span>
<span style="color: #000000">00030:</span> <span style="font-style: italic"><span style="color: #9A1900">   *     |  |</span></span>
<span style="color: #000000">00031:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/pre&gt;</span></span>
<span style="color: #000000">00032:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  where </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">@</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> is a {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Light}, </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">|</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> is a</span></span>
<span style="color: #000000">00033:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  vertical {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Road} and </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">--</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> is a horizontal {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Road}.</span></span>
<span style="color: #000000">00034:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Each road has one {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Car}.</span></span>
<span style="color: #000000">00035:</span> <span style="font-style: italic"><span style="color: #9A1900">   *</span></span>
<span style="color: #000000">00036:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;p&gt;</span></span>
<span style="color: #000000">00037:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  The {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> AnimatorBuilder} is used to set up an {</span></span><span style="color: #009900">@link</span>
<span style="color: #000000">00038:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Animator}.</span></span>
<span style="color: #000000">00039:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> AnimatorBuilder#getAnimator()} is registered as</span></span>
<span style="color: #000000">00040:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  an observer of this model.</span></span>
<span style="color: #000000">00041:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;p&gt;</span></span>
<span style="color: #000000">00042:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00043:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Model</span></span><span style="color: #990000">(</span><span style="color: #008080">AnimatorBuilder</span> builder<span style="color: #990000">,</span> <span style="color: #009900">int</span> rows<span style="color: #990000">,</span> <span style="color: #009900">int</span> columns<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>rows <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">||</span> columns <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span> <span style="color: #990000">||</span> <span style="color: #990000">(</span>rows <span style="color: #990000">==</span> <span style="color: #993399">0</span> <span style="color: #990000">&amp;&amp;</span> columns <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00045:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalArgumentException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00046:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>builder <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00048:</span>       builder <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">NullAnimatorBuilder</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00049:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00050:</span>     _agents <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Agent<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00051:</span>     <span style="font-weight: bold"><span style="color: #000000">setup</span></span><span style="color: #990000">(</span>builder<span style="color: #990000">,</span> rows<span style="color: #990000">,</span> columns<span style="color: #990000">);</span>
<span style="color: #000000">00052:</span>     _animator <span style="color: #990000">=</span> builder<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getAnimator</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00053:</span>     <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addObserver</span></span><span style="color: #990000">(</span>_animator<span style="color: #990000">);</span>
<span style="color: #000000">00054:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00055:</span> 
<span style="color: #000000">00056:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00057:</span> <span style="font-style: italic"><span style="color: #9A1900">   * Run the simulation for </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">duration</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> model seconds.</span></span>
<span style="color: #000000">00058:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00059:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> duration<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00060:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_disposed<span style="color: #990000">)</span>
<span style="color: #000000">00061:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalStateException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00062:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span>duration<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00063:</span>       _time<span style="color: #990000">++;</span>
<span style="color: #000000">00064:</span>       <span style="font-style: italic"><span style="color: #9A1900">// iterate through a copy because _agents may change during iteration...</span></span>
<span style="color: #000000">00065:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Agent</span> a <span style="color: #990000">:</span> _agents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toArray</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Agent<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]))</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00066:</span>         a<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span>_time<span style="color: #990000">);</span>
<span style="color: #000000">00067:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span>       <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setChanged</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00069:</span>       <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">notifyObservers</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00070:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00071:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00072:</span> 
<span style="color: #000000">00073:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00074:</span> <span style="font-style: italic"><span style="color: #9A1900">   * Throw away this model.</span></span>
<span style="color: #000000">00075:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00076:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00077:</span>     _animator<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00078:</span>     _disposed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00079:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00080:</span> 
<span style="color: #000000">00081:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00082:</span> <span style="font-style: italic"><span style="color: #9A1900">   * Construct the model, establishing correspondences with the visualizer.</span></span>
<span style="color: #000000">00083:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00084:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setup</span></span><span style="color: #990000">(</span><span style="color: #008080">AnimatorBuilder</span> builder<span style="color: #990000">,</span> <span style="color: #009900">int</span> rows<span style="color: #990000">,</span> <span style="color: #009900">int</span> columns<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00085:</span>     <span style="color: #008080">List&lt;Road&gt;</span> roads <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Road<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00086:</span>     Light<span style="color: #990000">[][]</span> intersections <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Light<span style="color: #990000">[</span>rows<span style="color: #990000">][</span>columns<span style="color: #990000">];</span>
<span style="color: #000000">00087:</span>     <span style="color: #008080">Boolean</span> reverse<span style="color: #990000">;</span>
<span style="color: #000000">00088:</span> 
<span style="color: #000000">00089:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Add Lights</span></span>
<span style="color: #000000">00090:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span>rows<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00091:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> j<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> j<span style="color: #990000">&lt;</span>columns<span style="color: #990000">;</span> j<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00092:</span>         intersections<span style="color: #990000">[</span>i<span style="color: #990000">][</span>j<span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Light</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00093:</span>         builder<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span>intersections<span style="color: #990000">[</span>i<span style="color: #990000">][</span>j<span style="color: #990000">],</span> i<span style="color: #990000">,</span> j<span style="color: #990000">);</span>
<span style="color: #000000">00094:</span>         _agents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>intersections<span style="color: #990000">[</span>i<span style="color: #990000">][</span>j<span style="color: #990000">]);</span>
<span style="color: #000000">00095:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00096:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00097:</span> 
<span style="color: #000000">00098:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Add Horizontal Roads</span></span>
<span style="color: #000000">00099:</span>     <span style="color: #009900">boolean</span> eastToWest <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00100:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;</span>rows<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00101:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> j<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> j<span style="color: #990000">&lt;=</span>columns<span style="color: #990000">;</span> j<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00102:</span>         <span style="color: #008080">Road</span> l <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Road</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00103:</span>         builder<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addHorizontalRoad</span></span><span style="color: #990000">(</span>l<span style="color: #990000">,</span> i<span style="color: #990000">,</span> j<span style="color: #990000">,</span> eastToWest<span style="color: #990000">);</span>
<span style="color: #000000">00104:</span>         roads<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>l<span style="color: #990000">);</span>
<span style="color: #000000">00105:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00106:</span>       eastToWest <span style="color: #990000">=</span> <span style="color: #990000">!</span>eastToWest<span style="color: #990000">;</span>
<span style="color: #000000">00107:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00108:</span> 
<span style="color: #000000">00109:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Add Vertical Roads</span></span>
<span style="color: #000000">00110:</span>     <span style="color: #009900">boolean</span> southToNorth <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00111:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> j<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> j<span style="color: #990000">&lt;</span>columns<span style="color: #990000">;</span> j<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00112:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span> i<span style="color: #990000">=</span><span style="color: #993399">0</span><span style="color: #990000">;</span> i<span style="color: #990000">&lt;=</span>rows<span style="color: #990000">;</span> i<span style="color: #990000">++)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00113:</span>         <span style="color: #008080">Road</span> l <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Road</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00114:</span>         builder<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addVerticalRoad</span></span><span style="color: #990000">(</span>l<span style="color: #990000">,</span> i<span style="color: #990000">,</span> j<span style="color: #990000">,</span> southToNorth<span style="color: #990000">);</span>
<span style="color: #000000">00115:</span>         roads<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>l<span style="color: #990000">);</span>
<span style="color: #000000">00116:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00117:</span>       southToNorth <span style="color: #990000">=</span> <span style="color: #990000">!</span>southToNorth<span style="color: #990000">;</span>
<span style="color: #000000">00118:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00119:</span> 
<span style="color: #000000">00120:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Add Cars</span></span>
<span style="color: #000000">00121:</span>     <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Road</span> l <span style="color: #990000">:</span> roads<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00122:</span>       <span style="color: #008080">Car</span> car <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Car</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00123:</span>       _agents<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>car<span style="color: #990000">);</span>
<span style="color: #000000">00124:</span>       l<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">accept</span></span><span style="color: #990000">(</span>car<span style="color: #990000">);</span>
<span style="color: #000000">00125:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00126:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00127:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00128:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/Road_java.html">file:Road.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/Road.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/Road.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/Road.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>ArrayList<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> 
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A road holds cars.</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Road</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #000000">Road</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span> <span style="font-style: italic"><span style="color: #9A1900">// Created only by this package</span></span>
<span style="color: #000000">00011:</span> 
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Car<span style="color: #990000">&gt;</span> _cars <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Car<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00013:</span> 
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">accept</span></span><span style="color: #990000">(</span><span style="color: #008080">Car</span> d<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>d <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalArgumentException</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>     _cars<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>d<span style="color: #990000">);</span>
<span style="color: #000000">00017:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">List&lt;Car&gt;</span> <span style="font-weight: bold"><span style="color: #000000">getCars</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00019:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _cars<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/Agent_java.html">file:Agent.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/Agent.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/Agent.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/Agent.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Interface for active model objects.</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Agent</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> time<span style="color: #990000">);</span>
<span style="color: #000000">00008:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span> 
<span style="color: #000000">00010:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/Car_java.html">file:Car.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/Car.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/Car.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/Car.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A car remembers its position from the beginning of its road.</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Cars have random velocity and random movement pattern:</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900"> * when reaching the end of a road, the dot either resets its position</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> * to the beginning of the road, or reverses its direction.</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Car</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Agent <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #000000">Car</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span> <span style="font-style: italic"><span style="color: #9A1900">// Created only by this package</span></span>
<span style="color: #000000">00011:</span> 
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">boolean</span> _backAndForth <span style="color: #990000">=</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">round</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">random</span></span><span style="color: #990000">())==</span><span style="color: #993399">1</span> <span style="color: #990000">?</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span> <span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> _position <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">double</span> _velocity <span style="color: #990000">=</span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ceil</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">random</span></span><span style="color: #990000">()</span> <span style="color: #990000">*</span> MP<span style="color: #990000">.</span>maxVelocity<span style="color: #990000">);</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Color _color <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">Color</span></span><span style="color: #990000">((</span><span style="color: #009900">int</span><span style="color: #990000">)</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ceil</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">random</span></span><span style="color: #990000">()*</span><span style="color: #993399">255</span><span style="color: #990000">),(</span><span style="color: #009900">int</span><span style="color: #990000">)</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ceil</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">random</span></span><span style="color: #990000">()*</span><span style="color: #993399">255</span><span style="color: #990000">),(</span><span style="color: #009900">int</span><span style="color: #990000">)</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ceil</span></span><span style="color: #990000">(</span>Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">random</span></span><span style="color: #990000">()*</span><span style="color: #993399">255</span><span style="color: #990000">));</span>
<span style="color: #000000">00016:</span>   
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">double</span> <span style="font-weight: bold"><span style="color: #000000">getPosition</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _position<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span><span style="color: #008080">Color</span> <span style="font-weight: bold"><span style="color: #000000">getColor</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00021:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _color<span style="color: #990000">;</span>
<span style="color: #000000">00022:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> time<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_backAndForth<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(((</span>_position <span style="color: #990000">+</span> _velocity<span style="color: #990000">)</span> <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #990000">||</span> <span style="color: #990000">((</span>_position <span style="color: #990000">+</span> _velocity<span style="color: #990000">)</span> <span style="color: #990000">&gt;</span> <span style="color: #990000">(</span>MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">-</span>MP<span style="color: #990000">.</span>carLength<span style="color: #990000">)))</span>
<span style="color: #000000">00026:</span>         _velocity <span style="color: #990000">*=</span> <span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00028:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">((</span>_position <span style="color: #990000">+</span> _velocity<span style="color: #990000">)</span> <span style="color: #990000">&gt;</span> <span style="color: #990000">(</span>MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">-</span>MP<span style="color: #990000">.</span>carLength<span style="color: #990000">))</span>
<span style="color: #000000">00029:</span>         _position <span style="color: #990000">=</span> <span style="color: #993399">0</span><span style="color: #990000">;</span>
<span style="color: #000000">00030:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span>     _position <span style="color: #990000">+=</span> _velocity<span style="color: #990000">;</span>
<span style="color: #000000">00032:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/Light_java.html">file:Light.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/Light.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/Light.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/Light.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A light has a boolean state.</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Light</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Agent <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #000000">Light</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span> <span style="font-style: italic"><span style="color: #9A1900">// Created only by this package</span></span>
<span style="color: #000000">00008:</span>   
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">boolean</span> _state<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span> 
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">getState</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _state<span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> time<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>time<span style="color: #990000">%</span><span style="color: #993399">40</span><span style="color: #990000">==</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>       _state <span style="color: #990000">=</span> <span style="color: #990000">!</span>_state<span style="color: #990000">;</span>
<span style="color: #000000">00017:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span> 
<span style="color: #000000">00021:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/util/Animator_java.html">file:Animator.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/util/Animator.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/util/Animator.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/util/Animator.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observer<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span>   
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900"> * An interface for displaying simulations.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Animator</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Observer <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span> 
<span style="color: #000000">00012:</span> 
<span style="color: #000000">00013:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/AnimatorBuilder_java.html">file:AnimatorBuilder.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/AnimatorBuilder.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/AnimatorBuilder.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/AnimatorBuilder.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Animator<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/** </span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900"> * An interface for building a {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Animator} for this {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Model}.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">AnimatorBuilder</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00010:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Returns the {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Animator}.</span></span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  This method may be called only once; subsequent calls throw an</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> IllegalStateException}.</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Animator</span> <span style="font-weight: bold"><span style="color: #000000">getAnimator</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00015:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00016:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Add the {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Light} to the display at position </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">i,j</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">.</span></span>
<span style="color: #000000">00017:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span><span style="color: #008080">Light</span> d<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">);</span>
<span style="color: #000000">00019:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00020:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Add the horizontal {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Road} to the display, west of position </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">i,j</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">.</span></span>
<span style="color: #000000">00021:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  If </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">eastToWest</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> is true, then road position 0 is the eastmost position.</span></span>
<span style="color: #000000">00022:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  If </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">eastToWest</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> is false, then road position 0 is the westmost position.</span></span>
<span style="color: #000000">00023:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addHorizontalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> eastToWest<span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00026:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Add the vertical {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Road} to the display, north of position </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">i,j</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">.</span></span>
<span style="color: #000000">00027:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  If </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">southToNorth</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> is true, then road position 0 is the southmost position.</span></span>
<span style="color: #000000">00028:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  If </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">southToNorth</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> is false, then road position 0 is the northmost position.</span></span>
<span style="color: #000000">00029:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addVerticalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> southToNorth<span style="color: #990000">);</span>
<span style="color: #000000">00031:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00032:</span> 
<span style="color: #000000">00033:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00034:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Null object for {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> AnimatorBuilder}.</span></span>
<span style="color: #000000">00035:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00036:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">NullAnimatorBuilder</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> AnimatorBuilder <span style="color: #FF0000">{</span>
<span style="color: #000000">00037:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Animator</span> <span style="font-weight: bold"><span style="color: #000000">getAnimator</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">NullAnimator</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span><span style="color: #008080">Light</span> d<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00039:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addHorizontalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> eastToWest<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00040:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addVerticalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> southToNorth<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00042:</span> 
<span style="color: #000000">00043:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00044:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Null object for {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Animator}.</span></span>
<span style="color: #000000">00045:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00046:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">NullAnimator</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Animator <span style="color: #FF0000">{</span>
<span style="color: #000000">00047:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">(</span>java<span style="color: #990000">.</span>util<span style="color: #990000">.</span><span style="color: #008080">Observable</span> o<span style="color: #990000">,</span> <span style="color: #008080">Object</span> arg<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00049:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00050:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide027">Animation: Text output</a></span><span style="font-weight: normal"><a href="class-05-027.html"> [27/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Package documentation: <a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/project/model/text/package-summary.html">project.model.text</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/project/model/text/package-summary.html">private</a>]
          <a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/project/util/package-summary.html">project.util</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/project/util/package-summary.html">private</a>]
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/text/TextAnimatorBuilder_java.html">file:TextAnimatorBuilder.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/text/TextAnimatorBuilder.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/text/TextAnimatorBuilder.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/text/TextAnimatorBuilder.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>text<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>ArrayList<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observable<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observer<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>AnimatorBuilder<span style="color: #990000">;</span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>Car<span style="color: #990000">;</span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>Light<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>MP<span style="color: #990000">;</span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>Road<span style="color: #990000">;</span>
<span style="color: #000000">00012:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Animator<span style="color: #990000">;</span>
<span style="color: #000000">00013:</span> 
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">/** </span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A class for building Animators.</span></span>
<span style="color: #000000">00016:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00017:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">TextAnimatorBuilder</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> AnimatorBuilder <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>   TextAnimator _animator<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">TextAnimatorBuilder</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>     _animator <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TextAnimator</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00021:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Animator</span> <span style="font-weight: bold"><span style="color: #000000">getAnimator</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00023:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_animator <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalStateException</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00024:</span>     <span style="color: #008080">Animator</span> returnValue <span style="color: #990000">=</span> _animator<span style="color: #990000">;</span>
<span style="color: #000000">00025:</span>     _animator <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00026:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> returnValue<span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span><span style="color: #008080">Light</span> d<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>     _animator<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span>d<span style="color: #990000">,</span>i<span style="color: #990000">,</span>j<span style="color: #990000">);</span>
<span style="color: #000000">00030:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addHorizontalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> eastToWest<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00032:</span>     _animator<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addRoad</span></span><span style="color: #990000">(</span>l<span style="color: #990000">,</span>i<span style="color: #990000">,</span>j<span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addVerticalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> southToNorth<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00035:</span>     _animator<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addRoad</span></span><span style="color: #990000">(</span>l<span style="color: #990000">,</span>i<span style="color: #990000">,</span>j<span style="color: #990000">);</span>
<span style="color: #000000">00036:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00037:</span> 
<span style="color: #000000">00038:</span> 
<span style="color: #000000">00039:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Class for drawing the Model. */</span></span>
<span style="color: #000000">00040:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">TextAnimator</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Animator <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span> 
<span style="color: #000000">00042:</span>     <span style="font-style: italic"><span style="color: #9A1900">/** Triple of a model element </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">x</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> and coordinates. */</span></span>
<span style="color: #000000">00043:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Element</span><span style="color: #990000">&lt;</span>T<span style="color: #990000">&gt;</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>       <span style="color: #008080">T</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00045:</span>       <span style="color: #009900">int</span> i<span style="color: #990000">;</span>
<span style="color: #000000">00046:</span>       <span style="color: #009900">int</span> j<span style="color: #990000">;</span>
<span style="color: #000000">00047:</span>       <span style="font-weight: bold"><span style="color: #000000">Element</span></span><span style="color: #990000">(</span><span style="color: #008080">T</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00048:</span>         <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>x <span style="color: #990000">=</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00049:</span>         <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>i <span style="color: #990000">=</span> i<span style="color: #990000">;</span>
<span style="color: #000000">00050:</span>         <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>j <span style="color: #990000">=</span> j<span style="color: #990000">;</span>
<span style="color: #000000">00051:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00052:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00053:</span>     
<span style="color: #000000">00054:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Road<span style="color: #990000">&gt;&gt;</span> _roadElements<span style="color: #990000">;</span>
<span style="color: #000000">00055:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Light<span style="color: #990000">&gt;&gt;</span> _lightElements<span style="color: #990000">;</span>
<span style="color: #000000">00056:</span>     <span style="font-weight: bold"><span style="color: #000000">TextAnimator</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00057:</span>       _roadElements <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Road<span style="color: #990000">&gt;&gt;();</span>
<span style="color: #000000">00058:</span>       _lightElements <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Light<span style="color: #990000">&gt;&gt;();</span>
<span style="color: #000000">00059:</span>     <span style="color: #FF0000">}</span>    
<span style="color: #000000">00060:</span>     <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span><span style="color: #008080">Light</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00061:</span>       _lightElements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Element<span style="color: #990000">&lt;</span>Light<span style="color: #990000">&gt;(</span>x<span style="color: #990000">,</span>i<span style="color: #990000">,</span>j<span style="color: #990000">));</span>
<span style="color: #000000">00062:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00063:</span>     <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> x<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00064:</span>       _roadElements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Element<span style="color: #990000">&lt;</span>Road<span style="color: #990000">&gt;(</span>x<span style="color: #990000">,</span>i<span style="color: #990000">,</span>j<span style="color: #990000">));</span>
<span style="color: #000000">00065:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00066:</span>     
<span style="color: #000000">00067:</span>     <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span>     
<span style="color: #000000">00069:</span>     <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">(</span><span style="color: #008080">Observable</span> o<span style="color: #990000">,</span> <span style="color: #008080">Object</span> arg<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00070:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Element&lt;Light&gt;</span> e <span style="color: #990000">:</span> _lightElements<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00071:</span>         System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Light at ("</span> <span style="color: #990000">+</span> e<span style="color: #990000">.</span>i <span style="color: #990000">+</span> <span style="color: #FF0000">","</span> <span style="color: #990000">+</span> e<span style="color: #990000">.</span>j <span style="color: #990000">+</span> <span style="color: #FF0000">"): "</span><span style="color: #990000">);</span>
<span style="color: #000000">00072:</span>         <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>e<span style="color: #990000">.</span>x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getState</span></span><span style="color: #990000">())</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00073:</span>           System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Blue"</span><span style="color: #990000">);</span>
<span style="color: #000000">00074:</span>         <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00075:</span>           System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Yellow"</span><span style="color: #990000">);</span>
<span style="color: #000000">00076:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">00077:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00078:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Element&lt;Road&gt;</span> e <span style="color: #990000">:</span> _roadElements<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00079:</span>         <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Car</span> d <span style="color: #990000">:</span> e<span style="color: #990000">.</span>x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCars</span></span><span style="color: #990000">())</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00080:</span>           System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Road at ("</span> <span style="color: #990000">+</span> e<span style="color: #990000">.</span>i <span style="color: #990000">+</span> <span style="color: #FF0000">","</span> <span style="color: #990000">+</span> e<span style="color: #990000">.</span>j <span style="color: #990000">+</span> <span style="color: #FF0000">"): "</span><span style="color: #990000">);</span>
<span style="color: #000000">00081:</span>           System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Car at "</span> <span style="color: #990000">+</span> d<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPosition</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00082:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">00083:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00084:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00085:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00086:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00087:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide028">Animation: Swing output</a></span><span style="font-weight: normal"><a href="class-05-028.html"> [28/28] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Package documentation: <a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/project/model/swing/package-summary.html">project.model.swing</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/project/model/swing/package-summary.html">private</a>]
          <a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/project/util/package-summary.html">project.util</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/project/util/package-summary.html">private</a>]
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/util/Animator_java.html">file:Animator.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/util/Animator.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/util/Animator.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/util/Animator.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observer<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span>   
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900"> * An interface for displaying simulations.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">Animator</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Observer <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span> 
<span style="color: #000000">00012:</span> 
<span style="color: #000000">00013:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/util/SwingAnimator_java.html">file:SwingAnimator.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/util/SwingAnimator.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/util/SwingAnimator.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/util/SwingAnimator.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Color<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Dimension<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Graphics<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Image<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observable<span style="color: #990000">;</span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Observer<span style="color: #990000">;</span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>JFrame<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>JPanel<span style="color: #990000">;</span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>SwingUtilities<span style="color: #990000">;</span>
<span style="color: #000000">00012:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> javax<span style="color: #990000">.</span>swing<span style="color: #990000">.</span>WindowConstants<span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>   
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00015:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A swing implementation of {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> Animator}, using a {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> JFrame}</span></span>
<span style="color: #000000">00016:</span> <span style="font-style: italic"><span style="color: #9A1900"> * to display the animation.  The {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> JFrame} is created and</span></span>
<span style="color: #000000">00017:</span> <span style="font-style: italic"><span style="color: #9A1900"> * displayed by the constructor.</span></span>
<span style="color: #000000">00018:</span> <span style="font-style: italic"><span style="color: #9A1900"> * </span></span>
<span style="color: #000000">00019:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Calls to </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">update()</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> result in a call to</span></span>
<span style="color: #000000">00020:</span> <span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">painter.paint()</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">.  This is executed in the swing</span></span>
<span style="color: #000000">00021:</span> <span style="font-style: italic"><span style="color: #9A1900"> * thread while the main thread is paused for </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">delay</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span>
<span style="color: #000000">00022:</span> <span style="font-style: italic"><span style="color: #9A1900"> * milliseconds.</span></span>
<span style="color: #000000">00023:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00024:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SwingAnimator</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Animator <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>   <span style="font-style: italic"><span style="color: #9A1900">// The following fields are manipulated by the main program thread</span></span>
<span style="color: #000000">00026:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _delay<span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>   
<span style="color: #000000">00028:</span>   <span style="font-style: italic"><span style="color: #9A1900">// The following fields are manipulated by the swing thread</span></span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> JFrame _frame<span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// Swing representation of an OS window</span></span>
<span style="color: #000000">00030:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> ContentPane _content<span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// A paintable component</span></span>
<span style="color: #000000">00031:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">boolean</span> _disposed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">// If true, then die</span></span>
<span style="color: #000000">00032:</span>   
<span style="color: #000000">00033:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00034:</span> <span style="font-style: italic"><span style="color: #9A1900">   * Creates and displays a {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> JFrame} for the animation.</span></span>
<span style="color: #000000">00035:</span> <span style="font-style: italic"><span style="color: #9A1900">   * </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> name  The name to be displayed on the graphical window.</span></span>
<span style="color: #000000">00036:</span> <span style="font-style: italic"><span style="color: #9A1900">   * </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> width The width of the display, in pixels.</span></span>
<span style="color: #000000">00037:</span> <span style="font-style: italic"><span style="color: #9A1900">   * </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> height The height of the display, in pixels.</span></span>
<span style="color: #000000">00038:</span> <span style="font-style: italic"><span style="color: #9A1900">   * </span></span><span style="color: #009900">@param</span><span style="font-style: italic"><span style="color: #9A1900"> delay Time to pause after an update, in milliseconds.</span></span>
<span style="color: #000000">00039:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00040:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">SwingAnimator</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">SwingAnimatorPainter</span> painter<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">String</span> name<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> width<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> height<span style="color: #990000">,</span> <span style="color: #009900">int</span> delay<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00041:</span>     _delay <span style="color: #990000">=</span> delay<span style="color: #990000">;</span>
<span style="color: #000000">00042:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Create a graphics window and display it</span></span>
<span style="color: #000000">00043:</span>     SwingUtilities<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">invokeLater</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Runnable</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00045:</span>           _content <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ContentPane</span></span><span style="color: #990000">(</span>painter<span style="color: #990000">,</span> width<span style="color: #990000">,</span> height<span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">// A paintable component for content</span></span>
<span style="color: #000000">00046:</span>           _frame <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">JFrame</span></span><span style="color: #990000">();</span>  <span style="font-style: italic"><span style="color: #9A1900">// An OS window</span></span>
<span style="color: #000000">00047:</span>           _frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setTitle</span></span><span style="color: #990000">(</span>name<span style="color: #990000">);</span>  <span style="font-style: italic"><span style="color: #9A1900">// The title of the Frame</span></span>
<span style="color: #000000">00048:</span>           _frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setDefaultCloseOperation</span></span><span style="color: #990000">(</span>WindowConstants<span style="color: #990000">.</span>EXIT_ON_CLOSE<span style="color: #990000">);</span>  <span style="font-style: italic"><span style="color: #9A1900">// End program if Frame is closed</span></span>
<span style="color: #000000">00049:</span>           _frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setContentPane</span></span><span style="color: #990000">(</span>_content<span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">// Associate the content with the Frame</span></span>
<span style="color: #000000">00050:</span>           _frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">pack</span></span><span style="color: #990000">();</span> <span style="font-style: italic"><span style="color: #9A1900">// Fix the layout of the Frame</span></span>
<span style="color: #000000">00051:</span>           _frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setVisible</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span> <span style="font-style: italic"><span style="color: #9A1900">// Display the Frame</span></span>
<span style="color: #000000">00052:</span>         <span style="color: #FF0000">}}</span><span style="color: #990000">);</span>
<span style="color: #000000">00053:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00054:</span> 
<span style="color: #000000">00055:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00056:</span> <span style="font-style: italic"><span style="color: #9A1900">   * Throw away this visualization.</span></span>
<span style="color: #000000">00057:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00058:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00059:</span>     SwingUtilities<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">invokeLater</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Runnable</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00060:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00061:</span>           _frame<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">dispose</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00062:</span>           _disposed <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00063:</span>         <span style="color: #FF0000">}}</span><span style="color: #990000">);</span>
<span style="color: #000000">00064:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00065:</span> 
<span style="color: #000000">00066:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00067:</span> <span style="font-style: italic"><span style="color: #9A1900">   * Calls to </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">update</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> are executed in the swing thread,</span></span>
<span style="color: #000000">00068:</span> <span style="font-style: italic"><span style="color: #9A1900">   * while the main thread is paused for </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">delay</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span>
<span style="color: #000000">00069:</span> <span style="font-style: italic"><span style="color: #9A1900">   * milliseconds.</span></span>
<span style="color: #000000">00070:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00071:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">update</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">Observable</span> model<span style="color: #990000">,</span> <span style="color: #008080">Object</span> ignored<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00072:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_disposed<span style="color: #990000">)</span>
<span style="color: #000000">00073:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalStateException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00074:</span>     
<span style="color: #000000">00075:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Redraw the window</span></span>
<span style="color: #000000">00076:</span>     SwingUtilities<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">invokeLater</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Runnable</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00077:</span>         <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">run</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00078:</span>           <span style="font-style: italic"><span style="color: #9A1900">// _content.repaint() causes a call to _content.paint(g)</span></span>
<span style="color: #000000">00079:</span>           <span style="font-style: italic"><span style="color: #9A1900">// where g is an appropriate graphics argument.</span></span>
<span style="color: #000000">00080:</span>           _content<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">repaint</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00081:</span>         <span style="color: #FF0000">}}</span><span style="color: #990000">);</span>
<span style="color: #000000">00082:</span>     
<span style="color: #000000">00083:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Delay the main thread</span></span>
<span style="color: #000000">00084:</span>     <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00085:</span>         Thread<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">currentThread</span></span><span style="color: #990000">().</span><span style="font-weight: bold"><span style="color: #000000">sleep</span></span><span style="color: #990000">(</span>_delay<span style="color: #990000">);</span>
<span style="color: #000000">00086:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">InterruptedException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00087:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00088:</span> 
<span style="color: #000000">00089:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00090:</span> <span style="font-style: italic"><span style="color: #9A1900">   * A component for painting.</span></span>
<span style="color: #000000">00091:</span> <span style="font-style: italic"><span style="color: #9A1900">   * All code is executed in the swing thread.</span></span>
<span style="color: #000000">00092:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00093:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">ContentPane</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> JPanel <span style="color: #FF0000">{</span>
<span style="color: #000000">00094:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">long</span> serialVersionUID <span style="color: #990000">=</span> <span style="color: #993399">2008L</span><span style="color: #990000">;</span>
<span style="color: #000000">00095:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _width<span style="color: #990000">;</span>
<span style="color: #000000">00096:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _height<span style="color: #990000">;</span>
<span style="color: #000000">00097:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> SwingAnimatorPainter _painter<span style="color: #990000">;</span>
<span style="color: #000000">00098:</span>     
<span style="color: #000000">00099:</span>     <span style="font-weight: bold"><span style="color: #000000">ContentPane</span></span><span style="color: #990000">(</span><span style="color: #008080">SwingAnimatorPainter</span> painter<span style="color: #990000">,</span> <span style="color: #009900">int</span> width<span style="color: #990000">,</span> <span style="color: #009900">int</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00100:</span>       _painter <span style="color: #990000">=</span> painter<span style="color: #990000">;</span>
<span style="color: #000000">00101:</span>       _width <span style="color: #990000">=</span> width<span style="color: #990000">;</span>
<span style="color: #000000">00102:</span>       _height <span style="color: #990000">=</span> height<span style="color: #990000">;</span>
<span style="color: #000000">00103:</span>       <span style="font-weight: bold"><span style="color: #000000">setPreferredSize</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Dimension</span></span><span style="color: #990000">(</span>width<span style="color: #990000">,</span> height<span style="color: #990000">));</span>
<span style="color: #000000">00104:</span>       <span style="font-weight: bold"><span style="color: #000000">setDoubleBuffered</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00105:</span>       <span style="font-weight: bold"><span style="color: #000000">setOpaque</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00106:</span>       <span style="font-weight: bold"><span style="color: #000000">setBackground</span></span><span style="color: #990000">(</span>Color<span style="color: #990000">.</span>WHITE<span style="color: #990000">);</span>
<span style="color: #000000">00107:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00108:</span>     
<span style="color: #000000">00109:</span>     <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setPainter</span></span><span style="color: #990000">(</span><span style="color: #008080">SwingAnimatorPainter</span> painter<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00110:</span>       _painter <span style="color: #990000">=</span> painter<span style="color: #990000">;</span>
<span style="color: #000000">00111:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00112:</span> 
<span style="color: #000000">00113:</span>     <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">paint</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00114:</span>       <span style="font-style: italic"><span style="color: #9A1900">// This test is necessary because the swing thread may call this</span></span>
<span style="color: #000000">00115:</span>       <span style="font-style: italic"><span style="color: #9A1900">// method before the simulation calls SwingAnimator.update()</span></span>
<span style="color: #000000">00116:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_painter <span style="color: #990000">!=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00117:</span>         <span style="font-style: italic"><span style="color: #9A1900">// The clearRect is necessary, since JPanel is lightweight</span></span>
<span style="color: #000000">00118:</span>         g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">clearRect</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> _width<span style="color: #990000">,</span> _height<span style="color: #990000">);</span>
<span style="color: #000000">00119:</span>         _painter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">paint</span></span><span style="color: #990000">(</span>g<span style="color: #990000">);</span>
<span style="color: #000000">00120:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00121:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00122:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00123:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00124:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/util/SwingAnimatorPainter_java.html">file:SwingAnimatorPainter.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/util/SwingAnimatorPainter.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/util/SwingAnimatorPainter.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/util/SwingAnimatorPainter.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Graphics<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Callback interface for {</span></span><span style="color: #009900">@link</span><span style="font-style: italic"><span style="color: #9A1900"> SwingAnimator}.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> * </span></span><span style="color: #009900">@see</span><span style="font-style: italic"><span style="color: #9A1900"> SwingAnimator</span></span>
<span style="color: #000000">00008:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">interface</span></span> <span style="color: #008080">SwingAnimatorPainter</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">paint</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> arg<span style="color: #990000">);</span>
<span style="color: #000000">00011:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/swing/VP_java.html">file:VP.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/swing/VP.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/swing/VP.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/swing/VP.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>swing<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>MP<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Static class for visualization parameters.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">VP</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">VP</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00010:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Width of model elements, in meters */</span></span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> elementWidth <span style="color: #990000">=</span> MP<span style="color: #990000">.</span>carLength<span style="color: #990000">;</span>
<span style="color: #000000">00012:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Gap between model elements, in meters */</span></span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> gap <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Width of the displayed graphics window, in pixels */</span></span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">int</span> displayWidth <span style="color: #990000">=</span> <span style="color: #993399">1000</span><span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Height of the displayed graphics window, in pixels */</span></span>
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">int</span> displayHeight <span style="color: #990000">=</span> <span style="color: #993399">1000</span><span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Delay introduced into each graphics update, in milliseconds */</span></span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">int</span> displayDelay <span style="color: #990000">=</span> <span style="color: #993399">50</span><span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Scalefactor relating model space to pixels, in pixels/meter */</span></span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> scaleFactor <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>
<span style="color: #000000">00022:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00023:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/swing/SwingAnimatorBuilder_java.html">file:SwingAnimatorBuilder.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/swing/SwingAnimatorBuilder.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/swing/SwingAnimatorBuilder.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/swing/SwingAnimatorBuilder.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>swing<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Color<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Graphics<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>ArrayList<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>AnimatorBuilder<span style="color: #990000">;</span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>Car<span style="color: #990000">;</span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>Light<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>MP<span style="color: #990000">;</span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>Road<span style="color: #990000">;</span>
<span style="color: #000000">00012:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Animator<span style="color: #990000">;</span>
<span style="color: #000000">00013:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">.</span>SwingAnimator<span style="color: #990000">;</span>
<span style="color: #000000">00014:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> project<span style="color: #990000">.</span>util<span style="color: #990000">.</span>SwingAnimatorPainter<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span> 
<span style="color: #000000">00016:</span> <span style="font-style: italic"><span style="color: #9A1900">/** </span></span>
<span style="color: #000000">00017:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A class for building Animators.</span></span>
<span style="color: #000000">00018:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00019:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">SwingAnimatorBuilder</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> AnimatorBuilder <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>   MyPainter _painter<span style="color: #990000">;</span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">SwingAnimatorBuilder</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>     _painter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">MyPainter</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00023:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Animator</span> <span style="font-weight: bold"><span style="color: #000000">getAnimator</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_painter <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalStateException</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span>     <span style="color: #008080">Animator</span> returnValue <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">SwingAnimator</span></span><span style="color: #990000">(</span>_painter<span style="color: #990000">,</span> <span style="color: #FF0000">"Traffic Simulator"</span><span style="color: #990000">,</span>
<span style="color: #000000">00027:</span>                                              VP<span style="color: #990000">.</span>displayWidth<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>displayHeight<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>displayDelay<span style="color: #990000">);</span>
<span style="color: #000000">00028:</span>     _painter <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00029:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> returnValue<span style="color: #990000">;</span>
<span style="color: #000000">00030:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> skipInit <span style="color: #990000">=</span> VP<span style="color: #990000">.</span>gap<span style="color: #990000">;</span>
<span style="color: #000000">00032:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> skipRoad <span style="color: #990000">=</span> VP<span style="color: #990000">.</span>gap <span style="color: #990000">+</span> MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">;</span>
<span style="color: #000000">00033:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> skipCar <span style="color: #990000">=</span> VP<span style="color: #990000">.</span>gap <span style="color: #990000">+</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">;</span>
<span style="color: #000000">00034:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">double</span> skipRoadCar <span style="color: #990000">=</span> skipRoad <span style="color: #990000">+</span> skipCar<span style="color: #990000">;</span>
<span style="color: #000000">00035:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span><span style="color: #008080">Light</span> d<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>     <span style="color: #009900">double</span> x <span style="color: #990000">=</span> skipInit <span style="color: #990000">+</span> skipRoad <span style="color: #990000">+</span> j<span style="color: #990000">*</span>skipRoadCar<span style="color: #990000">;</span>
<span style="color: #000000">00037:</span>     <span style="color: #009900">double</span> y <span style="color: #990000">=</span> skipInit <span style="color: #990000">+</span> skipRoad <span style="color: #990000">+</span> i<span style="color: #990000">*</span>skipRoadCar<span style="color: #990000">;</span>
<span style="color: #000000">00038:</span>     <span style="color: #008080">Translator</span> t <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TranslatorWE</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> MP<span style="color: #990000">.</span>carLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>scaleFactor<span style="color: #990000">);</span>
<span style="color: #000000">00039:</span>     _painter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span>d<span style="color: #990000">,</span>t<span style="color: #990000">);</span>
<span style="color: #000000">00040:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00041:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addHorizontalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> eastToWest<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00042:</span>     <span style="color: #009900">double</span> x <span style="color: #990000">=</span> skipInit <span style="color: #990000">+</span> j<span style="color: #990000">*</span>skipRoadCar<span style="color: #990000">;</span>
<span style="color: #000000">00043:</span>     <span style="color: #009900">double</span> y <span style="color: #990000">=</span> skipInit <span style="color: #990000">+</span> skipRoad <span style="color: #990000">+</span> i<span style="color: #990000">*</span>skipRoadCar<span style="color: #990000">;</span>
<span style="color: #000000">00044:</span>     <span style="color: #008080">Translator</span> t <span style="color: #990000">=</span> eastToWest <span style="color: #990000">?</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TranslatorEW</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>scaleFactor<span style="color: #990000">)</span>
<span style="color: #000000">00045:</span>                               <span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TranslatorWE</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>scaleFactor<span style="color: #990000">);</span>
<span style="color: #000000">00046:</span>     _painter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addRoad</span></span><span style="color: #990000">(</span>l<span style="color: #990000">,</span>t<span style="color: #990000">);</span>
<span style="color: #000000">00047:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00048:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addVerticalRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> l<span style="color: #990000">,</span> <span style="color: #009900">int</span> i<span style="color: #990000">,</span> <span style="color: #009900">int</span> j<span style="color: #990000">,</span> <span style="color: #009900">boolean</span> southToNorth<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00049:</span>     <span style="color: #009900">double</span> x <span style="color: #990000">=</span> skipInit <span style="color: #990000">+</span> skipRoad <span style="color: #990000">+</span> j<span style="color: #990000">*</span>skipRoadCar<span style="color: #990000">;</span>
<span style="color: #000000">00050:</span>     <span style="color: #009900">double</span> y <span style="color: #990000">=</span> skipInit <span style="color: #990000">+</span> i<span style="color: #990000">*</span>skipRoadCar<span style="color: #990000">;</span>
<span style="color: #000000">00051:</span>     <span style="color: #008080">Translator</span> t <span style="color: #990000">=</span> southToNorth <span style="color: #990000">?</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TranslatorSN</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>scaleFactor<span style="color: #990000">)</span>
<span style="color: #000000">00052:</span>                                 <span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TranslatorNS</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span> y<span style="color: #990000">,</span> MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>scaleFactor<span style="color: #990000">);</span>
<span style="color: #000000">00053:</span>     _painter<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">addRoad</span></span><span style="color: #990000">(</span>l<span style="color: #990000">,</span>t<span style="color: #990000">);</span>
<span style="color: #000000">00054:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00055:</span> 
<span style="color: #000000">00056:</span> 
<span style="color: #000000">00057:</span>   <span style="font-style: italic"><span style="color: #9A1900">/** Class for drawing the Model. */</span></span>
<span style="color: #000000">00058:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">MyPainter</span> <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> SwingAnimatorPainter <span style="color: #FF0000">{</span>
<span style="color: #000000">00059:</span> 
<span style="color: #000000">00060:</span>     <span style="font-style: italic"><span style="color: #9A1900">/** Pair of a model element </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">x</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900"> and a translator </span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">t</span></span><span style="font-weight: bold"><span style="color: #0000FF">&lt;/code&gt;</span></span><span style="font-style: italic"><span style="color: #9A1900">. */</span></span>
<span style="color: #000000">00061:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Element</span><span style="color: #990000">&lt;</span>T<span style="color: #990000">&gt;</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00062:</span>       <span style="color: #008080">T</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00063:</span>       <span style="color: #008080">Translator</span> t<span style="color: #990000">;</span>
<span style="color: #000000">00064:</span>       <span style="font-weight: bold"><span style="color: #000000">Element</span></span><span style="color: #990000">(</span><span style="color: #008080">T</span> x<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00065:</span>         <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>x <span style="color: #990000">=</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00066:</span>         <span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span>t <span style="color: #990000">=</span> t<span style="color: #990000">;</span>
<span style="color: #000000">00067:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00068:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00069:</span>     
<span style="color: #000000">00070:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Road<span style="color: #990000">&gt;&gt;</span> _roadElements<span style="color: #990000">;</span>
<span style="color: #000000">00071:</span>     <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Light<span style="color: #990000">&gt;&gt;</span> _lightElements<span style="color: #990000">;</span>
<span style="color: #000000">00072:</span>     <span style="font-weight: bold"><span style="color: #000000">MyPainter</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00073:</span>       _roadElements <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Road<span style="color: #990000">&gt;&gt;();</span>
<span style="color: #000000">00074:</span>       _lightElements <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Element<span style="color: #990000">&lt;</span>Light<span style="color: #990000">&gt;&gt;();</span>
<span style="color: #000000">00075:</span>     <span style="color: #FF0000">}</span>    
<span style="color: #000000">00076:</span>     <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addLight</span></span><span style="color: #990000">(</span><span style="color: #008080">Light</span> x<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00077:</span>       _lightElements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Element<span style="color: #990000">&lt;</span>Light<span style="color: #990000">&gt;(</span>x<span style="color: #990000">,</span>t<span style="color: #990000">));</span>
<span style="color: #000000">00078:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00079:</span>     <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">addRoad</span></span><span style="color: #990000">(</span><span style="color: #008080">Road</span> x<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00080:</span>       _roadElements<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Element<span style="color: #990000">&lt;</span>Road<span style="color: #990000">&gt;(</span>x<span style="color: #990000">,</span>t<span style="color: #990000">));</span>
<span style="color: #000000">00081:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00082:</span>     
<span style="color: #000000">00083:</span>     <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">paint</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00084:</span>       <span style="font-style: italic"><span style="color: #9A1900">// This method is called by the swing thread, so may be called</span></span>
<span style="color: #000000">00085:</span>       <span style="font-style: italic"><span style="color: #9A1900">// at any time during execution...</span></span>
<span style="color: #000000">00086:</span> 
<span style="color: #000000">00087:</span>       <span style="font-style: italic"><span style="color: #9A1900">// First draw the background elements</span></span>
<span style="color: #000000">00088:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Element&lt;Light&gt;</span> e <span style="color: #990000">:</span> _lightElements<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00089:</span>         <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>e<span style="color: #990000">.</span>x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getState</span></span><span style="color: #990000">())</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00090:</span>           g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setColor</span></span><span style="color: #990000">(</span>Color<span style="color: #990000">.</span>BLUE<span style="color: #990000">);</span>
<span style="color: #000000">00091:</span>         <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00092:</span>           g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setColor</span></span><span style="color: #990000">(</span>Color<span style="color: #990000">.</span>YELLOW<span style="color: #990000">);</span>
<span style="color: #000000">00093:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">00094:</span>         XGraphics<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fillOval</span></span><span style="color: #990000">(</span>g<span style="color: #990000">,</span> e<span style="color: #990000">.</span>t<span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> MP<span style="color: #990000">.</span>carLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">);</span>
<span style="color: #000000">00095:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00096:</span>       g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setColor</span></span><span style="color: #990000">(</span>Color<span style="color: #990000">.</span>BLACK<span style="color: #990000">);</span>
<span style="color: #000000">00097:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Element&lt;Road&gt;</span> e <span style="color: #990000">:</span> _roadElements<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00098:</span>         XGraphics<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fillRect</span></span><span style="color: #990000">(</span>g<span style="color: #990000">,</span> e<span style="color: #990000">.</span>t<span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> MP<span style="color: #990000">.</span>roadLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">);</span>
<span style="color: #000000">00099:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00100:</span>       
<span style="color: #000000">00101:</span>       <span style="font-style: italic"><span style="color: #9A1900">// Then draw the foreground elements</span></span>
<span style="color: #000000">00102:</span>       <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Element&lt;Road&gt;</span> e <span style="color: #990000">:</span> _roadElements<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00103:</span>         <span style="font-style: italic"><span style="color: #9A1900">// iterate through a copy because e.x.getCars() may change during iteration...</span></span>
<span style="color: #000000">00104:</span>         <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> <span style="color: #990000">(</span><span style="color: #008080">Car</span> d <span style="color: #990000">:</span> e<span style="color: #990000">.</span>x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getCars</span></span><span style="color: #990000">().</span><span style="font-weight: bold"><span style="color: #000000">toArray</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Car<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]))</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00105:</span>           g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setColor</span></span><span style="color: #990000">(</span>d<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getColor</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00106:</span>           XGraphics<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fillOval</span></span><span style="color: #990000">(</span>g<span style="color: #990000">,</span> e<span style="color: #990000">.</span>t<span style="color: #990000">,</span> d<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getPosition</span></span><span style="color: #990000">(),</span> <span style="color: #993399">0</span><span style="color: #990000">,</span> MP<span style="color: #990000">.</span>carLength<span style="color: #990000">,</span> VP<span style="color: #990000">.</span>elementWidth<span style="color: #990000">);</span>
<span style="color: #000000">00107:</span>         <span style="color: #FF0000">}</span>
<span style="color: #000000">00108:</span>       <span style="color: #FF0000">}</span>
<span style="color: #000000">00109:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00110:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00111:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00112:</span> 
<span style="color: #000000">00113:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/swing/XGraphics_java.html">file:XGraphics.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/swing/XGraphics.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/swing/XGraphics.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/swing/XGraphics.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>swing<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>awt<span style="color: #990000">.</span>Graphics<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> 
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00006:</span> <span style="font-style: italic"><span style="color: #9A1900"> * Static class for drawing using a Translation.</span></span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">XGraphics</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">XGraphics</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">clearRect</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">,</span> <span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> w<span style="color: #990000">,</span> <span style="color: #009900">double</span> h<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00011:</span>     g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">clearRect</span></span><span style="color: #990000">(</span>t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">));</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">drawOval</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">,</span> <span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> w<span style="color: #990000">,</span> <span style="color: #009900">double</span> h<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>     g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">drawOval</span></span><span style="color: #990000">(</span>t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">));</span>
<span style="color: #000000">00015:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">drawRect</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">,</span> <span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> w<span style="color: #990000">,</span> <span style="color: #009900">double</span> h<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>     g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">drawRect</span></span><span style="color: #990000">(</span>t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">));</span>
<span style="color: #000000">00018:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">fillOval</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">,</span> <span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> w<span style="color: #990000">,</span> <span style="color: #009900">double</span> h<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>     g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fillOval</span></span><span style="color: #990000">(</span>t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">));</span>
<span style="color: #000000">00021:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">fillRect</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">,</span> <span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> w<span style="color: #990000">,</span> <span style="color: #009900">double</span> h<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00023:</span>     g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fillRect</span></span><span style="color: #990000">(</span>t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span>w<span style="color: #990000">,</span>h<span style="color: #990000">));</span>
<span style="color: #000000">00024:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00025:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">drawString</span></span><span style="color: #990000">(</span><span style="color: #008080">Graphics</span> g<span style="color: #990000">,</span> <span style="color: #008080">Translator</span> t<span style="color: #990000">,</span> <span style="color: #008080">String</span> str<span style="color: #990000">,</span> <span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00026:</span>     g<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">drawString</span></span><span style="color: #990000">(</span>str<span style="color: #990000">,</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">),</span> t<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">));</span>
<span style="color: #000000">00027:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00029:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/project/model/swing/Translator_java.html">file:Translator.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/project/model/swing/Translator.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicproject/model/swing/Translator.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privateproject/model/swing/Translator.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> project<span style="color: #990000">.</span>model<span style="color: #990000">.</span>swing<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900"> * A translator from relative model space to screen graphics.</span></span>
<span style="color: #000000">00005:</span> <span style="font-style: italic"><span style="color: #9A1900"> */</span></span>
<span style="color: #000000">00006:</span> <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Translator</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>   <span style="color: #009900">double</span> _tX<span style="color: #990000">;</span>
<span style="color: #000000">00008:</span>   <span style="color: #009900">double</span> _tY<span style="color: #990000">;</span>
<span style="color: #000000">00009:</span>   <span style="color: #009900">double</span> _tWidth<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span>   <span style="color: #009900">double</span> _tHeight<span style="color: #990000">;</span>
<span style="color: #000000">00011:</span>   <span style="color: #009900">double</span> _tScaleFactor<span style="color: #990000">;</span>
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #000000">Translator</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> tX<span style="color: #990000">,</span> <span style="color: #009900">double</span> tY<span style="color: #990000">,</span> <span style="color: #009900">double</span> tWidth<span style="color: #990000">,</span> <span style="color: #009900">double</span> tHeight<span style="color: #990000">,</span> <span style="color: #009900">double</span> tScaleFactor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>     _tX <span style="color: #990000">=</span> tX<span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>     _tY <span style="color: #990000">=</span> tY<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>     _tWidth <span style="color: #990000">=</span> tWidth<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>     _tHeight <span style="color: #990000">=</span> tHeight<span style="color: #990000">;</span>
<span style="color: #000000">00017:</span>     _tScaleFactor <span style="color: #990000">=</span> tScaleFactor<span style="color: #990000">;</span>
<span style="color: #000000">00018:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> arg<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">(</span><span style="color: #009900">int</span><span style="color: #990000">)</span> Math<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">ceil</span></span><span style="color: #990000">(</span>arg <span style="color: #990000">*</span> _tScaleFactor<span style="color: #990000">);</span> 
<span style="color: #000000">00021:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">);</span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>   <span style="font-weight: bold"><span style="color: #0000FF">abstract</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">);</span>
<span style="color: #000000">00026:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00027:</span> 
<span style="color: #000000">00028:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">TranslatorWE</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Translator <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>   <span style="font-weight: bold"><span style="color: #000000">TranslatorWE</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> tX<span style="color: #990000">,</span> <span style="color: #009900">double</span> tY<span style="color: #990000">,</span> <span style="color: #009900">double</span> tWidth<span style="color: #990000">,</span> <span style="color: #009900">double</span> tHeight<span style="color: #990000">,</span> <span style="color: #009900">double</span> tScaleFactor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00030:</span>     <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">(</span>tX<span style="color: #990000">,</span> tY<span style="color: #990000">,</span> tWidth<span style="color: #990000">,</span> tHeight<span style="color: #990000">,</span> tScaleFactor<span style="color: #990000">);</span>
<span style="color: #000000">00031:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00032:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tX<span style="color: #990000">+</span>x<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tY<span style="color: #990000">+</span>y<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>width<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span>  <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>height<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00036:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00037:</span> 
<span style="color: #000000">00038:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">TranslatorEW</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Translator <span style="color: #FF0000">{</span>
<span style="color: #000000">00039:</span>   <span style="font-weight: bold"><span style="color: #000000">TranslatorEW</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> tX<span style="color: #990000">,</span> <span style="color: #009900">double</span> tY<span style="color: #990000">,</span> <span style="color: #009900">double</span> tWidth<span style="color: #990000">,</span> <span style="color: #009900">double</span> tHeight<span style="color: #990000">,</span> <span style="color: #009900">double</span> tScaleFactor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00040:</span>     <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">(</span>tX<span style="color: #990000">,</span> tY<span style="color: #990000">,</span> tWidth<span style="color: #990000">,</span> tHeight<span style="color: #990000">,</span> tScaleFactor<span style="color: #990000">);</span>
<span style="color: #000000">00041:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00042:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tX<span style="color: #990000">+</span>_tWidth<span style="color: #990000">-</span>x<span style="color: #990000">-</span>width<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00043:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tY<span style="color: #990000">+</span>_tHeight<span style="color: #990000">-</span>y<span style="color: #990000">-</span>height<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00044:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>width<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00045:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span>  <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>height<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00046:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00047:</span> 
<span style="color: #000000">00048:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">TranslatorNS</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Translator <span style="color: #FF0000">{</span>
<span style="color: #000000">00049:</span>   <span style="font-weight: bold"><span style="color: #000000">TranslatorNS</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> tX<span style="color: #990000">,</span> <span style="color: #009900">double</span> tY<span style="color: #990000">,</span> <span style="color: #009900">double</span> tWidth<span style="color: #990000">,</span> <span style="color: #009900">double</span> tHeight<span style="color: #990000">,</span> <span style="color: #009900">double</span> tScaleFactor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00050:</span>     <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">(</span>tX<span style="color: #990000">,</span> tY<span style="color: #990000">,</span> tWidth<span style="color: #990000">,</span> tHeight<span style="color: #990000">,</span> tScaleFactor<span style="color: #990000">);</span>
<span style="color: #000000">00051:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00052:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tX<span style="color: #990000">+</span>y<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00053:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tY<span style="color: #990000">+</span>x<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00054:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>height<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00055:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span>  <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>width<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00056:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00057:</span> 
<span style="color: #000000">00058:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">TranslatorSN</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Translator <span style="color: #FF0000">{</span>
<span style="color: #000000">00059:</span>   <span style="font-weight: bold"><span style="color: #000000">TranslatorSN</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> tX<span style="color: #990000">,</span> <span style="color: #009900">double</span> tY<span style="color: #990000">,</span> <span style="color: #009900">double</span> tWidth<span style="color: #990000">,</span> <span style="color: #009900">double</span> tHeight<span style="color: #990000">,</span> <span style="color: #009900">double</span> tScaleFactor<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00060:</span>     <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">(</span>tX<span style="color: #990000">,</span> tY<span style="color: #990000">,</span> tWidth<span style="color: #990000">,</span> tHeight<span style="color: #990000">,</span> tScaleFactor<span style="color: #990000">);</span>
<span style="color: #000000">00061:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00062:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getX</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tX<span style="color: #990000">+</span>_tHeight<span style="color: #990000">-</span>y<span style="color: #990000">-</span>height<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00063:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getY</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> x<span style="color: #990000">,</span> <span style="color: #009900">double</span> y<span style="color: #990000">,</span> <span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>_tY<span style="color: #990000">+</span>_tWidth<span style="color: #990000">-</span>x<span style="color: #990000">-</span>width<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00064:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getWidth</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>height<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00065:</span>   <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">getHeight</span></span><span style="color: #990000">(</span><span style="color: #009900">double</span> width<span style="color: #990000">,</span> <span style="color: #009900">double</span> height<span style="color: #990000">)</span>  <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #000000">scale</span></span><span style="color: #990000">(</span>width<span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00066:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00067:</span> 
<span style="color: #000000">00068:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <hr/><p class="flush">
      Revised: 2008/02/19 17:28</p></body></html>
