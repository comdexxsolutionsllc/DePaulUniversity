<?xml version="1.0"?>
<!--Generated by an XSL stylesheet.  Do not edit!-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta http-equiv="Expires" content="Mon, 10 Jan 2000 12:00:00 GMT"/><style type="text/css">
    p.flushtop     { margin-top: 0px; }
    p.flushbottom  { margin-bottom: 0px; }
    p.flush        { margin-top: 0px;
                     margin-bottom: 0px; }
    h1             { margin-top: 0px;
                     font-weight: bold;
                     font-size: large; }
    h2             { margin-top: 0px;
                     font-weight: bold;
                     font-size: medium; }
    body           { color: black;
                     background-color: white; }
    img.noborder   { border-width: 0px; }
    table.title    { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E4E4C2; }
    table.item     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #F4F4E0; }
    table.notes    { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.comment  { border-width: 0px; 
                     color: black;
                     background-color: #E0F4E0; }
    table.code     { border-style: solid; 
                     border-width: 1px; 
                     border-color: #888888; 
                     color: black;
                     background-color: #E0F4E0; }
    table.contents { border-width: 0px; 
                     color: black;
                     background-color: #FFFFFF; }
    span.red       { color: red; }
    span.orange    { color: orange; }
    span.purple    { color: purple; }
    span.blue      { color: blue; }
    span.brown     { color: brown; }
    span.green     { color: lime; }
    span.hilight   { background-color: #E4E4C2; }
  </style><title>SE450:  Lecture 1 
      [2008/09/09]
    </title></head><body><h1><a href="../index.html">SE450</a>:  Lecture 1 
      (Basics)
    </h1><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide000">Contents</a></span><span style="font-weight: normal"><a href="class-01-000.html"> [0/61] </a></span></td></tr></table><p> </p><table width="100%" cellpadding="0" cellspacing="0" class="contents"><tr><td><a href="#slide001">Are You In The Right Room?</a> [1/61] </td></tr><tr><td><a href="#slide002">Overview of Today's Class</a> [2/61] </td></tr><tr><td><a href="#slide003">Admin: A Brief Introduction</a> [3/61] </td></tr><tr><td><a href="#slide004">Admin: Course Objectives</a> [4/61] </td></tr><tr><td><a href="#slide005">Admin: Course Overview</a> [5/61] </td></tr><tr><td><a href="#slide006">Admin: Contrast with SE430</a> [6/61] </td></tr><tr><td><a href="#slide007">Admin: SE450 Approach</a> [7/61] </td></tr><tr><td><a href="#slide008">Admin: Prerequisites</a> [8/61] </td></tr><tr><td><a href="#slide009">Admin: Java Self-Assessment</a> [9/61] </td></tr><tr><td><a href="#slide010">Admin: Expectations</a> [10/61] </td></tr><tr><td><a href="#slide011">Admin: Textbooks</a> [11/61] </td></tr><tr><td><a href="#slide012">Admin: Course Homepage</a> [12/61] </td></tr><tr><td><a href="#slide013">Admin: Mailing List</a> [13/61] </td></tr><tr><td><a href="#slide014">Admin: Assessment</a> [14/61] </td></tr><tr><td><a href="#slide015">Admin: Attendance</a> [15/61] </td></tr><tr><td><a href="#slide016">Admin: Projects</a> [16/61] </td></tr><tr><td><a href="#slide017">Admin: Contact Information</a> [17/61] </td></tr><tr><td><a href="#slide018">Basics: Subclassing</a> [18/61] </td></tr><tr><td><a href="#slide019">Basics: How Do We Run Programs?</a> [19/61] </td></tr><tr><td><a href="#slide020">Basics: Class Initialization</a> [20/61] </td></tr><tr><td><a href="#slide021">Basics: Functions</a> [21/61] </td></tr><tr><td><a href="#slide022">Basics: Activation</a> [22/61] </td></tr><tr><td><a href="#slide023">Basics: Objects</a> [23/61] </td></tr><tr><td><a href="#slide024">Basics: Object-Oriented?</a> [24/61] </td></tr><tr><td><a href="#slide025">Basics: Object Classes and Static Classes</a> [25/61] </td></tr><tr><td><a href="#slide026">Basics: Constructors/Methods/Fields</a> [26/61] </td></tr><tr><td><a href="#slide027">Basics: Object Diagrams</a> [27/61] </td></tr><tr><td><a href="#slide028">Basics: Fields</a> [28/61] </td></tr><tr><td><a href="#slide029">Basics: Passing Parameters</a> [29/61] </td></tr><tr><td><a href="#slide030">Basics: Values and References</a> [30/61] </td></tr><tr><td><a href="#slide031">Basics: UML Notation for References</a> [31/61] </td></tr><tr><td><a href="#slide032">Basics: UML Class Diagrams: Static Class</a> [32/61] </td></tr><tr><td><a href="#slide033">Basics: UML Class Diagrams: Object Class</a> [33/61] </td></tr><tr><td><a href="#slide034">Basics: Aggregation (Reference)</a> [34/61] </td></tr><tr><td><a href="#slide035">Basics: Composition (Exclusive Reference)</a> [35/61] </td></tr><tr><td><a href="#slide036">Basics: Dependency</a> [36/61] </td></tr><tr><td><a href="#slide037">Basics: The Ugly Truth</a> [37/61] </td></tr><tr><td><a href="#slide038">Basics: Mixed Classes</a> [38/61] </td></tr><tr><td><a href="#slide039">Basics: Multiplicity</a> [39/61] </td></tr><tr><td><a href="#slide040">Basics: Association</a> [40/61] </td></tr><tr><td><a href="#slide041">Basics: UML Summary</a> [41/61] </td></tr><tr><td><a href="#slide042">Basics: Test</a> [42/61] </td></tr><tr><td><a href="#slide043">Testing: Overview</a> [43/61] </td></tr><tr><td><a href="#slide044">Testing: Tools</a> [44/61] </td></tr><tr><td><a href="#slide045">Testing: Using J2SDK/Junit/Ant</a> [45/61] </td></tr><tr><td><a href="#slide046">Testing: Junit Tests</a> [46/61] </td></tr><tr><td><a href="#slide047">Testing: Junit Assertions</a> [47/61] </td></tr><tr><td><a href="#slide048">Testing: Junit Derived Assertions</a> [48/61] </td></tr><tr><td><a href="#slide049">Testing: Examples</a> [49/61] </td></tr><tr><td><a href="#slide050">Testing: Homework 1</a> [50/61] </td></tr><tr><td><a href="#slide051">Taxonomy: Why a Taxonomy?</a> [51/61] </td></tr><tr><td><a href="#slide052">Taxonomy: Object Classes</a> [52/61] </td></tr><tr><td><a href="#slide053">Taxonomy: Immutable Data Classes</a> [53/61] </td></tr><tr><td><a href="#slide054">Taxonomy: Guidelines for Immutable Data Classes</a> [54/61] </td></tr><tr><td><a href="#slide055">Taxonomy: Advantages of Immutable Objects</a> [55/61] </td></tr><tr><td><a href="#slide056">Taxonomy: The Builder Pattern</a> [56/61] </td></tr><tr><td><a href="#slide057">Taxonomy: A Builder in the Java APIs</a> [57/61] </td></tr><tr><td><a href="#slide058">Taxonomy: Mutable Data Classes</a> [58/61] </td></tr><tr><td><a href="#slide059">Taxonomy: Hashing Mutable Data is Dangerous</a> [59/61] </td></tr><tr><td><a href="#slide060">Taxonomy: Collection Classes</a> [60/61] </td></tr><tr><td><a href="#slide061">Taxonomy: UML representation of Collections</a> [61/61] </td></tr></table><br/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide001">Are You In The Right Room?</a></span><span style="font-weight: normal"><a href="class-01-001.html"> [1/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          <strong>Course:</strong> SE450 (Object-Oriented Software Development)
        </p>
        <p xmlns="">
          <strong>Instructor:</strong> James Riely
        </p>
        <img alt="Diagram1" src="../images/Diagram1_dia.gif"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide002">Overview of Today's Class</a></span><span style="font-weight: normal"><a href="class-01-002.html"> [2/61] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>
            Overview of the course
          </li>
          <li>
            Adminstrative information
          </li>
          <li>
            Objects, classes and their representation in
            the UML.
            <ul>
              <li>Functions</li>
              <li>Static classes</li>
              <li>Object classes</li>
              <li>Relations between classes</li>
            </ul>
          </li>
          <li>
            Object class taxonomy
            <ul>
              <li>Data classes</li>
              <li>Builder classes</li>
              <li>Collection classes</li>
            </ul>
          </li>
          <li>
            Writing tests
          </li>
          <li>
            Homework 1
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide003">Admin: A Brief Introduction</a></span><span style="font-weight: normal"><a href="class-01-003.html"> [3/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          What is this course about?
        </p>
        <p xmlns="">
          <i>Programming in the large.</i>
        </p>
        <ul xmlns="">
          <li>
            Programming in the small: client is end-user.
          </li>
          <li>
            Programming in the large: client is another programmer.
            <ul>
              <li>
                With maintenance, addition of functionality, you may
                be a client for yourself.
              </li>
              <li>
                Ever look at code you wrote a year ago?
              </li>
              <li>
                Producer/Consumer relation may be cyclic.
              </li>
            </ul>
          </li>
        </ul>
        <p xmlns="">
          This course teaches management of the producer/consumer
          relationship, emphasizing code structure. 
        </p>
      <p> </p><a name="objectives"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide004">Admin: Course Objectives</a></span><span style="font-weight: normal"><a href="class-01-004.html"> [4/61] </a></span></td></tr></table><p> </p>
	<p xmlns="">
          By the end of this course you should:
	</p>
	<ul xmlns="">
          <li>
            Have greatly improved programming skills.
          </li>
          <li>
            Have greatly improved design instincts.
          </li>
          <li>
            Be proficient with:
            <ul>
              <li>
                UML class and interaction diagrams
              </li>
              <li>
                incremental/iterative development and refactoring
              </li>
              <li>
                design patterns
              </li>
              <li>
                testing
              </li>
            </ul>
          </li>
	</ul>
      <p> </p><a name="overview"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide005">Admin: Course Overview</a></span><span style="font-weight: normal"><a href="class-01-005.html"> [5/61] </a></span></td></tr></table><p> </p>
	<p xmlns="">
	  We will study object-oriented design and implementation.
	  Among the topics of the course are:
	</p>
	<ul xmlns="">
	  <li>
            Principles of object-oriented programming languages.
	  </li>
	  <li>
            Principles of object-oriented design.
	  </li>
	  <li>
            UML class, object and interaction diagrams.
	  </li>
	  <li>
            Testing methodologies.
	  </li>
	  <li>
            Design Patterns.
	  </li>
	  <li>
            Advanced Java Techniques.
	  </li>
	</ul>
	<p xmlns="">
	  Java and the UML will be used for source code examples,
	  homework assignments, and the exams.
	</p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide006">Admin: Contrast with SE430</a></span><span style="font-weight: normal"><a href="class-01-006.html"> [6/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          SE430 teaches ``top-down'' design: requirements analysis, use
          cases, modeling, decomposition.
        </p>
        <p xmlns="">
          Here we work more closely with the code.
        </p>
        <p xmlns="">
          The approach is complementary to that of SE430.
        </p>
        <p xmlns="">
          If you are going to take both classes, take SE430 first.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide007">Admin: SE450 Approach</a></span><span style="font-weight: normal"><a href="class-01-007.html"> [7/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          We advocate an ``extreme'' style:
        </p>
        <ul xmlns="">
          <li>
            Develop functionality incrementaly.
            <ul>
              <li>
                Start small.
              </li>
              <li>
                Make sure you have beautiful code that works before
                you add any new functionality.
              </li>
            </ul>
          </li>
          <li>
            Think before you code (but not too much).
            <ul>
              <li>
                Design in small pieces -- don't do everything at once.
              </li>
              <li>
                Accept that the design will change.
              </li>
            </ul>
          </li>
          <li>
            Write good tests.
            <ul>
              <li>
                Don't test you program by running it.  Use automatic tests!
              </li>
              <li>
                If the tests pass, you should be pretty sure you coded
                correctly.
              </li>
            </ul>
          </li>
          <li>
            Write good code.
            <ul>
              <li>
                First, write the simplest code possible.
              </li>
              <li>
                Get it to work (pass the tests).
              </li>
              <li>
                Last, improve the code by refactoring: improve
                structure without changing functionality.
              </li>
            </ul>
          </li>
          <li>
            Iterate.
            <ul>
              <li>
                Once you get something beautiful that works, begin to
                design the next piece of functionality.
              </li>
            </ul>
          </li>
        </ul>
      <p> </p><a name="prerequisites"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide008">Admin: Prerequisites</a></span><span style="font-weight: normal"><a href="class-01-008.html"> [8/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          You <i>must</i> have the following:
        </p>
        <ul xmlns="">
          <li>
            <p class="flush">
              CSC383 or CSC393 or equivalent courses on data structures
              (linked lists, stacks and queues, trees,
              priority queues, hash tables).  
            </p>            
            <p class="flush">
              You should have written some <i>code</i> in this class.
              You should be happy <i>implementing</i> simple linked lists,
              stacks, queues, and trees.  You should be happy <i>using</i>
              all of the above, plus priority queues and hash tables.
            </p>            
          </li>
          <li>
            <p class="flush">
                CSC 224 (or 211 and 212) or equivalent experience
                programming in Java.
            </p>
            <p class="flush">
                This course is <i>not</i> an introduction to Java.
            </p>
          </li>
        </ul>
        <p xmlns="">
          <span xmlns="http://www.w3.org/1999/xhtml" class="red">
          If you do not have CSC383 or CSC393, <i xmlns="">drop now</i>.
          </span>
        </p>
        <p xmlns="">
          Useful, but optional:
        </p>
        <ul xmlns="">
          <li>
            CSC 447 Programming Languages  (machine models and basic language principles)
          </li>
          <li>
            SE 430 Object-Oriented Modeling  (OO analysis and the UML)
          </li>
          <li>
            CSC 373/374 Systems  (language implementation/multi-threading)
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide009">Admin: Java Self-Assessment</a></span><span style="font-weight: normal"><a href="class-01-009.html"> [9/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Do the following:
        </p>
        <ul xmlns="">
          <li>
            Develop a <em>linked list</em> class.
            <ul>
              <li>
                Code it from scratch.
              </li>
              <li>
                Support the usual operations on a list such as insertion
                and deletion.
              </li>
              <li>
                Support a <tt>toString</tt> method that returns the
                contents of the list as a string.
              </li>
            </ul>
          </li>
          <li>
            Develop a class hierarchy of <em>shapes</em>.
            <ul>
              <li>
                Shapes include:
<pre xml:space="preserve">
Shape 
  Closed Shape 
    Circle, Rectangle, ... 
  Open Shape 
    Line, Curve, ... 
  Text 
</pre>
              </li>
              <li>
                Each class supports a method <tt>toString</tt> that
                returns the attributes of the shape as a string.
              </li>
            </ul>
          </li>
          <li>
            Instantiate a list of shapes. Insert several different
            shapes into the list, and print out the contents of the list
            of shapes.
          </li>
        </ul>
        <p xmlns="">
          If you have:
        </p>
        <ul xmlns="">
          <li>
            no difficulty --- fine
          </li>
          <li>
            some difficulty --- make sure you have lots of time to
            devote to this class
          </li>
          <li>
            major difficulty --- you will find this class extremely
            difficult
          </li>
        </ul>
      <p> </p><a name="expectations"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide010">Admin: Expectations</a></span><span style="font-weight: normal"><a href="class-01-010.html"> [10/61] </a></span></td></tr></table><p> </p>
        <p xmlns="" class="flushbottom">
          The course will be conducted using Java and some of its many
          APIs.
        </p>
        <p xmlns="" class="flushtop">
          I expect you to be able to work your way through the
          APIs without guidance from me.
        </p>
        <p xmlns="" class="flushbottom">
          The course requires that you actively engage the material on
          your own.
        </p>
        <p xmlns="" class="flushtop">
          You should not only read the example code given
          in class, but modify and run it.
        </p>
        <p xmlns="">
          <span xmlns="http://www.w3.org/1999/xhtml" class="red">
            Spend at least a few hours a week playing with the
            examples given in class, or your own Java code.
          </span>
        </p>
        <p xmlns="">
          Testimonial from a former student:
        </p>
        <blockquote xmlns="">
          <p>
            As a side note, I've spent my summer giving my final project,
            'MReversi' for Spring se450, a gui, unlimited undo/redo and
            tcp connectivity so players can play across a network.  I've
            also ported a version to my Java capable phone with j2me.  My
            next step is to give the phone version tcp capability so phone
            players can play computer players or whatever.
            <span xmlns="http://www.w3.org/1999/xhtml" class="red">
              I could not have done this in this short time frame
            </span>
              (at least I think it's short)
            <span xmlns="http://www.w3.org/1999/xhtml" class="red">
              if it wasn't for all the hard work we were made to do in
              se450.
            </span>
              Thanks!
            <span xmlns="http://www.w3.org/1999/xhtml" class="red">
              "If it don't
              kill ya, it makes you stronger."
            </span>
            :-)
          </p>
        </blockquote>
        <p xmlns="">
          Another testimonial from a former student:
        </p>
        <blockquote xmlns="">







         <p>
           Overall, I enjoyed and learned a lot in SE450. To date, it
           has been the most time consuming class I've taken possibly
           ever so you were quite accurate in your warnings early on
           that we students need to seriously make time.
         </p>
         <p>
           After many years of project work and software
           implementations at my day job, there was one thing in
           particular about the final project that, whether
           intentional or not, very accurately represented "real
           world" work. That is, the ambiguity of the assignment. No
           software project I've been involved in has ever been in
           neat, clearly defined, package as many of the projects and
           assignments I've worked on at DePaul. Due to the complexity
           of what you were asking and a certain amount of
           open-endedness, it would have been less stressful to not
           have any other assignments during development of the final
           project, but again, real life doesn't always allow us the
           privilege of working on only one thing at a time.
         </p>
























        </blockquote>
      <p> </p><a name="textbooks"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide011">Admin: Textbooks</a></span><span style="font-weight: normal"><a href="class-01-011.html"> [11/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          See <a xmlns="http://www.w3.org/1999/xhtml" href="..//links-main.html#books">file:links-main</a>.
        </p>
    <blockquote><table width="100%"><tr><td><table width="100%" class="title"><tr><td><b>Required Books</b></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://books.google.com/books?isbn=0471744875">Object-Oriented Design and Patterns (2e)</a> [<a href="http://www.amazon.com/exec/obidos/ASIN/0471744875">Amazon</a>, <a href="http://www.addall.com/New/compare.cgi?dispCurr=USD&amp;location=10000&amp;state=IL&amp;isbn=0471744875">AddAll</a>]</p>
          <p xmlns="" class="flush">
            by Cay Horstmann
            (Wiley, 2005)
          </p>
          <p xmlns="" class="flush">
            Online companion to the book:
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://horstmann.com/design_and_patterns.html">http://horstmann.com/design_and_patterns.html</a>
          </p>
        </td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://java.sun.com/javase/6/docs/api/index.html">Java2SE API</a></p>
          (Online)
        </td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://java.sun.com/docs/books/tutorial/">Java Tutorial</a></p>
          (Online)
        </td></tr></table></td></tr></table></blockquote>
    <blockquote><table width="100%"><tr><td><table width="100%" class="title"><tr><td><b>Required Books (Pick one of the following three)</b></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://books.google.com/books?isbn=0596007124">Head First Design Patterns</a> [<a href="http://www.amazon.com/exec/obidos/ASIN/0596007124">Amazon</a>, <a href="http://www.addall.com/New/compare.cgi?dispCurr=USD&amp;location=10000&amp;state=IL&amp;isbn=0596007124">AddAll</a>]</p>
          <p xmlns="" class="flush">
            by Eric Freeman, Elisabeth Freeman, Kathy Sierra, Bert Bates
            (O'Reilly, 1995)
          </p>
          <p xmlns="" class="flush">
            ADD intro to DP.
          </p>
          <p xmlns="" class="flush">
            Online companion to the book:
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.oreilly.com/catalog/hfdesignpat/">http://www.oreilly.com/catalog/hfdesignpat/</a>
          </p>
        </td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://books.google.com/books?isbn=0321247140">Design Patterns Explained: A New Perspective on
        Object-Oriented Design (2e)</a> [<a href="http://www.amazon.com/exec/obidos/ASIN/0321247140">Amazon</a>, <a href="http://www.addall.com/New/compare.cgi?dispCurr=USD&amp;location=10000&amp;state=IL&amp;isbn=0321247140">AddAll</a>]</p>
          <p xmlns="" class="flush">
            by Alan Shalloway, James R. Trott
            (Addison-Wesley, 2004)
          </p>
          <p xmlns="" class="flush">
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.netobjectives.com/dpexplained/dpe_olc.htm">Online companion to the book</a>.
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.awprofessional.com/title/0321247140#">Addison Wesley site</a>.
          </p>
        </td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://books.google.com/books?isbn=0201633612">Design Patterns</a> [<a href="http://www.amazon.com/exec/obidos/ASIN/0201633612">Amazon</a>, <a href="http://www.addall.com/New/compare.cgi?dispCurr=USD&amp;location=10000&amp;state=IL&amp;isbn=0201633612">AddAll</a>]</p>
          <p xmlns="" class="flush">
            by Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides
            (Addison-Wesley, 1995)
          </p>
          <p xmlns="" class="flush">
            Online companion to the book:
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://hillside.net/patterns/DPBook/DPBook.html">http://hillside.net/patterns/DPBook/DPBook.html</a>
          </p>
        </td></tr></table></td></tr></table></blockquote>
    <p xmlns="">
      Most students prefer <i>Head First Design Patterns</i>, but some prefer <i>Design Patterns Explained</i>.  The original <i>Design Patterns</i> is a classic, but out of date; it is a decent reference, but a poor book to learn from for a begginer.
    </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide012">Admin: Course Homepage</a></span><span style="font-weight: normal"><a href="class-01-012.html"> [12/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          <strong>Course homepage:</strong> <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.depaul.edu/~jriely/se450fall2010">http://www.depaul.edu/~jriely/se450fall2010</a>
        </p>
        <ul xmlns="">
          <li>
            Lecture slides are available in two HTML formats: one slide
            per page and all slides on one page.
          </li>
          <li>
            Lecture slides may not be available before the class.
          </li>
          <li>
            Lecture slides may change after class.
          </li>
        </ul>
      <p> </p><a name="mailinglist"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide013">Admin: Mailing List</a></span><span style="font-weight: normal"><a href="class-01-013.html"> [13/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          You <i>must</i> subscribe to the course mailing list.  Do it
          <i>as soon as possible</i>.
        </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://groups.google.com/group/se450fall2010">http://groups.google.com/group/se450fall2010</a>
        </p>
        <ul xmlns="">
          <li>
            I will reply to messages I receive to the course mailing
            list.
          </li>
          <li>
            The mailing list is archived.
          </li>
          <li>
            If you do not wish to receive messages, you may
            unsubscribe, or subscribe to a digest.
          </li>
        </ul>
      <p> </p><a name="assessment"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide014">Admin: Assessment</a></span><span style="font-weight: normal"><a href="class-01-014.html"> [14/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          There will be weekly assignments culminating in a final
          project, a midterm, and a final.  The course grade will be
          computed as follows:
        </p>
        <ul xmlns="">
          <li>
            Homework: 10%
          </li>
          <li>
            Final Project: 25%  (It is an individual, not group, project)
          </li>
          <li>
            Midterm Exam: 30%
          </li>
          <li>
            Final Exam: 35%
          </li>
        </ul>
        <p xmlns="">
          Numerical grades correspond to letter grades roughly as follows:
        </p>
<pre xmlns="" xml:space="preserve">
93-100 = A
90-92  = A-
88-89  = B+
83-87  = B
80-82  = B-        
etc...
</pre>
        <p xmlns="">
          You must hand in the homework each week in order to receive
          the 10 points for homework.  Note, however, that I will only
          review homework in detail for students whose final score is
          borderline (say between an A- and a B+).
        </p>
        <p xmlns="">
          The midterm and final will be cumulative.  You must earn a
          passing grade on the midterm and final to pass the course.
        </p>
        <p xmlns="">
          There will be no make-up exams nor extra credit assignments.
          If there is an extreme emergency and you must miss an exam,
          you must notify me in advance and provide documented
          evidence of the emergency.
        </p>
        <p xmlns="">
          Students in DL sections may take the course remotely.
          They may take the exam at times different from the in class
          section, usually within a few days.  Exact details will be
          provided on COL closer to the exam date.
        </p>
        <p xmlns="">
          Homework is due by 5:45PM before class, one week after assigned
          (11:45PM for DL sections).  <span xmlns="http://www.w3.org/1999/xhtml" class="red">No late assignments will be
          accepted.</span> I will drop the lowest homework score will be
          dropped in the calculation of your final grade.
        </p>
        <p xmlns="">
          Homework assignments must be submitted through the online
          system.  <i>Email submissions will not be accepted.</i>
        </p>
        <p xmlns="">
          Program submissions will be assessed on whether they achieve
          the set task <i>and</i> the quality of the code.
        </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.cs.depaul.edu/courses/Academic_Integrity_Policy.DOC ">DePaul's academic integrity policy</a>
        </p>
      <p> </p><a name="attendance"/><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide015">Admin: Attendance</a></span><span style="font-weight: normal"><a href="class-01-015.html"> [15/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          You are responsible for understanding the material presented
          in class.
        </p>
        <p xmlns="">
          You are responsible for any announcements made in class or
          on the class mailing list.
        </p>
        <p xmlns="">
          <span xmlns="http://www.w3.org/1999/xhtml" class="red">
            You must attend the midterm and final exams (unless you are in the DL section).
          </span>
        </p>
        <ul xmlns="">
          <li>
            The midterm will be held 2008/10/14 in
            class.
          </li>




          <li>
            A final exam will be held 2008/11/18 in
            class.
          </li>
        </ul>
        <p xmlns="">
          A medical note will be required for an absence from
          exams. Business trips or vacations are not valid reasons for
          missing the exams.
        </p>
        <p xmlns="">
          <span xmlns="http://www.w3.org/1999/xhtml" class="red">
            Block out these dates now!
          </span>
        </p>
        <p xmlns="">
          Online students can take exams remotely.
          Online dates will likely include the weekend before the in class date.
        </p>
        <p xmlns="">
          <b>Letter for online students:</b>
        </p>        
        <p xmlns="">
          I understand that you are enrolled in a class of mine via online learning.  Welcome.
        </p>
        <p xmlns="">
          Course materials can be found at
        </p>
        <p xmlns="" class="flush">
          <a xmlns="http://www.w3.org/1999/xhtml" href="https://col.cdm.depaul.edu">https://col.cdm.depaul.edu</a>
        </p>
        <p xmlns="">
          Logon using your campus connect logon and password.
        </p>
        <p xmlns="">
          You can also find materials on the public course homepage.  Following the link at
        </p>
        <p xmlns="" class="flush">
        <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.depaul.edu/~jriely">http://www.depaul.edu/~jriely</a>
        </p>
        <p xmlns="">
          Although class materials and recorded lectures are available
          online; exams are proctored.  If you live in Chicago, you
          can take the exams at the Loop or Suburban campuses. This
          link has more information:
        </p>
        <p xmlns="" class="flush">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.cdm.depaul.edu/onlinelearning/Pages/ExamSchedule.pdf">http://www.cdm.depaul.edu/onlinelearning/Pages/ExamSchedule.pdf</a>
        </p>
        <p xmlns="">
          If you live outside the Chicago area, you will need to find a proctor.  More information can be found here:
        </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.cdm.depaul.edu/onlinelearning/Pages/ExamProcedures.pdf">http://www.cdm.depaul.edu/onlinelearning/Pages/ExamProcedures.pdf</a>
        </p>
        <p xmlns="">
          Acceptable proctors include:  
        </p>
        <ul xmlns="">
          <li>A librarian at an academic or public library</li>
          <li>Testing centers at 2 or 4 year colleges and universities</li>
          <li>Faculty member at a local university or community college</li>
          <li>Commercial learning/tutoring centers (i.e. Sylvan Learning Center)</li>
          <li>A military learning center or officer of higher rank, if in the military.</li>
        </ul>
        <p xmlns="">
          Exams may not take place at a private residence.
          Proctors are unacceptable if they are:
        </p>
        <ul xmlns="">
          <li>Relatives</li>
          <li>Friends</li>
          <li>Neighbors</li>
          <li>Co-workers or supervisors</li>
          <li>Staff members or clergy at a place of worship</li>
        </ul>
        <p xmlns="">
          Your online section is paired with an on-campus
          section. These classes are recorded and uploaded into the
          Course Management system so you can view them within 24
          hours of the live class.  The first class is 2008/09/09.  The lecture will be available online the
          following day.
        </p>
        <p xmlns="">
          I look forward to working with you this quarter.
          If you have any questions, please reply to this message.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide016">Admin: Projects</a></span><span style="font-weight: normal"><a href="class-01-016.html"> [16/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          This course requires that you complete a project.
        </p>
        <p xmlns="">
          The project must be your work alone.
        </p>
        <p xmlns="">
          Project work begins after the midterm.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide017">Admin: Contact Information</a></span><span style="font-weight: normal"><a href="class-01-017.html"> [17/61] </a></span></td></tr></table><p> </p>
        <table><tr><td><b>Instructor:</b></td><td>James Riely</td></tr><tr><td><b>Home Page:</b></td><td><a href="http://www.depaul.edu/~jriely"><tt>http://www.depaul.edu/~jriely</tt></a></td></tr><tr><td><b>Email:</b></td><td><a href="mailto:jriely@cs.depaul.edu"><tt>jriely@cs.depaul.edu</tt></a></td></tr><tr><td><b>Phone:</b></td><td>1.312.362.5251</td></tr><tr><td><b>Address:</b>  </td><td>
      School of Computing, DePaul University
    </td></tr><tr><td> </td><td>
      243 South Wabash Avenue
    </td></tr><tr><td> </td><td>
      Chicago, IL 60604-2301
    </td></tr><tr><td><b>Office:</b></td><td>CDM 846</td></tr><tr><td><b>Office Hours:</b>  </td><td>Tue 1:00-2:00pm
  in
  CDM 846</td></tr><tr><td><b>Class Page:</b></td><td><a href="http://www.depaul.edu/~jriely/se450fall2010"><tt>http://www.depaul.edu/~jriely/se450fall2010</tt></a></td></tr><tr><td><b>Class Hours:</b>  </td><td>Wed 5:45pm-9:00pm
      in
      Lewis 1217
        [Section 701]
      </td></tr><tr><td> </td><td>
      Online, Anytime
    
        [Section 710]
      </td></tr></table>
        <p xmlns="">
          My coordinates:
        </p>
        <ul xmlns="">
          <li>
            I work at home some days.  (Generally I am in the office
            on days I teach and on Fridays.)
          </li>
        </ul>
        <p xmlns="">
          Contact by phone:
        </p>
        <ul xmlns="">
          <li>
            I do not often check voice-mail.
          </li>
        </ul>
        <p xmlns="">
          Contact by email:
        </p>
        <ul xmlns="">
          <li>
            I check email about twice a day.
          </li>
          <li>
            It may take as long as a few days for me to reply to mail.
          </li>
          <li>
            <span xmlns="http://www.w3.org/1999/xhtml" class="red">
              Please check that the email address on your CampusConnect
              record is correct.
            </span>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide018">Basics: Subclassing</a></span><span style="font-weight: normal"><a href="class-01-018.html"> [18/61] </a></span></td></tr></table><p> </p>













        <p xmlns="">
          We will discuss subclassing after the midterm.
        </p>
        <p xmlns="">
          For now, all classes we write will be direct subclasses of
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html">java.lang.Object</a>
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide019">Basics: How Do We Run Programs?</a></span><span style="font-weight: normal"><a href="class-01-019.html"> [19/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Several logical steps
        </p>
        <ol xmlns="" style="list-style-type: decimal">
          <li>
            Compile -- may compile pieces of program separately,
            creating multiple object files and "libraries" or
            "archives" ("jar" file)
          </li>
          <li>
            (Static linking and initialization)
          </li>
          <li>
            Load program into memory
          </li>
          <li>
            Dynamic linking and initialization
          </li>
          <li>
            Run 
          </li>
        </ol>
        <p xmlns="">
          The first two steps are <i>static</i> -- happen at
          <i>compile time</i>.
        </p>
        <p xmlns="">
          The last three steps are <i>dynamic</i> -- happen at
          <i>runtime</i>.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide020">Basics: Class Initialization</a></span><span style="font-weight: normal"><a href="class-01-020.html"> [20/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Java loads and initializes classes dynamically.
        </p>
        <p xmlns="">
          General rule: (load and) initialize class when first needed.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/classLoading/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/classLoading/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/classLoading/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/classLoading/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>classLoading<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-style: italic"><span style="color: #9A1900">// The following is a static initializer.</span></span>
<span style="color: #000000">00005:</span>   <span style="font-style: italic"><span style="color: #9A1900">// It will execute the first time a class is used.</span></span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #FF0000">{</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Main initialized"</span><span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"1. "</span><span style="color: #990000">);</span>  C<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00009:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"2. "</span><span style="color: #990000">);</span>  C<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"3. "</span><span style="color: #990000">);</span>  D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">g</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00011:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"4. "</span><span style="color: #990000">);</span>  D<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">g</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">C</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">C</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #FF0000">{</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"C initialized; "</span><span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"C.f()"</span><span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">D</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00020:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">D</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #FF0000">{</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">print</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"D initialized; "</span><span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">g</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"D.g()"</span><span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00023:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00024:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
Main initialized
1. C initialized; C.f()
2. C.f()
3. D initialized; D.g()
4. D.g()
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide021">Basics: Functions</a></span><span style="font-weight: normal"><a href="class-01-021.html"> [21/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          What is a function?
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/functions/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/functions/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/functions/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/functions/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>functions<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     Fun<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00006:</span>     Fun<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">g</span></span><span style="color: #990000">(</span><span style="color: #993399">2</span><span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00008:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Fun</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Fun</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Fun.f()"</span><span style="color: #990000">);</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">g</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Fun.g()"</span><span style="color: #990000">);</span>
<span style="color: #000000">00014:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>x<span style="color: #990000">&gt;</span><span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>       <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> y <span style="color: #990000">=</span> x<span style="color: #990000">-</span><span style="color: #993399">1</span><span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>       Fun<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">g</span></span><span style="color: #990000">(</span>y<span style="color: #990000">);</span>
<span style="color: #000000">00017:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
<pre xmlns="" xml:space="preserve">
+---------------------+   +-----------------+   +-----------------+
|  0 : Main.main ARI  |   |  2 : Fun.g ARI  |   |  3 : Fun.g ARI  |
|  -----------------  |   |  -------------  |   |  -------------  |
+---------------------+   +-----------------+   +-----------------+
                          |  x:int = 2      |   |  x:int = 1      |
                          |  y:int = 1      |   |  y:int = 0      |
                          +-----------------+   +-----------------+
</pre>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
Fun.f()
Fun.g()
Fun.g()
Fun.g()
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide022">Basics: Activation</a></span><span style="font-weight: normal"><a href="class-01-022.html"> [22/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Each function call (or <i>activation</i>) creates an
          <i>instance</i> of the function variables (including
          parameters).
        </p>
        <p xmlns="">
          The variables are stored in an <i>activation record instance
          (ARI)</i>.
        </p>
        <p xmlns="">
          The period from activation to return is the <i>lifetime</i>
          of the ARI.
        </p>
        <ul xmlns="">
          <li>
            Memory is allocated by the system at birth
          </li>
          <li>
            Memory is returned to the system at death
          </li>
        </ul>
        <p xmlns="">
          We can draw ARI's, including an instance number to
          distinguish them.
        </p>
        <p xmlns="">
          This is what the last program looks like after the second
          execution of line 00015.
        </p>
<pre xmlns="" xml:space="preserve">
+---------------------+   +-----------------+   +-----------------+
|  0 : Main.main ARI  |   |  2 : Fun.g ARI  |   |  3 : Fun.g ARI  |
|  -----------------  |   |  -------------  |   |  -------------  |
+---------------------+   +-----------------+   +-----------------+
                          |  x:int = 2      |   |  x:int = 1      |
                          |  y:int = 1      |   |  y:int = 0      |
                          +-----------------+   +-----------------+
</pre>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          I've left out lots of details.  These are discussed in CSC447.
        </p>
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide023">Basics: Objects</a></span><span style="font-weight: normal"><a href="class-01-023.html"> [23/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          What is an object?
        </p>
        <p xmlns="">
          <b>Basic idea:</b> an object is something that may respond
          to a <i>message</i>.
        </p>
        <p xmlns="">
          <b>Further:</b> an object may have <i>state</i>.  
        </p>
        <p xmlns="">
          The state of the object may be used in generating a reponse
          to a message.
        </p>
        <p xmlns="">
          If an object is <i>mutable</i>, its response may vary over
          time.
        </p>
        <p xmlns="">
          <b>Example:</b> a printer queue.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide024">Basics: Object-Oriented?</a></span><span style="font-weight: normal"><a href="class-01-024.html"> [24/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          <b>Curious fact:</b> in a java program, there is no direct
          way to describe an object.
        </p>
        <p xmlns="">
          Java is <i>class-based</i>.
        </p>
        <ul xmlns="">
          <li>
            Classes are described directly.
          </li>
          <li>
            Objects are instances of classes.
          </li>
        </ul>
        <p xmlns="">
          Most OO-languages are class based -- descendents of
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.google.com/search?query=simula%20language">simula</a>
          and
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.google.com/search?query=smalltalk">smalltalk</a>.
        </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.google.com/search?query=prototype%20based%20languages">Prototype-based languages</a>
          work differently.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide025">Basics: Object Classes and Static Classes</a></span><span style="font-weight: normal"><a href="class-01-025.html"> [25/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Let's distinguish two types of classes:
        </p>
        <ul xmlns="">
          <li>
            <i>object</i> classes are <i>instantiable</i> -- they are
            templates for stamping objects
          </li>
          <li>
            <i>static</i> classes are <i>not</i> instantiable -- they
            are collections of functions
          </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/objectclass/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/objectclass/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/objectclass/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/objectclass/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>objectclass<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-style: italic"><span style="color: #9A1900">// A static class</span></span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Circle</span> c <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Circle</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00007:</span>     <span style="color: #008080">String</span> s <span style="color: #990000">=</span> <span style="color: #990000">((</span>c<span style="color: #990000">==</span><span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span> <span style="color: #990000">?</span> <span style="color: #FF0000">"null"</span> <span style="color: #990000">:</span> c<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00008:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #990000">);</span>
<span style="color: #000000">00009:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00010:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span> <span style="font-style: italic"><span style="color: #9A1900">// An object class</span></span>
<span style="color: #000000">00012:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Circle</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> Object <span style="color: #FF0000">{</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Circle</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Circle"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Java allows some shorthand.
        </p>
        <p xmlns="">
          The following declaration is equivalent to the one above.
        </p>

<pre xmlns="" xml:space="preserve"><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> s<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Circle</span></span><span style="color: #990000">());</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Circle</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Circle"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
</tt></pre>

      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide026">Basics: Constructors/Methods/Fields</a></span><span style="font-weight: normal"><a href="class-01-026.html"> [26/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Object classes have three kinds of <i>members</i>:
        </p>
        <ul xmlns="">
          <li>
            <i>Constructors</i> specify how to build objects
            inhabiting the class.
          </li>
          <li>
            <i>Methods</i> specify how the object responds to
            messages.
          </li>
          <li>
            <i>Fields</i> specify the state of the object.
          </li>
        </ul>



      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide027">Basics: Object Diagrams</a></span><span style="font-weight: normal"><a href="class-01-027.html"> [27/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          An <i>object diagram</i> is a snapshot of a running system,
          showing <i>live</i> objects.
        </p>
        <p xmlns="">
          Here is a diagram of the previous program when executing
          <tt>Circle.toString</tt>:
        </p>
<pre xmlns="" xml:space="preserve">
+---------------+
|  c0 : Circle  |
|  -----------  |
+---------------+
</pre>
        <p xmlns="">
          Here are the ARIs when executing <tt>Circle.toString</tt>:
        </p>
<pre xmlns="" xml:space="preserve">
+---------------------+   +---------------------------+
|  0 : Main.main ARI  |   |  1 : Circle.toString ARI  |
|  -----------------  |   |  -----------------------  |
+---------------------+   +---------------------------+
|  c:Circle = c0      |   |  this:Circle = c0         |
|  s:String = null    |   +---------------------------+
+---------------------+
</pre>
        <p xmlns="">
          Note the difference between the ARIs.
        </p>
        <p xmlns="">
          The ARI for <tt>toString</tt> has a special variable,
          <tt>this</tt>, which identifies the object receiving the
          message.
        </p>
        <p xmlns="">
          This is the main difference between a static method and a
          non-static method.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide028">Basics: Fields</a></span><span style="font-weight: normal"><a href="class-01-028.html"> [28/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Fields can be used to distinguish different objects of a
          class.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/fields/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/fields/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/fields/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/fields/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>fields<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">Int</span> x <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">(</span><span style="color: #993399">42</span><span style="color: #990000">);</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Int</span> y <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">(</span><span style="color: #993399">27</span><span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>x<span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>y<span style="color: #990000">);</span>
<span style="color: #000000">00009:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00010:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Int</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Int</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> v<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _v <span style="color: #990000">=</span> v<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Int("</span> <span style="color: #990000">+</span> _v <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          The object diagram at line 00007 is:
        </p>
<pre xmlns="" xml:space="preserve">
+--------------+   +--------------+      +---------------------+
|   i0 : Int   |   |   i1 : Int   |      |  0 : Main.main ARI  |
|   --------   |   |   --------   |      |  -----------------  |
+--------------+   +--------------+      +---------------------+
|   v:int = 42 |   |   v:int = 27 |      |  x:Int = i0         |
+--------------+   +--------------+      |  y:Int = i1         |
                                         +---------------------+
</pre>
        <p xmlns="">
          It is traditional in the UML to show objects, but not ARIs.
        </p>
        <p xmlns="">
          This can be confusing.
        </p>
        <p xmlns="">
          Although the names given to objects are arbitrary, perhaps
          the following are more helpful:
        </p>
<pre xmlns="" xml:space="preserve">
+--------------+   +--------------+
|    x : Int   |   |    y : Int   |
|    -------   |   |    -------   |
+--------------+   +--------------+
|   v:int = 42 |   |   v:int = 27 |
+--------------+   +--------------+
</pre>
        <p xmlns="">
          Unfortunately, this convention is not always more helpful.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide029">Basics: Passing Parameters</a></span><span style="font-weight: normal"><a href="class-01-029.html"> [29/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          What does the following print?
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/swap/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/swap/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/swap/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/swap/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>swap<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">Integer</span> x <span style="color: #990000">=</span> <span style="color: #993399">42</span><span style="color: #990000">;</span>
<span style="color: #000000">00006:</span>     <span style="color: #008080">Integer</span> y <span style="color: #990000">=</span> <span style="color: #993399">27</span><span style="color: #990000">;</span>
<span style="color: #000000">00007:</span>     Main<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">swap</span></span><span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>x<span style="color: #990000">);</span>
<span style="color: #000000">00009:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>y<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">swap</span></span> <span style="color: #990000">(</span><span style="color: #008080">Integer</span> a<span style="color: #990000">,</span> <span style="color: #008080">Integer</span> b<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>     <span style="color: #008080">Integer</span> t <span style="color: #990000">=</span> a<span style="color: #990000">;</span>
<span style="color: #000000">00013:</span>     a <span style="color: #990000">=</span> b<span style="color: #990000">;</span>
<span style="color: #000000">00014:</span>     b <span style="color: #990000">=</span> t<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Look at the ARIs just after line 00014 is executed:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------------+   +--------------+   
   | i0 : Integer |   | i1 : Integer |   
   | ------------ |   | ------------ |   
   +--------------+   +--------------+   
   |   v:int = 42 |   |   v:int = 27 |   
   +--------------+   +--------------+   
                                       
+-----------------+   +-----------------+
|  0 : Main.main  |   |  1 : Main.swap  |
|  -------------  |   |  -------------  |
+-----------------+   +-----------------+
|  x:Integer = i0 |   |  a:Integer = i1 |
|  y:Integer = i1 |   |  b:Integer = i0 |
+-----------------+   |  t:Integer = i0 |
                      +-----------------+
</pre>
        <p xmlns="">
          Java is <i>call-by-value</i>.
        </p>
        <blockquote><table width="100%"><tr><td><table width="100%" class="title"><tr><td><b>Call by Value Links</b></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www.javaranch.com/campfire/StoryCups.jsp">Cup Size -- a story about variables</a></p>
              <p xmlns="" class="flush">
                by JavaRanch.
              </p>
            </td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www.javaranch.com/campfire/StoryPassBy.jsp">Pass-by-Value Please</a></p>
              <p xmlns="" class="flush">
                By JavaRanch.
              </p>
            </td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www.javaworld.com/javaworld/javaqa/2000-05/03-qa-0526-pass.html"> Does Java pass by reference or pass by value? Why can't you swap in Java?</a></p>
              <p xmlns="" class="flush">
                By Tony Sintes.
              </p>
            </td></tr></table></td></tr></table></blockquote>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
42
27
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide030">Basics: Values and References</a></span><span style="font-weight: normal"><a href="class-01-030.html"> [30/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Java has a <i>reference model</i> for objects.  This is like C# are different from C++.
          In C# terminology, Java objects are <i>boxed</i>, whereas base values are <i>unboxed</i>.
        </p>
        <p xmlns="">
          What does the following print?
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/valref/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/valref/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/valref/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/valref/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>valref<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     <span style="color: #009900">int</span> vi <span style="color: #990000">=</span> <span style="color: #993399">27</span><span style="color: #990000">;</span>  <span style="color: #008080">MutInt</span> ri <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">MutInt</span></span><span style="color: #990000">(</span><span style="color: #993399">42</span><span style="color: #990000">);</span>
<span style="color: #000000">00006:</span>     <span style="color: #009900">int</span> vj <span style="color: #990000">=</span> vi<span style="color: #990000">;</span>  <span style="color: #008080">MutInt</span> rj <span style="color: #990000">=</span> ri<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span>     vi <span style="color: #990000">+=</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>      ri<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">plus</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>vi<span style="color: #990000">);</span>
<span style="color: #000000">00009:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>vj<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>ri<span style="color: #990000">);</span>
<span style="color: #000000">00011:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>rj<span style="color: #990000">);</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">MutInt</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> _v<span style="color: #990000">;</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">MutInt</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> v<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _v <span style="color: #990000">=</span> v<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"MutInt("</span> <span style="color: #990000">+</span> _v <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">plus</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> z<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _v <span style="color: #990000">+=</span> z<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Consider the object diagram after line 00006: 
        </p>
<pre xmlns="" xml:space="preserve">
   +--------------+      +-----------------+
   | i0 : MutInt  |      |  0 : Main.main  |
   | ------------ |      |  -------------  |
   +--------------+      +-----------------+
   |   v:int = 42 |      | vi:int = 27     |
   +--------------+      | vj:int = 27     |
                         | ri:MutInt = i0  |
                         | rj:MutInt = i0  |
                         +-----------------+
</pre>
        <p xmlns="">
          This phenomenon is called <i>aliasing</i>.
        </p>
        <p xmlns="">
          Note that aliasing occurs whenever an object is passed as an
          argument to a function.
        </p>
        <p xmlns="">
          Aliasing mutable values must be handled with care.
        </p>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
28
27
MutInt(43)
MutInt(43)
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide031">Basics: UML Notation for References</a></span><span style="font-weight: normal"><a href="class-01-031.html"> [31/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          In the UML, references are usually shown using arrows.
        </p>
        <p xmlns="">
          Instead of this:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------------+       +-----------------+
   | i0 : MutInt  |       |  0 : Main.main  |
   | ------------ |       |  -------------  |
   +--------------+       +-----------------+
   |   v:int = 42 |       | vi:int = 27     |
   +--------------+       | vj:int = 27     |
                          | ri:MutInt = i0  |
                          | rj:MutInt = i0  |
                          +-----------------+
</pre>
        <p xmlns="">
          We draw this:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------------+       +-----------------+
   | i0 : MutInt  |   ri  |  0 : Main.main  |
   | ------------ | &lt;---- |  -------------  |
   +--------------+   rj  +-----------------+
   |   v:int = 42 | &lt;---- | vi:int = 27     |
   +--------------+       | vj:int = 27     |
                          +-----------------+
</pre>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide032">Basics: UML Class Diagrams: Static Class</a></span><span style="font-weight: normal"><a href="class-01-032.html"> [32/61] </a></span></td></tr></table><p> </p>
        A static class looks like this:
<pre xmlns="" xml:space="preserve">
   +----------------+
   |   &lt;&lt;static&gt;&gt;   |
   |      Main      |
   +----------------+  
   | + main():void  |
   | -------------  |
   +----------------+
</pre>
        <ul xmlns="">
          <li>
            The class name is <i>not</i> underlined
          </li>
          <li>
            Static methods <i>are</i> underlined
          </li>
          <li>
            <tt>&lt;&lt;static&gt;&gt;</tt> is a <i>stereotype</i>
          </li>
          <li>
            Method return type follows colon
          </li>
          <li>
            May contain static fields, which are also underlined (none
            shown here)
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide033">Basics: UML Class Diagrams: Object Class</a></span><span style="font-weight: normal"><a href="class-01-033.html"> [33/61] </a></span></td></tr></table><p> </p>
        An object class looks like this:
<pre xmlns="" xml:space="preserve">
   +---------------------+
   |       MutInt        |
   +---------------------+
   | - v:int             |
   +---------------------+
   | + MutInt()          |
   | + toString():String |
   | + plus(int):void    |
   +---------------------+
</pre>
        <ul xmlns="">
          <li>
            The class name is <i>not</i> underlined
          </li>
          <li>
            Non-static methods are <i>not</i> underlined
          </li>
          <li>
            Fields are listed first, methods second
          </li>
          <li>
            <tt>-</tt> is private 
          </li>
          <li>
            <tt>+</tt> is public 
          </li>
        </ul>
        <p xmlns="">
          A static class describes the class itself.
        </p>
        <p xmlns="">
          An object class describes the <i>instances</i> of the class.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide034">Basics: Aggregation (Reference)</a></span><span style="font-weight: normal"><a href="class-01-034.html"> [34/61] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/aggregation/Person_java.html">file:Person.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/aggregation/Person.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/aggregation/Person.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/aggregation/Person.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>aggregation<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> String _name<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> name<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _name <span style="color: #990000">=</span> name<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Person("</span> <span style="color: #990000">+</span> _name <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00006:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00007:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Reference to objects of another class:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------+   name  +--------+
   | Person |&lt;&gt;------&gt;| String |
   +--------+         +--------+
</pre>
        <p xmlns="">
          In UML, this is called <i>aggregation</i>.
        </p>
        <p xmlns="">
          Note that the aggregation refers to the <i>instances</i> of
          the class, not the class itself.
        </p>
        <p xmlns="">
          Class diagrams are <i>static</i> (describe the program text).
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide035">Basics: Composition (Exclusive Reference)</a></span><span style="font-weight: normal"><a href="class-01-035.html"> [35/61] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/composition/Person_java.html">file:Person.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/composition/Person.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/composition/Person.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/composition/Person.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>composition<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Random<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Random _random <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Random</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span>  <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> String _name<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _name <span style="color: #990000">=</span> Integer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">(</span>_random<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">nextInt</span></span><span style="color: #990000">());</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00007:</span> <span style="font-style: italic"><span style="color: #9A1900">//public Person(String name) { _name = name.clone(); }</span></span>
<span style="color: #000000">00008:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Person("</span> <span style="color: #990000">+</span> _name <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00009:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00010:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns="">
          Exclusive reference to objects of another class:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------+    name  +--------+
   | Person |&lt;@&gt;------&gt;| String |
   +--------+          +--------+
</pre>
        <p xmlns="">
          In UML, this is called <i>composition</i>.
        </p>
        <p xmlns="">
          Consequences of composition:
        </p>
        <ul xmlns="">
          <li>
            When the person dies, the name dies too
          </li>
          <li>
            Name can only be accessed through the person
          </li>
        </ul>
        <p xmlns="">
          (Yuck!  We've mixed static and non-static members!)
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide036">Basics: Dependency</a></span><span style="font-weight: normal"><a href="class-01-036.html"> [36/61] </a></span></td></tr></table><p> </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/dependency/Person_java.html">file:Person.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/dependency/Person.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/dependency/Person.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/dependency/Person.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>dependency<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Random<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> String _name<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> name<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _name <span style="color: #990000">=</span> name<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Person("</span> <span style="color: #990000">+</span> _name <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00007:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00008:</span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">PersonFactory</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">PersonFactory</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> Random _random <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Random</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span>  <span style="color: #008080">Person</span> <span style="font-weight: bold"><span style="color: #000000">randomPerson</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span>Integer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">(</span>_random<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">nextInt</span></span><span style="color: #990000">()));</span>
<span style="color: #000000">00013:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
<pre xmlns="" xml:space="preserve">
   +---------------+
   |   &lt;&lt;static&gt;&gt;  |   &lt;&lt;creates&gt;&gt;   +--------+
   | PersonFactory |- - - - - - - - &gt;| Person |
   +---------------+                 +--------+
</pre>
        <p xmlns="">
          This dependency indicates that <tt>PersonFactory</tt>
          mentions <tt>Person</tt>, but holds no references to
          <tt>Person</tt> objects.
        </p>
        <p xmlns="">
          Typical reasons for a dependency:
        </p>
        <ul xmlns="">
          <li>
            <tt>Person</tt> is returned by method
          </li>
          <li>
            <tt>Person</tt> is a parameter of a method
          </li>
          <li>
            <tt>Person</tt> is held in a local variable, but not a
            field
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide037">Basics: The Ugly Truth</a></span><span style="font-weight: normal"><a href="class-01-037.html"> [37/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          The dichotomy between static-class and object-class is not
          enforced in java.
        </p>
        <p xmlns="">
          <b>Guideline:</b> <i>separate static and object functions
          into different classes</i>
        </p>
        <p xmlns="">
          <b>Example:</b>
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/lang/Math.html">java.lang.Math</a>
          is a static class;
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/util/Random.html">java.util.Random</a>
          is an object class.
        </p>
        <p xmlns="">
          <b>Note:</b> this guideline is often violated in the java
          APIs.  For example: 
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/lang/String.html">java.lang.String</a>
          and all the <i>wrapper</i> classes, such as
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/lang/Integer.html">java.lang.Integer</a>.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide038">Basics: Mixed Classes</a></span><span style="font-weight: normal"><a href="class-01-038.html"> [38/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          It is useful to think of a mixed class in terms of its two
          functions:
        </p>
        <ul xmlns="">
          <li>
            <p class="flush">
              Static members belong to the class,
              eg, <tt>Integer.MAX_VALUE:int</tt> and
              <tt>Integer.parseInt(String):int</tt>.
            </p>
            <p class="flush">
              Access these members using the class name.
            </p>
          </li>
          <li>
            <p class="flush">
              Non-static members belong to the objects,
              eg, <tt>Integer.hashCode():int</tt>.
            </p>
            <p class="flush">
              Access these members using an object reference -- this
              is the only way you can!
            </p>
          </li>
        </ul>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/mixedclass/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/mixedclass/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/mixedclass/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/mixedclass/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>mixedclass<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>       <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>args<span style="color: #990000">.</span>length <span style="color: #990000">!=</span> <span style="color: #993399">1</span><span style="color: #990000">)</span>
<span style="color: #000000">00007:</span>         <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">NumberFormatException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00008:</span>       <span style="color: #009900">int</span> vx <span style="color: #990000">=</span> Integer<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">parseInt</span></span><span style="color: #990000">(</span>args<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>
<span style="color: #000000">00009:</span>       <span style="color: #008080">Integer</span> rx <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Integer</span></span><span style="color: #990000">(</span>vx<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>       System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"  Number: "</span> <span style="color: #990000">+</span> rx<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00011:</span>       System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Hashcode: "</span> <span style="color: #990000">+</span> rx<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00012:</span> 
<span style="color: #000000">00013:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">NumberFormatException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00014:</span>       System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Error: Bad input"</span><span style="color: #990000">);</span>
<span style="color: #000000">00015:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output of ``<tt>java basics/mixedclass/Main 39</tt>'' is:
        </p>
<pre xmlns="" xml:space="preserve">
  Number: 39
Hashcode: 39
</pre>        
        <p xmlns="">
          Output of ``<tt>java basics/mixedclass/Main</tt>'' is:
        </p>
<pre xmlns="" xml:space="preserve">
Error: Bad input
</pre>        
        <p xmlns="">
          Output of ``<tt>java basics/mixedclass/Main 39 27</tt>'' is:
        </p>
<pre xmlns="" xml:space="preserve">
Error: Bad input
</pre>        
        <p xmlns="">
          Output of ``<tt>java basics/mixedclass/Main 10000000039</tt>'' is:
        </p>
<pre xmlns="" xml:space="preserve">
Error: Bad input
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide039">Basics: Multiplicity</a></span><span style="font-weight: normal"><a href="class-01-039.html"> [39/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Multiplicities put constraints on number of references held
          by an object.
        </p>
        <p xmlns="">
          Recall 
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/util/List.html">java.util.List</a>
          and
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/io/BufferedReader.html">java.io.BufferedReader</a>.
        </p>
<pre xmlns="" xml:space="preserve">
   +---------------+
   | &lt;&lt;interface&gt;&gt; |       * +--------+
   |     List      |&lt;&gt;------&gt;| Object |
   +---------------+         +--------+

   +----------------+   0..1 +--------+
   | BufferedReader |&lt;&gt;-----&gt;| Reader |
   +----------------+        +--------+
</pre>
        <p xmlns="">
          <b>Note:</b> if mutiplicity is <tt>1</tt>, then reference
          must be non-<tt>null</tt> when constructor terminates.
        </p>
        <p xmlns="">
          This may require that we throw and
          <tt>IllegalArgumentException</tt> if an argument to the
          constructor is <tt>null</tt>.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/checkargs/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/checkargs/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/checkargs/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/checkargs/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>checkargs<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"bob"</span><span style="color: #990000">));</span>
<span style="color: #000000">00006:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">));</span>
<span style="color: #000000">00007:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00008:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Person</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> String _name<span style="color: #990000">;</span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Person</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> name<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00012:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>name <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span>
<span style="color: #000000">00013:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalArgumentException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00014:</span>     _name <span style="color: #990000">=</span> name<span style="color: #990000">;</span>
<span style="color: #000000">00015:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Person("</span> <span style="color: #990000">+</span> _name <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span><span style="color: #990000">;</span>
<span style="color: #000000">00017:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00018:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
<pre xmlns="" xml:space="preserve">
   +--------+   name  1 +--------+
   | Person |&lt;&gt;--------&gt;| String |
   +--------+           +--------+
</pre>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
Person(bob)
Exception in thread "main" java.lang.IllegalArgumentException
        at basics.checkargs.Person.&lt;init&gt;(Main.java:13)
        at basics.checkargs.Main.main(Main.java:6)
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide040">Basics: Association</a></span><span style="font-weight: normal"><a href="class-01-040.html"> [40/61] </a></span></td></tr></table><p> </p>
        <img alt="jia02-assoc-rel" src="../images/jia02-assoc-rel_fig.png"/>
        <p xmlns="">
          The diagram describes the relationship of objects without
          reference to implementation.
        </p>
        <p xmlns="">
          The diagram uses <i>associations</i> which may be either
          dependencies or references.
        </p>
        <p xmlns="">
          Associations are more <i>abstract</i> (less specific, less
          concrete) than dependencies and references.
        </p>
        <p xmlns="">
          The diagram also show the use of <i>roles</i> and
          <i>names</i> in associations.
        </p>
        <p xmlns="">
          An association without an arrowhead <i>may be</i> bidirectional.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide041">Basics: UML Summary</a></span><span style="font-weight: normal"><a href="class-01-041.html"> [41/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Reference/Exclusive Reference:
        </p>
        <img alt="jia02-relation" src="../images/jia02-relation_fig.png"/>
        <p xmlns="">
          Dependency (no reference):
        </p>
        <img alt="jia02-depend" src="../images/jia02-depend_fig.png"/>
        <p xmlns="">
          Association (could be either reference or dependency):
        </p>
        <img alt="jia02-assoc" src="../images/jia02-assoc_fig.png"/>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide042">Basics: Test</a></span><span style="font-weight: normal"><a href="class-01-042.html"> [42/61] </a></span></td></tr></table><p> </p>

<pre xmlns="" xml:space="preserve"><tt><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">D</span> <span style="color: #FF0000">{</span>
  A _xa<span style="color: #990000">;</span>
  B _xb<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #000000">D</span></span> <span style="color: #990000">(</span><span style="color: #008080">B</span> xb<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
   _xa <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">A</span></span><span style="color: #990000">();</span>
   _xb <span style="color: #990000">=</span> xb<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">f</span></span><span style="color: #990000">(</span><span style="color: #008080">C</span> xc<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #990000">...</span> <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
</tt></pre>

        <p xmlns="">
          Draw two diagrams showing the relationships between
          <tt>D</tt> and <tt>A</tt>, <tt>B</tt> and <tt>C</tt>.
        </p>
        <ol xmlns="" style="list-style-type: decimal">
          <li>
            Be as abstract as possible.
          </li>
          <li>
            Be as concrete as possible.
          </li>
        </ol>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide043">Testing: Overview</a></span><span style="font-weight: normal"><a href="class-01-043.html"> [43/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          What is testing?
        </p>
        <p xmlns="">
          What kinds of testing are there?
        </p>
        <p xmlns="">
          For us, the most important distinctions are:
        </p>
        <ul xmlns="">
          <li>Automatic/Manual</li>
          <li>Unit/Acceptance</li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide044">Testing: Tools</a></span><span style="font-weight: normal"><a href="class-01-044.html"> [44/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Life is much better with tools.
        </p>
        <p xmlns="">
          The big four:
        </p>
        <ul xmlns="">
          <li>
            Program editor.  For example,
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.textpad.com/">textpad</a>
            or
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.eclipse.org/">eclipse</a>.
          </li>
          <li>
            Automated build tool.  For example,
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://jakarta.apache.org/ant/">ant</a>
            or
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.gnu.org/software/make/make.html">make</a>.
          </li>
          <li>
            Automated testing tool.  For example,
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.junit.org/">junit</a>
            or
            related
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://c2.com/cgi/wiki?TestingFramework">xunit tools</a>.
          </li>
          <li>
            Versioning system.  For example,
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.cvshome.org/">CVS</a>
            or
            <a xmlns="http://www.w3.org/1999/xhtml" href="http://msdn.microsoft.com/ssafe/">Microsoft sourcesafe</a>.
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide045">Testing: Using J2SDK/Junit/Ant</a></span><span style="font-weight: normal"><a href="class-01-045.html"> [45/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          See
          <a xmlns="http://www.w3.org/1999/xhtml" href="../notes/notes-tools.html">here</a>
          for notes on installing TextPad/Java/Ant/Junit.
        </p>


































      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide046">Testing: Junit Tests</a></span><span style="font-weight: normal"><a href="class-01-046.html"> [46/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Create a test class.  (Test classes are object classes.)
        </p>
        <p xmlns="">
          Each test method is treated like a separate program.
        </p>

<pre xmlns="" xml:space="preserve"><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> junit<span style="color: #990000">.</span>framework<span style="color: #990000">.</span>Assert<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #000080">import</span></span> junit<span style="color: #990000">.</span>framework<span style="color: #990000">.</span>TestCase<span style="color: #990000">;</span>
<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">TEST1</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> TestCase <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">TEST1</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> name<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">(</span>name<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testA</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #990000">...</span> <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testB</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #990000">...</span> <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span>
</tt></pre>

        <p xmlns="">
          Tests are run more-or-less as:
        </p>

<pre xmlns="" xml:space="preserve"><tt><span style="color: #008080">TEST1</span> t1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TEST1</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"testA"</span><span style="color: #990000">);</span>
t1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setUp</span></span><span style="color: #990000">();</span>
t1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">testA</span></span><span style="color: #990000">();</span>
t1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">tearDown</span></span><span style="color: #990000">();</span>

<span style="color: #008080">TEST1</span> t2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">TEST1</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"testB"</span><span style="color: #990000">);</span>
t2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setUp</span></span><span style="color: #990000">();</span>
t2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">testB</span></span><span style="color: #990000">();</span>
t2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">tearDown</span></span><span style="color: #990000">();</span>
</tt></pre>

        <p xmlns="">
          Each test has one of three possible outcomes:
        </p>
        <ul xmlns="">
          <li>
            <b>pass</b>: test ended normally and no assertion failed
          </li>
          <li>
            <b>fail</b>: test ended normally at least one assertion failed
          </li>
          <li>
            <b>error</b>: uncaught exception thrown before test ended
          </li>
        </ul>
        <p xmlns="">
          Rules for a test class:
        </p>
        <ul xmlns="">
          <li>
            class must be <tt>public</tt>
          </li>
          <li>
            class name must include substring ``<tt>TEST</tt>'' (for ant)
          </li>
          <li>
            class must extend <tt>junit.framework.TestCase</tt>
          </li>
          <li>
            constructor must accept <tt>String</tt> parameter and pass
            it to <tt>super</tt> constructor
          </li>
          <li>
            non-static methods "<tt>public void test...()</tt>" are
            run automatically as tests
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide047">Testing: Junit Assertions</a></span><span style="font-weight: normal"><a href="class-01-047.html"> [47/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          <tt>junit.framework.Assert</tt> is a static class.
        </p>
        <p xmlns="">
          The basic assertion method is <tt>assertTrue</tt>, which
          comes in two forms:
        </p>

<pre xmlns="" xml:space="preserve"><tt>Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #009900">boolean</span><span style="color: #990000">):</span><span style="color: #009900">void</span>
Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span>String<span style="color: #990000">,</span><span style="color: #009900">boolean</span><span style="color: #990000">):</span><span style="color: #009900">void</span>
</tt></pre>

        <p xmlns="">
          If the <tt>boolean</tt> value is false, then the
          enclosing test will fail.
        </p>
        <p xmlns="">
          In the second form, the <tt>String</tt> is printed when the
          assertion is false.
        </p>

<pre xmlns="" xml:space="preserve"><tt><span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testA</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #990000">...</span>
  Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span>x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getColor</span></span><span style="color: #990000">()</span> <span style="color: #990000">==</span> Color<span style="color: #990000">.</span>RED<span style="color: #990000">)</span>
  Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Wrong color!"</span><span style="color: #990000">,</span> x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getColor</span></span><span style="color: #990000">()</span> <span style="color: #990000">==</span> Color<span style="color: #990000">.</span>RED<span style="color: #990000">)</span>
<span style="color: #FF0000">}</span>
</tt></pre>

        <p xmlns="">
          I prefer the version without the <tt>String</tt>.  The
          messages from junit are already informative.
        </p>
        <p xmlns="">
          If there are multiple assertions in a single test, then the
          enclosing test fails if any assertion is false.
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide048">Testing: Junit Derived Assertions</a></span><span style="font-weight: normal"><a href="class-01-048.html"> [48/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          See the
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://junit.sourceforge.net/javadoc/index.html">Junit API</a>.
        </p>
        <p xmlns="">
          <tt>Assert</tt> also contains some useful derived methods:
        </p>
        <ul xmlns="">
          <li>
            <b><tt>Assert.fail():void</tt></b>
            <ul>
              <li>
                same as <tt>Assert.assertTrue(false)</tt>
              </li>
            </ul>
          </li>
          <li>
            <b><tt>Assert.assertFalse(actual:boolean):void</tt></b>
            <ul>
              <li>
                same as <tt>Assert.assertTrue(!actual)</tt>
              </li>
            </ul>
          </li>
          <li>
            <b><tt>Assert.assertEquals(expected, actual):void</tt></b>
            <ul>
              <li>
                same as
                <tt>Assert.assertTrue(expected.equals(actual))</tt>
                for object types
              </li>
              <li>
                same as
                <tt>Assert.assertTrue(expected == actual)</tt>
                for base types
              </li>
            </ul>
          </li>
          <li>
            <b><tt>Assert.assertSame(expected:Object, actual:Object):void</tt></b>
            <ul>
              <li>
                same as
                <tt>Assert.assertTrue(expected == actual)</tt>
              </li>
            </ul>
          </li>
          <li>
            <b><tt>Assert.assertNotNull(actual:Object):void</tt></b>
            <ul>
              <li>
                same as
                <tt>Assert.assertTrue(null != actual)</tt>
              </li>
            </ul>
          </li>
          <li>
            <b><tt>Assert.assertNull(actual:Object):void</tt></b>
            <ul>
              <li>
                same as
                <tt>Assert.assertTrue(null == actual)</tt>
              </li>
            </ul>
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide049">Testing: Examples</a></span><span style="font-weight: normal"><a href="class-01-049.html"> [49/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Read
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://junit.sourceforge.net/doc/testinfected/testing.htm">Test Infected</a>,
          by Gamma and Beck.
          (You can skip any discussion of test suites; with ant,
          explicit test suites are unnecessary.) 
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/testing/PairTEST_java.html">file:PairTEST.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/testing/PairTEST.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/testing/PairTEST.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/testing/PairTEST.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>testing<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> 
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> junit<span style="color: #990000">.</span>framework<span style="color: #990000">.</span>Assert<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> junit<span style="color: #990000">.</span>framework<span style="color: #990000">.</span>TestCase<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> basics<span style="color: #990000">.</span>immutabledata<span style="color: #990000">.</span>Pair<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span> 
<span style="color: #000000">00007:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">PairTEST</span> <span style="font-weight: bold"><span style="color: #0000FF">extends</span></span> TestCase <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">PairTEST</span></span><span style="color: #990000">(</span><span style="color: #008080">String</span> name<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00009:</span>     <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">(</span>name<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00012:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Constructor should throw IllegalArgumentException if either</span></span>
<span style="color: #000000">00013:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  argument is null.</span></span>
<span style="color: #000000">00014:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testConstructor</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00016:</span>     <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>       <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>String<span style="color: #990000">,</span>String<span style="color: #990000">&gt;(</span><span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span><span style="color: #FF0000">"cat"</span><span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>       <span style="font-style: italic"><span style="color: #9A1900">// constructor should have thrown exception</span></span>
<span style="color: #000000">00019:</span>       Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fail</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00020:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">IllegalArgumentException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span>     <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00022:</span>       <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>String<span style="color: #990000">,</span>String<span style="color: #990000">&gt;(</span><span style="color: #FF0000">"dog"</span><span style="color: #990000">,</span><span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>       <span style="font-style: italic"><span style="color: #9A1900">// constructor should have thrown exception</span></span>
<span style="color: #000000">00024:</span>       Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fail</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00025:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">IllegalArgumentException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span>     <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00027:</span>       <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>String<span style="color: #990000">,</span>String<span style="color: #990000">&gt;(</span><span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span><span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">);</span>
<span style="color: #000000">00028:</span>       <span style="font-style: italic"><span style="color: #9A1900">// constructor should have thrown exception</span></span>
<span style="color: #000000">00029:</span>       Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fail</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00030:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">IllegalArgumentException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span>     <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00032:</span>       <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>String<span style="color: #990000">,</span>String<span style="color: #990000">&gt;(</span><span style="color: #FF0000">"dog"</span><span style="color: #990000">,</span><span style="color: #FF0000">"cat"</span><span style="color: #990000">);</span>
<span style="color: #000000">00033:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">IllegalArgumentException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00034:</span>       <span style="font-style: italic"><span style="color: #9A1900">// constructor should have succeeded</span></span>
<span style="color: #000000">00035:</span>       Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">fail</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00036:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00037:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00038:</span> 
<span style="color: #000000">00039:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00040:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  first() and second() should return references to the objects</span></span>
<span style="color: #000000">00041:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  given to the constructor.</span></span>
<span style="color: #000000">00042:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00043:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testFirstAndSecond</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00044:</span>     <span style="color: #008080">Integer</span> i <span style="color: #990000">=</span> <span style="color: #993399">42</span><span style="color: #990000">;</span>
<span style="color: #000000">00045:</span>     <span style="color: #008080">Integer</span> j <span style="color: #990000">=</span> <span style="color: #993399">91</span><span style="color: #990000">;</span>
<span style="color: #000000">00046:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span>i<span style="color: #990000">,</span> j<span style="color: #990000">);</span>
<span style="color: #000000">00047:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertSame</span></span><span style="color: #990000">(</span>i<span style="color: #990000">,</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">first</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00048:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertSame</span></span><span style="color: #990000">(</span>j<span style="color: #990000">,</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">second</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00049:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00050:</span> 
<span style="color: #000000">00051:</span>   <span style="font-style: italic"><span style="color: #9A1900">/**</span></span>
<span style="color: #000000">00052:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Here is a weaker version of the above test; this version allows</span></span>
<span style="color: #000000">00053:</span> <span style="font-style: italic"><span style="color: #9A1900">   *  Pair() to clone its arguments.</span></span>
<span style="color: #000000">00054:</span> <span style="font-style: italic"><span style="color: #9A1900">   */</span></span>
<span style="color: #000000">00055:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testFirstAndSecond_WeakerVersion</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00056:</span>     <span style="color: #008080">Integer</span> i <span style="color: #990000">=</span> <span style="color: #993399">42</span><span style="color: #990000">;</span>
<span style="color: #000000">00057:</span>     <span style="color: #008080">Integer</span> j <span style="color: #990000">=</span> <span style="color: #993399">91</span><span style="color: #990000">;</span>
<span style="color: #000000">00058:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span>i<span style="color: #990000">,</span> j<span style="color: #990000">);</span>
<span style="color: #000000">00059:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertEquals</span></span><span style="color: #990000">(</span>i<span style="color: #990000">,</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">first</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00060:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertEquals</span></span><span style="color: #990000">(</span>j<span style="color: #990000">,</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">second</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00061:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00062:</span> 
<span style="color: #000000">00063:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testToString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00064:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00065:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertEquals</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Pair(42,91)"</span><span style="color: #990000">,</span> p<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00066:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00067:</span> 
<span style="color: #000000">00068:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testEquals</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00069:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00070:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00071:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p3 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">43</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00072:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p4 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">92</span><span style="color: #990000">);</span>
<span style="color: #000000">00073:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">));</span>
<span style="color: #000000">00074:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>p2<span style="color: #990000">));</span>
<span style="color: #000000">00075:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertFalse</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>p3<span style="color: #990000">));</span>
<span style="color: #000000">00076:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertFalse</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>p4<span style="color: #990000">));</span>
<span style="color: #000000">00077:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertFalse</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Object</span></span><span style="color: #990000">()));</span>
<span style="color: #000000">00078:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00079:</span> 
<span style="color: #000000">00080:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testHashCode</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00081:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00082:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00083:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p3 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">43</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00084:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p4 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">92</span><span style="color: #990000">);</span>
<span style="color: #000000">00085:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertEquals</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">(),</span> p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00086:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertEquals</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">(),</span> p2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00087:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">()</span> <span style="color: #990000">!=</span> p3<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00088:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">()</span> <span style="color: #990000">!=</span> p4<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00089:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00090:</span> 
<span style="color: #000000">00091:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">testCompareTo</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00092:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00093:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00094:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p3 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">43</span><span style="color: #990000">,</span> <span style="color: #993399">91</span><span style="color: #990000">);</span>
<span style="color: #000000">00095:</span>     <span style="color: #008080">Pair&lt;Integer,Integer&gt;</span> p4 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>Integer<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #993399">92</span><span style="color: #990000">);</span>
<span style="color: #000000">00096:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span> <span style="color: #990000">==</span> p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">));</span>
<span style="color: #000000">00097:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span> <span style="color: #990000">==</span> p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>p2<span style="color: #990000">));</span>
<span style="color: #000000">00098:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span> <span style="color: #990000">&gt;</span>  p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>p3<span style="color: #990000">));</span>
<span style="color: #000000">00099:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span> <span style="color: #990000">&gt;</span>  p1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>p4<span style="color: #990000">));</span>
<span style="color: #000000">00100:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span> <span style="color: #990000">==</span> p2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">));</span>
<span style="color: #000000">00101:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span> <span style="color: #990000">&lt;</span>  p3<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">));</span>
<span style="color: #000000">00102:</span>     Assert<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">assertTrue</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span> <span style="color: #990000">&lt;</span>  p4<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">));</span>
<span style="color: #000000">00103:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Using generic types, the following will not compile.</span></span>
<span style="color: #000000">00104:</span>     <span style="font-style: italic"><span style="color: #9A1900">// try {</span></span>
<span style="color: #000000">00105:</span>     <span style="font-style: italic"><span style="color: #9A1900">//   p1.compareTo(new Object());</span></span>
<span style="color: #000000">00106:</span>     <span style="font-style: italic"><span style="color: #9A1900">//   // compareTo should have thrown exception</span></span>
<span style="color: #000000">00107:</span>     <span style="font-style: italic"><span style="color: #9A1900">//   Assert.fail();</span></span>
<span style="color: #000000">00108:</span>     <span style="font-style: italic"><span style="color: #9A1900">// } catch (ClassCastException e) { }</span></span>
<span style="color: #000000">00109:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00110:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00111:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide050">Testing: Homework 1</a></span><span style="font-weight: normal"><a href="class-01-050.html"> [50/61] </a></span></td></tr></table><p> </p>
        See
        <a href="../lectures/hw-01.html#slide003">here</a>.
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide051">Taxonomy: Why a Taxonomy?</a></span><span style="font-weight: normal"><a href="class-01-051.html"> [51/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Taxonomy = classification
        </p>
        <p xmlns="">
          It is useful to think of classes in terms of
          <i>how they are used</i>.
        </p>
        <p xmlns="">
          We have already seen a basic taxonomy:
        </p>
        <ul xmlns="">
          <li>
            static class
          </li>
          <li>
            object class
          </li>
          <li>
            mixed class
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide052">Taxonomy: Object Classes</a></span><span style="font-weight: normal"><a href="class-01-052.html"> [52/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Much of this class is about giving names to various kinds of
          object classes:
        </p>
        <ul xmlns="">
          <li>
            Decorator classes
          </li>
          <li>
            Observer classes
          </li>
          <li>
            Visitor classes
          </li>
          <li>
            ...
          </li>
        </ul>
        <p xmlns="">
          We now consider three kinds of object class:
        </p>
        <ul xmlns="">
          <li>
            Data classes (immutable and mutable)
          </li>
          <li>
            Builder classes
          </li>
          <li>
            Collection classes
          </li>
        </ul>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide053">Taxonomy: Immutable Data Classes</a></span><span style="font-weight: normal"><a href="class-01-053.html"> [53/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          We already have seen a basic version: <tt>Person</tt>.
        </p>
        <p xmlns="">
          Here is a more robust example:
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/immutabledata/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/immutabledata/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/immutabledata/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/immutabledata/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>immutabledata<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>String<span style="color: #990000">&gt;(</span><span style="color: #993399">42</span><span style="color: #990000">,</span> <span style="color: #FF0000">"dog"</span><span style="color: #990000">));</span>
<span style="color: #000000">00006:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00007:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00008:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/immutabledata/Pair_java.html">file:Pair.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/immutabledata/Pair.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/immutabledata/Pair.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/immutabledata/Pair.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>immutabledata<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Pair</span><span style="color: #990000">&lt;</span>S <span style="color: #008080">extends</span> Comparable<span style="color: #990000">&lt;</span>S<span style="color: #990000">&gt;,</span> T <span style="color: #008080">extends</span> Comparable<span style="color: #990000">&lt;</span>T<span style="color: #990000">&gt;&gt;</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Comparable<span style="color: #990000">&lt;</span>Pair<span style="color: #990000">&lt;</span>S<span style="color: #990000">,</span>T<span style="color: #990000">&gt;&gt;</span>
<span style="color: #000000">00004:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> S _x<span style="color: #990000">;</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> T _y<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">Pair</span></span><span style="color: #990000">(</span><span style="color: #008080">S</span> x<span style="color: #990000">,</span> <span style="color: #008080">T</span> y<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>x <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">||</span> y <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span>
<span style="color: #000000">00009:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalArgumentException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00010:</span>     _x <span style="color: #990000">=</span> x<span style="color: #990000">;</span>
<span style="color: #000000">00011:</span>     _y <span style="color: #990000">=</span> y<span style="color: #990000">;</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">S</span> <span style="font-weight: bold"><span style="color: #000000">first</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _x<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">T</span> <span style="font-weight: bold"><span style="color: #000000">second</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _y<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"Pair("</span> <span style="color: #990000">+</span> _x <span style="color: #990000">+</span> <span style="color: #FF0000">","</span> <span style="color: #990000">+</span> _y <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span><span style="color: #008080">Object</span> thatObject<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00017:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span> <span style="color: #990000">==</span> thatObject<span style="color: #990000">)</span>
<span style="color: #000000">00018:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">true</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>     <span style="font-style: italic"><span style="color: #9A1900">// equals should not throw ClassCastException</span></span>
<span style="color: #000000">00020:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span><span style="font-weight: bold"><span style="color: #0000FF">this</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getClass</span></span><span style="color: #990000">().</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>thatObject<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getClass</span></span><span style="color: #990000">())))</span>
<span style="color: #000000">00021:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">false</span></span><span style="color: #990000">;</span>
<span style="color: #000000">00022:</span>     <span style="color: #008080">Pair</span> that <span style="color: #990000">=</span> <span style="color: #990000">(</span>Pair<span style="color: #990000">)</span> thatObject<span style="color: #990000">;</span>
<span style="color: #000000">00023:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>that<span style="color: #990000">.</span>_x<span style="color: #990000">)</span>
<span style="color: #000000">00024:</span>         <span style="color: #990000">&amp;&amp;</span> _y<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>that<span style="color: #990000">.</span>_y<span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00026:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="color: #009900">int</span> hcode<span style="color: #990000">;</span>
<span style="color: #000000">00027:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00028:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>hcode <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00029:</span>       hcode <span style="color: #990000">=</span> <span style="color: #993399">17</span><span style="color: #990000">;</span>
<span style="color: #000000">00030:</span>       hcode <span style="color: #990000">=</span> <span style="color: #993399">37</span><span style="color: #990000">*</span>hcode <span style="color: #990000">+</span> _x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00031:</span>       hcode <span style="color: #990000">=</span> <span style="color: #993399">37</span><span style="color: #990000">*</span>hcode <span style="color: #990000">+</span> _y<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">hashCode</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00032:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> hcode<span style="color: #990000">;</span>
<span style="color: #000000">00034:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00035:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span><span style="color: #008080">Pair&lt;S,T&gt;</span> that<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00036:</span>     <span style="font-style: italic"><span style="color: #9A1900">// compareTo may throw ClassCastException</span></span>
<span style="color: #000000">00037:</span>     <span style="color: #009900">int</span> ix <span style="color: #990000">=</span> _x<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>that<span style="color: #990000">.</span>_x<span style="color: #990000">);</span>
<span style="color: #000000">00038:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>ix <span style="color: #990000">!=</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
<span style="color: #000000">00039:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> ix<span style="color: #990000">;</span>
<span style="color: #000000">00040:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _y<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">compareTo</span></span><span style="color: #990000">(</span>that<span style="color: #990000">.</span>_y<span style="color: #990000">);</span>
<span style="color: #000000">00041:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00042:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00043:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
(42,dog)
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide054">Taxonomy: Guidelines for Immutable Data Classes</a></span><span style="font-weight: normal"><a href="class-01-054.html"> [54/61] </a></span></td></tr></table><p> </p>
        <ul xmlns="">
          <li>
            Make all fields <tt>final</tt>.
          </li>
          <li>
            Ensure that fields are correctly initialized by
            constructor.
          </li>
          <li>
            Override <tt>equals</tt>, <tt>hashCode</tt> and
            <tt>toString</tt>.
            <ul>
              <li>
                Follow the recipies in Bloch.
              </li>
            </ul>
          </li>
          <li>
            Consider overriding <tt>compareTo</tt>.
            <ul>
              <li>
                Follow the recipies in Bloch.
              </li>
            </ul>
          </li>
        </ul>
        <p xmlns="">
          An instance of an immutable data class is immutable if the
          objects passed into the constructor never change.
        </p>

<pre xmlns="" xml:space="preserve"><tt><span style="color: #008080">Pair</span> p1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Pair</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dog"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"cat"</span><span style="color: #990000">);</span>
<span style="color: #008080">StringBuilder</span> b2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">StringBuilder</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dog"</span><span style="color: #990000">);</span>
<span style="color: #008080">Pair</span> p2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Pair</span></span><span style="color: #990000">(</span>b2<span style="color: #990000">,</span> <span style="color: #FF0000">"cat"</span><span style="color: #990000">);</span>
b2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">append</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"ma"</span><span style="color: #990000">);</span>
<span style="color: #008080">Pair</span> p3 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Pair</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">StringBuilder</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dog"</span><span style="color: #990000">),</span> <span style="color: #FF0000">"cat"</span><span style="color: #990000">);</span>
</tt></pre>

        <p xmlns="">
          Note that <code>p1</code> is immutable, but <code>p2</code>
          is mutable.
        </p>
        <p xmlns="">
          What about <code>p3</code>?
        </p>
        <blockquote><table width="100%"><tr><td><table width="100%" class="title"><tr><td><b>Hashcode Links</b></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www.javapractices.com/Topic28.cjp">Java Practices article</a></p></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://jakarta.apache.org/commons/lang/api/org/apache/commons/lang/builder/HashCodeBuilder.html">Apache HashCodeBuilder</a></p></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www.vipan.com/htdocs/hashcode_help.html">Vipan Singla's comments on hashCode</a></p></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www-106.ibm.com/developerworks/java/library/j-jtp05273.html">Brian Goetz's comments on hashCode</a></p></td></tr></table></td></tr><tr><td><table width="100%" class="item"><tr><td><p class="flush"><a href="http://www.javaworld.com/javaworld/jw-01-1999/jw-01-object-p2.html">Mark Roulo's comments on hashCode</a></p></td></tr></table></td></tr></table></blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide055">Taxonomy: Advantages of Immutable Objects</a></span><span style="font-weight: normal"><a href="class-01-055.html"> [55/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Immutable objects do not change.
        </p>
        <p xmlns="">
          Aliasing does not matter!
        </p>
        <p xmlns="">
          We can freely copy references without fear that the object
          will change.
        </p>
        <p xmlns="">
          This has several corollaries:
        </p>
        <ul xmlns="">
          <li>
            No need to <tt>clone</tt> an immutable object.
          </li>
          <li>
            No need for an exclusive reference (defensive copy) of an
            immutable object.
          </li>
          <li>
            Concurrency presents no difficulties -- see SE552.
          </li>
          <li>
            With extra care <tt>==</tt> and <tt>equals</tt> are
            equivalent -- discussed later.
          </li>
        </ul>
        <p xmlns="">
          <b>Guideline:</b> <i>make all data classes immutable</i>
        </p>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide056">Taxonomy: The Builder Pattern</a></span><span style="font-weight: normal"><a href="class-01-056.html"> [56/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Mutable data classes are useful for building objects
          incrementally.
        </p>
        <p xmlns="">
          This is called the <i>builder</i> pattern.
        </p>
        <p xmlns="">
          A builder is an object that is used to create an object of
          another class.  Usually the builder is used to create
          exactly one other object, then discarded.
        </p>
        <p xmlns="">
          The important part of the following example is
          <tt>toPair</tt>, which converts the mutable class to the
          immutable companion class.
        </p>
<pre xmlns="" xml:space="preserve">
   +------------------------+ &lt;&lt;creates&gt;&gt;  +---------------+
   | PairBuilder            |- - - - - - -&gt;| &lt;&lt;immutable&gt;&gt; |
   +------------------------+              |      Pair     |
   | setFirst(Object):void  |              +---------------+
   | setSecond(Object):void |
   | toPair():Pair          |
   +------------------------+
</pre>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/mutablebasic/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/mutablebasic/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/mutablebasic/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/mutablebasic/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>mutablebasic<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> basics<span style="color: #990000">.</span>immutabledata<span style="color: #990000">.</span>Pair<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00005:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">final</span></span> String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>     <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">PairBuilder&lt;Integer,String&gt;</span> pb1 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> PairBuilder<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>String<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00007:</span>     pb1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setFirst</span></span><span style="color: #990000">(</span><span style="color: #993399">42</span><span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>     pb1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setSecond</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dog"</span><span style="color: #990000">);</span>
<span style="color: #000000">00009:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>pb1<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>     <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">Pair&lt;Integer,String&gt;</span> p1 <span style="color: #990000">=</span> pb1<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toPair</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00011:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>p1<span style="color: #990000">);</span>
<span style="color: #000000">00012:</span>     
<span style="color: #000000">00013:</span>     <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">PairBuilder&lt;Integer,String&gt;</span> pb2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> PairBuilder<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">,</span>String<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00014:</span>     <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="color: #008080">Pair&lt;Integer,String&gt;</span> p2 <span style="color: #990000">=</span> pb2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toPair</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00015:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">PairBuilder</span><span style="color: #990000">&lt;</span>S <span style="color: #008080">extends</span> Comparable<span style="color: #990000">&lt;</span>S<span style="color: #990000">&gt;,</span> T <span style="color: #008080">extends</span> Comparable<span style="color: #990000">&lt;</span>T<span style="color: #990000">&gt;&gt;</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00018:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> S _x<span style="color: #990000">;</span>
<span style="color: #000000">00019:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> T _y<span style="color: #990000">;</span>
<span style="color: #000000">00020:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">PairBuilder</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00021:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setFirst</span></span><span style="color: #990000">(</span><span style="color: #008080">S</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _x <span style="color: #990000">=</span> x<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00022:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setSecond</span></span><span style="color: #990000">(</span><span style="color: #008080">T</span> y<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _y <span style="color: #990000">=</span> y<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00023:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Pair&lt;S,T&gt;</span> <span style="font-weight: bold"><span style="color: #000000">toPair</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00024:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_x <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span> <span style="color: #990000">||</span> _y <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span>
<span style="color: #000000">00025:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">NullPointerException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00026:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Pair<span style="color: #990000">&lt;</span>S<span style="color: #990000">,</span>T<span style="color: #990000">&gt;(</span>_x<span style="color: #990000">,</span>_y<span style="color: #990000">);</span>
<span style="color: #000000">00027:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00028:</span> <span style="color: #FF0000">}</span>    
<span style="color: #000000">00029:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
(42,dog)
(42,dog)
Exception in thread "main" java.lang.NullPointerException
        at basics.mutabledata.MutPair.toPair(Main.java:26)
        at basics.mutabledata.Main.main(Main.java:12)
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide057">Taxonomy: A Builder in the Java APIs</a></span><span style="font-weight: normal"><a href="class-01-057.html"> [57/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/lang/StringBuilder.html">java.lang.StringBuilder</a>
          is a builder for
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/lang/String.html">java.lang.String</a>.
        </p>
<pre xmlns="" xml:space="preserve">
   +---------------------+ &lt;&lt;creates&gt;&gt;  +---------------+
   | StringBuilder        |- - - - - - -&gt;| &lt;&lt;immutable&gt;&gt; |
   +---------------------+              |     String    |
   | append(String):void |              +---------------+
   | toString():String   |
   +---------------------+
</pre>
        <p xmlns="">
          Here is an example, showing the usage:
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/stringbuffer/Main_java.html">file:Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/stringbuffer/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/stringbuffer/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/stringbuffer/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>stringbuffer<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00003:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> <span style="font-weight: bold"><span style="color: #000000">Main</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{}</span>
<span style="color: #000000">00004:</span>   <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00005:</span>     <span style="color: #008080">StringBuilder</span> b <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">StringBuilder</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00006:</span>     b<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">append</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"I am "</span><span style="color: #990000">);</span>
<span style="color: #000000">00007:</span>     b<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">append</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"a dog"</span><span style="color: #990000">);</span>
<span style="color: #000000">00008:</span>     <span style="color: #008080">String</span> s <span style="color: #990000">=</span> b<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00009:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>     b<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">append</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"matic jerk"</span><span style="color: #990000">);</span>
<span style="color: #000000">00011:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span>s<span style="color: #990000">);</span>
<span style="color: #000000">00012:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide058">Taxonomy: Mutable Data Classes</a></span><span style="font-weight: normal"><a href="class-01-058.html"> [58/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Mutable classes that are used as data are a pain.
        </p>
        <p xmlns="">
          Guidelines:
        </p>
        <ul xmlns="">
          <li>
            Always override <tt>toString</tt>.
          </li>
          <li>
            Consider overriding <tt>clone</tt>.
            <ul>
              <li>
                Follow the recipies in Bloch.
              </li>
            </ul>
          </li>
          <li>
            Be careful with <tt>null</tt> references!
          </li>
          <li>
            Be careful when overriding <tt>equals</tt>,
            <tt>hashCode</tt> and <tt>compareTo</tt>.
            <ul>
              <li>
                <tt>hashCode</tt> should depend only on immutable
                attributes.
              </li>
              <li>
                If two objects are <tt>equals</tt>, they must have the
                same <tt>hashCode</tt>.
              </li>
              <li>
                <tt>compareTo</tt> should return <tt>0</tt> exactly
                when <tt>equals</tt> returns <tt>true</tt>.
              </li>
            </ul>
          </li>
        </ul>
        <p xmlns="">
          When dealing with mutable data objects, there are three choices:
        </p>
        <ol xmlns="">
          <li>
            leave equals/hashCode alone and do not override compareTo
          </li>
          <li>
            make equals/hashCode/compareTo rely only on immutable data
          </li>
          <li>
            use dangerous equals/hashCode and hope no-one uses the objects
            as keys in a hash table
          </li>
        </ol>
        <p xmlns="">
          In general, solution 1 is probably the best one.  In homework 1, I
          chose option 2.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/mutabledata/MutPair_java.html">file:MutPair.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/mutabledata/MutPair.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/mutabledata/MutPair.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/mutabledata/MutPair.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>mutabledata<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> basics<span style="color: #990000">.</span>immutabledata<span style="color: #990000">.</span>Pair<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-style: italic"><span style="color: #9A1900">// Do not override equals or hashCode for mutable data.</span></span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">// Do not make mutable data Comparable.</span></span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">MutPair</span><span style="color: #990000">&lt;</span>S<span style="color: #990000">,</span>T<span style="color: #990000">&gt;</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">implements</span></span> Cloneable
<span style="color: #000000">00007:</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00008:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> S _x<span style="color: #990000">;</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> T _y<span style="color: #990000">;</span>
<span style="color: #000000">00010:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">MutPair</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00011:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">MutPair</span></span><span style="color: #990000">(</span><span style="color: #008080">S</span> x<span style="color: #990000">,</span> <span style="color: #008080">T</span> y<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _x <span style="color: #990000">=</span> x<span style="color: #990000">;</span> _y <span style="color: #990000">=</span> y<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00012:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setFirst</span></span><span style="color: #990000">(</span><span style="color: #008080">S</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _x <span style="color: #990000">=</span> x<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00013:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">setSecond</span></span><span style="color: #990000">(</span><span style="color: #008080">T</span> y<span style="color: #990000">)</span> <span style="color: #FF0000">{</span> _y <span style="color: #990000">=</span> y<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">S</span> <span style="font-weight: bold"><span style="color: #000000">first</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _x<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00015:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">T</span> <span style="font-weight: bold"><span style="color: #000000">second</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _y<span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00016:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">String</span> <span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"MutPair("</span> <span style="color: #990000">+</span> _x <span style="color: #990000">+</span> <span style="color: #FF0000">","</span> <span style="color: #990000">+</span> _y <span style="color: #990000">+</span> <span style="color: #FF0000">")"</span><span style="color: #990000">;</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00017:</span>   <span style="font-style: italic"><span style="color: #9A1900">// Clone does not play nice with generics because it returns Object.</span></span>
<span style="color: #000000">00018:</span>   <span style="font-style: italic"><span style="color: #9A1900">// Deep clone is difficult to implement generically because:</span></span>
<span style="color: #000000">00019:</span>   <span style="font-style: italic"><span style="color: #9A1900">// (1) cast to MutPair is allowed, not to MutPair&lt;S,T&gt;; we need the</span></span>
<span style="color: #000000">00020:</span>   <span style="font-style: italic"><span style="color: #9A1900">//     latter in order to get at the fields.</span></span>
<span style="color: #000000">00021:</span>   <span style="font-style: italic"><span style="color: #9A1900">// (2) Cloneable type does not have public clone method, so we</span></span>
<span style="color: #000000">00022:</span>   <span style="font-style: italic"><span style="color: #9A1900">//     cannot call _x.clone() or _y.clone(); this would be true even</span></span>
<span style="color: #000000">00023:</span>   <span style="font-style: italic"><span style="color: #9A1900">//     if we had "MutPair&lt;S extends Cloneable,T extends Cloneable&gt;"</span></span>
<span style="color: #000000">00024:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Object</span> <span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00025:</span>     <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00026:</span>       <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="font-weight: bold"><span style="color: #0000FF">super</span></span><span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">clone</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00027:</span>     <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">CloneNotSupportedException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00028:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">InternalError</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00029:</span>     <span style="color: #FF0000">}</span>
<span style="color: #000000">00030:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00031:</span> <span style="color: #FF0000">}</span>    
<span style="color: #000000">00032:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide059">Taxonomy: Hashing Mutable Data is Dangerous</a></span><span style="font-weight: normal"><a href="class-01-059.html"> [59/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          It is possible to <i>lose</i> mutable values in a hashtable.
        </p>
        <p xmlns="">
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/javase/6/docs/api/java/util/Date.html">java.util.Date</a> is mutable and overrides
          <tt>hashCode</tt>.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/hashmutable/Main_java.html">file:basics/hashmutable/Main.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/hashmutable/Main.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-public/basics/hashmutable/Main.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-private/basics/hashmutable/Main.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>hashmutable<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Date<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>Hashtable<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-style: italic"><span style="color: #9A1900">// example from http://www.vipan.com/htdocs/hashcode_help.html</span></span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">Main</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span> <span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00007:</span>     <span style="color: #008080">Hashtable&lt;Date,String&gt;</span> map <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> Hashtable<span style="color: #990000">&lt;</span>Date<span style="color: #990000">,</span>String<span style="color: #990000">&gt;();</span>
<span style="color: #000000">00008:</span>     <span style="color: #009900">long</span> time <span style="color: #990000">=</span> System<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">currentTimeMillis</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00009:</span>     <span style="color: #008080">Date</span> dt <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Date</span></span><span style="color: #990000">(</span>time<span style="color: #990000">);</span>
<span style="color: #000000">00010:</span>     <span style="color: #008080">Date</span> dt2 <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">Date</span></span><span style="color: #990000">(</span>time<span style="color: #990000">);</span>
<span style="color: #000000">00011:</span>     
<span style="color: #000000">00012:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dt.toString() = "</span> <span style="color: #990000">+</span> dt<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00013:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dt2.toString() = "</span> <span style="color: #990000">+</span> dt2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00014:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Is dt2.equals(dt)? = "</span> <span style="color: #990000">+</span> dt2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>dt<span style="color: #990000">));</span>
<span style="color: #000000">00015:</span>     
<span style="color: #000000">00016:</span>     map<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">put</span></span><span style="color: #990000">(</span>dt<span style="color: #990000">,</span> <span style="color: #FF0000">"blah"</span><span style="color: #990000">);</span>
<span style="color: #000000">00017:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"map.get(dt) = "</span> <span style="color: #990000">+</span> map<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>dt<span style="color: #990000">)</span> <span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"map.get(dt2) = "</span> <span style="color: #990000">+</span> map<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>dt2<span style="color: #990000">)</span> <span style="color: #990000">);</span>
<span style="color: #000000">00019:</span>     
<span style="color: #000000">00020:</span>     <span style="font-style: italic"><span style="color: #9A1900">// Change dt by adding a day to its time</span></span>
<span style="color: #000000">00021:</span>     <span style="color: #009900">long</span> newTime <span style="color: #990000">=</span> time <span style="color: #990000">+</span> <span style="color: #993399">24</span><span style="color: #990000">*</span><span style="color: #993399">60</span><span style="color: #990000">*</span><span style="color: #993399">60</span><span style="color: #990000">*</span><span style="color: #993399">1000</span><span style="color: #990000">;</span>
<span style="color: #000000">00022:</span>     dt<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">setTime</span></span><span style="color: #990000">(</span>newTime<span style="color: #990000">);</span>
<span style="color: #000000">00023:</span>     
<span style="color: #000000">00024:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">After dt.setTime(newTime):"</span><span style="color: #990000">);</span>
<span style="color: #000000">00025:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dt.toString() = "</span> <span style="color: #990000">+</span> dt<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00026:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"dt2.toString() = "</span> <span style="color: #990000">+</span> dt2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">());</span>
<span style="color: #000000">00027:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Is dt2.equals(dt)? = "</span> <span style="color: #990000">+</span> dt2<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">equals</span></span><span style="color: #990000">(</span>dt<span style="color: #990000">));</span>
<span style="color: #000000">00028:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"map.get(dt) = "</span> <span style="color: #990000">+</span> map<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>dt<span style="color: #990000">)</span> <span style="color: #990000">);</span>
<span style="color: #000000">00029:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"map.get(dt2) = "</span> <span style="color: #990000">+</span> map<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span>dt2<span style="color: #990000">)</span> <span style="color: #990000">);</span>
<span style="color: #000000">00030:</span>     
<span style="color: #000000">00031:</span>     System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">map = "</span> <span style="color: #990000">+</span> map<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">toString</span></span><span style="color: #990000">()</span> <span style="color: #990000">);</span>
<span style="color: #000000">00032:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00033:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00034:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" cellpadding="0" cellspacing="0" class="notes"><tr><td>
        <p xmlns="">
          Output is:
        </p>
<pre xmlns="" xml:space="preserve">
dt.toString() = Thu Jan 03 12:46:33 EST 2002
dt2.toString() = Thu Jan 03 12:46:33 EST 2002
Is dt2.equals(dt)? = true
map.get(dt) = blah
map.get(dt2) = blah

After dt.setTime(newTime):
dt.toString() = Fri Jan 04 12:46:33 EST 2002
dt2.toString() = Thu Jan 03 12:46:33 EST 2002
Is dt2.equals(dt)? = false
map.get(dt) = null
map.get(dt2) = null

map = {Fri Jan 04 12:46:33 EST 2002=blah}
</pre>        
      </td></tr></table><p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide060">Taxonomy: Collection Classes</a></span><span style="font-weight: normal"><a href="class-01-060.html"> [60/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          A <i>collection</i> may hold references to many other
          objects.
        </p>
        <p xmlns="">
          Usually the objects are of some uniform type, eg, a list of
          dogs, a set of colors.
        </p>
        <p xmlns="">
          The <tt>java.util</tt> provides several collection classes.
          (See the
          <a xmlns="http://www.w3.org/1999/xhtml" href="http://java.sun.com/docs/books/tutorial/collections/index.html ">java tutorial</a>.)
        </p>
        <p xmlns="">
          We may implement our own collections.  Usually these make
          use of the <tt>java.util</tt> classes.
        </p>
        <p xmlns="">
          In the following example, <tt>IntegerStack</tt>
          <i>delgates</i> most of its responsibilities to
          <tt>List</tt>.
        </p>
        <p xmlns=""> </p><blockquote xmlns="">
<table width="97%">
<tr><td rowspan="1" colspan="1"><table width="100%" class="title"><tr><td rowspan="1" colspan="1"><b><a xmlns="http://www.w3.org/1999/xhtml" href="../code/html/basics/collection/IntegerStack_java.html">file:IntegerStack.java</a> [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/src/basics/collection/IntegerStack.java">source</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-publicbasics/collection/IntegerStack.html">doc-public</a>] [<a xmlns="http://www.w3.org/1999/xhtml" href="../code/doc-privatebasics/collection/IntegerStack.html">doc-private</a>]</b></td></tr></table></td></tr>
<tr><td rowspan="1" colspan="1"><table width="100%" class="code"><tr><td rowspan="1" colspan="1">

<pre xml:space="preserve"><tt><span style="color: #000000">00001:</span> <span style="font-weight: bold"><span style="color: #000080">package</span></span> basics<span style="color: #990000">.</span>collection<span style="color: #990000">;</span>
<span style="color: #000000">00002:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>List<span style="color: #990000">;</span>
<span style="color: #000000">00003:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>ArrayList<span style="color: #990000">;</span>
<span style="color: #000000">00004:</span> <span style="font-weight: bold"><span style="color: #000080">import</span></span> java<span style="color: #990000">.</span>util<span style="color: #990000">.</span>EmptyStackException<span style="color: #990000">;</span>
<span style="color: #000000">00005:</span> <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">IntegerStack</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00006:</span>   <span style="font-weight: bold"><span style="color: #0000FF">final</span></span> <span style="font-weight: bold"><span style="color: #0000FF">private</span></span> List<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">&gt;</span> _l<span style="color: #990000">;</span>
<span style="color: #000000">00007:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #000000">IntegerStack</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> _l <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> ArrayList<span style="color: #990000">&lt;</span>Integer<span style="color: #990000">&gt;();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00008:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">boolean</span> <span style="font-weight: bold"><span style="color: #000000">isEmpty</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span> <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _l<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">isEmpty</span></span><span style="color: #990000">();</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00009:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">push</span></span><span style="color: #990000">(</span><span style="color: #008080">Integer</span> x<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00010:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>x <span style="color: #990000">==</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">)</span>
<span style="color: #000000">00011:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">IllegalArgumentException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00012:</span>     _l<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">add</span></span><span style="color: #990000">(</span>x<span style="color: #990000">);</span>
<span style="color: #000000">00013:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00014:</span>   <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="color: #008080">Integer</span> <span style="font-weight: bold"><span style="color: #000000">pop</span></span><span style="color: #990000">()</span> <span style="color: #FF0000">{</span>
<span style="color: #000000">00015:</span>     <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>_l<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">isEmpty</span></span><span style="color: #990000">())</span>
<span style="color: #000000">00016:</span>       <span style="font-weight: bold"><span style="color: #0000FF">throw</span></span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">EmptyStackException</span></span><span style="color: #990000">();</span>
<span style="color: #000000">00017:</span>     <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> _l<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">remove</span></span><span style="color: #990000">(</span>_l<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">size</span></span><span style="color: #990000">()-</span><span style="color: #993399">1</span><span style="color: #990000">);</span>
<span style="color: #000000">00018:</span>   <span style="color: #FF0000">}</span>
<span style="color: #000000">00019:</span> <span style="color: #FF0000">}</span>
<span style="color: #000000">00020:</span> </tt></pre>

</td></tr></table>
</td></tr></table>
</blockquote>
      <p> </p><table width="100%" class="title"><tr><td><span style="font-weight: bold; font-size: larger"><a name="slide061">Taxonomy: UML representation of Collections</a></span><span style="font-weight: normal"><a href="class-01-061.html"> [61/61] </a></span></td></tr></table><p> </p>
        <p xmlns="">
          Here is a good, abstract drawing:
        </p>
<pre xmlns="" xml:space="preserve">
                           +--------------+     *  +---------+
                           | IntegerStack |&lt;&gt;-----&gt;| Integer |
                           +--------------+        +---------+
</pre>
        <p xmlns="">
          Here is a drawing showing the implementation:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------------+  1     +--------------+     *  +---------+
   |    List      |&lt;----&lt;@&gt;| IntegerStack |&lt;&gt;-----&gt;| Integer |
   +--------------+        +--------------+        +---------+
</pre>
        <p xmlns="">
          More concrete:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------------+  1     +--------------+     *  +---------+
   |  ArrayList   |&lt;----&lt;@&gt;| IntegerStack |&lt;&gt;-----&gt;| Integer |
   +--------------+        +--------------+        +---------+
</pre>
        <p xmlns="">
          Too concrete:
        </p>
<pre xmlns="" xml:space="preserve">
   +--------------+     1  +--------------+     *  +---------+
   | IntegerStack |&lt;@&gt;----&gt;|  ArrayList   |&lt;&gt;-----&gt;| Integer |
   +--------------+        +--------------+        +---------+
</pre>
        <p xmlns="">
          This last diagram obscures the fact that
          <tt>IntegerStack</tt> is a collection of <tt>Integer</tt>s.
        </p>
      <hr/><p class="flush">
      Revised: 2008/09/10 16:46</p></body></html>
